{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":131,"column":0,"index":3996}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../NativeComponent/PlatformBaseViewConfig","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":215},"end":{"line":11,"column":79,"index":294}}],"key":"64Cusg31zWKqpkg7TPfGYiDFzd0="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0]);\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = verifyComponentAttributeEquivalence;\n  exports.getConfigWithoutViewProps = getConfigWithoutViewProps;\n  exports.stringifyViewConfig = stringifyViewConfig;\n  var _PlatformBaseViewConfig = _interopRequireDefault(require(_dependencyMap[1]));\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  var IGNORED_KEYS = ['transform', 'hitSlop'];\n\n  /**\n   * The purpose of this function is to validate that the view config that\n   * native exposes for a given view manager is the same as the view config\n   * that is specified for that view manager in JS.\n   *\n   * In order to improve perf, we want to avoid calling into native to get\n   * the view config when each view manager is used. To do this, we are moving\n   * the configs to JS. In the future we will use these JS based view configs\n   * to codegen the view manager on native to ensure they stay in sync without\n   * this runtime check.\n   *\n   * If this function fails, that likely means a change was made to the native\n   * view manager without updating the JS config as well. Ideally you can make\n   * that direct change to the JS config. If you don't know what the differences\n   * are, the best approach I've found is to create a view that prints\n   * the return value of getNativeComponentAttributes, and then copying that\n   * text and pasting it back into JS:\n   * <Text selectable={true}>{JSON.stringify(getNativeComponentAttributes('RCTView'))}</Text>\n   *\n   * This is meant to be a stopgap until the time comes when we only have a\n   * single source of truth. I wonder if this message will still be here two\n   * years from now...\n   */\n  function verifyComponentAttributeEquivalence(nativeViewConfig, staticViewConfig) {\n    for (var prop of ['validAttributes', 'bubblingEventTypes', 'directEventTypes']) {\n      var diff = Object.keys(lefthandObjectDiff(nativeViewConfig[prop], staticViewConfig[prop]));\n      if (diff.length > 0) {\n        var name = staticViewConfig.uiViewClassName ?? nativeViewConfig.uiViewClassName;\n      }\n    }\n  }\n\n  // Return the different key-value pairs of the right object, by iterating through the keys in the left object\n  // Note it won't return a difference where a key is missing in the left but exists the right.\n  function lefthandObjectDiff(leftObj, rightObj) {\n    var differentKeys = {};\n    function compare(leftItem, rightItem, key) {\n      if (typeof leftItem !== typeof rightItem && leftItem != null) {\n        differentKeys[key] = rightItem;\n        return;\n      }\n      if (typeof leftItem === 'object') {\n        var objDiff = lefthandObjectDiff(leftItem, rightItem);\n        if (Object.keys(objDiff).length > 1) {\n          differentKeys[key] = objDiff;\n        }\n        return;\n      }\n      if (leftItem !== rightItem) {\n        differentKeys[key] = rightItem;\n        return;\n      }\n    }\n    for (var key in leftObj) {\n      if (IGNORED_KEYS.includes(key)) {\n        continue;\n      }\n      if (!rightObj) {\n        differentKeys[key] = {};\n      } else if (leftObj.hasOwnProperty(key)) {\n        compare(leftObj[key], rightObj[key], key);\n      }\n    }\n    return differentKeys;\n  }\n  function getConfigWithoutViewProps(viewConfig, propName) {\n    if (!viewConfig[propName]) {\n      return {};\n    }\n    return Object.keys(viewConfig[propName]).filter(function (prop) {\n      return !_PlatformBaseViewConfig.default[propName][prop];\n    }).reduce(function (obj, prop) {\n      obj[prop] = viewConfig[propName][prop];\n      return obj;\n    }, {});\n  }\n  function stringifyViewConfig(viewConfig) {\n    return JSON.stringify(viewConfig, function (key, val) {\n      if (typeof val === 'function') {\n        return `Æ’ ${val.name}`;\n      }\n      return val;\n    }, 2);\n  }\n});","lineCount":106,"map":[[9,2,11,0],[9,6,11,0,"_PlatformBaseViewConfig"],[9,29,11,0],[9,32,11,0,"_interopRequireDefault"],[9,54,11,0],[9,55,11,0,"require"],[9,62,11,0],[9,63,11,0,"_dependencyMap"],[9,77,11,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[20,2,14,0],[20,6,14,6,"IGNORED_KEYS"],[20,18,14,18],[20,21,14,21],[20,22,14,22],[20,33,14,33],[20,35,14,35],[20,44,14,44],[20,45,14,45],[22,2,16,0],[23,0,17,0],[24,0,18,0],[25,0,19,0],[26,0,20,0],[27,0,21,0],[28,0,22,0],[29,0,23,0],[30,0,24,0],[31,0,25,0],[32,0,26,0],[33,0,27,0],[34,0,28,0],[35,0,29,0],[36,0,30,0],[37,0,31,0],[38,0,32,0],[39,0,33,0],[40,0,34,0],[41,0,35,0],[42,0,36,0],[43,0,37,0],[44,0,38,0],[45,2,39,15],[45,11,39,24,"verifyComponentAttributeEquivalence"],[45,46,39,59,"verifyComponentAttributeEquivalence"],[45,47,40,2,"nativeViewConfig"],[45,63,40,30],[45,65,41,2,"staticViewConfig"],[45,81,41,30],[45,83,42,2],[46,4,43,2],[46,9,43,7],[46,13,43,13,"prop"],[46,17,43,17],[46,21,43,21],[46,22,44,4],[46,39,44,21],[46,41,45,4],[46,61,45,24],[46,63,46,4],[46,81,46,22],[46,82,47,3],[46,84,47,5],[47,6,48,4],[47,10,48,10,"diff"],[47,14,48,14],[47,17,48,17,"Object"],[47,23,48,23],[47,24,48,24,"keys"],[47,28,48,28],[47,29,49,6,"lefthandObjectDiff"],[47,47,49,24],[47,48,49,25,"nativeViewConfig"],[47,64,49,41],[47,65,49,42,"prop"],[47,69,49,46],[47,70,49,47],[47,72,49,49,"staticViewConfig"],[47,88,49,65],[47,89,49,66,"prop"],[47,93,49,70],[47,94,49,71],[47,95,50,4],[47,96,50,5],[48,6,52,4],[48,10,52,8,"diff"],[48,14,52,12],[48,15,52,13,"length"],[48,21,52,19],[48,24,52,22],[48,25,52,23],[48,27,52,25],[49,8,53,6],[49,12,53,12,"name"],[49,16,53,16],[49,19,54,8,"staticViewConfig"],[49,35,54,24],[49,36,54,25,"uiViewClassName"],[49,51,54,40],[49,55,54,44,"nativeViewConfig"],[49,71,54,60],[49,72,54,61,"uiViewClassName"],[49,87,54,76],[50,6,59,4],[51,4,60,2],[52,2,61,0],[54,2,63,0],[55,2,64,0],[56,2,65,0],[56,11,65,9,"lefthandObjectDiff"],[56,29,65,27,"lefthandObjectDiff"],[56,30,65,28,"leftObj"],[56,37,65,43],[56,39,65,45,"rightObj"],[56,47,65,61],[56,49,65,71],[57,4,66,2],[57,8,66,8,"differentKeys"],[57,21,66,46],[57,24,66,49],[57,25,66,50],[57,26,66,51],[58,4,68,2],[58,13,68,11,"compare"],[58,20,68,18,"compare"],[58,21,68,19,"leftItem"],[58,29,68,32],[58,31,68,34,"rightItem"],[58,40,68,48],[58,42,68,50,"key"],[58,45,68,61],[58,47,68,63],[59,6,69,4],[59,10,69,8],[59,17,69,15,"leftItem"],[59,25,69,23],[59,30,69,28],[59,37,69,35,"rightItem"],[59,46,69,44],[59,50,69,48,"leftItem"],[59,58,69,56],[59,62,69,60],[59,66,69,64],[59,68,69,66],[60,8,70,6,"differentKeys"],[60,21,70,19],[60,22,70,20,"key"],[60,25,70,23],[60,26,70,24],[60,29,70,27,"rightItem"],[60,38,70,36],[61,8,71,6],[62,6,72,4],[63,6,74,4],[63,10,74,8],[63,17,74,15,"leftItem"],[63,25,74,23],[63,30,74,28],[63,38,74,36],[63,40,74,38],[64,8,75,6],[64,12,75,12,"objDiff"],[64,19,75,19],[64,22,75,22,"lefthandObjectDiff"],[64,40,75,40],[64,41,75,41,"leftItem"],[64,49,75,49],[64,51,75,51,"rightItem"],[64,60,75,60],[64,61,75,61],[65,8,76,6],[65,12,76,10,"Object"],[65,18,76,16],[65,19,76,17,"keys"],[65,23,76,21],[65,24,76,22,"objDiff"],[65,31,76,29],[65,32,76,30],[65,33,76,31,"length"],[65,39,76,37],[65,42,76,40],[65,43,76,41],[65,45,76,43],[66,10,77,8,"differentKeys"],[66,23,77,21],[66,24,77,22,"key"],[66,27,77,25],[66,28,77,26],[66,31,77,29,"objDiff"],[66,38,77,36],[67,8,78,6],[68,8,79,6],[69,6,80,4],[70,6,82,4],[70,10,82,8,"leftItem"],[70,18,82,16],[70,23,82,21,"rightItem"],[70,32,82,30],[70,34,82,32],[71,8,83,6,"differentKeys"],[71,21,83,19],[71,22,83,20,"key"],[71,25,83,23],[71,26,83,24],[71,29,83,27,"rightItem"],[71,38,83,36],[72,8,84,6],[73,6,85,4],[74,4,86,2],[75,4,88,2],[75,9,88,7],[75,13,88,13,"key"],[75,16,88,16],[75,20,88,20,"leftObj"],[75,27,88,27],[75,29,88,29],[76,6,89,4],[76,10,89,8,"IGNORED_KEYS"],[76,22,89,20],[76,23,89,21,"includes"],[76,31,89,29],[76,32,89,30,"key"],[76,35,89,33],[76,36,89,34],[76,38,89,36],[77,8,90,6],[78,6,91,4],[79,6,93,4],[79,10,93,8],[79,11,93,9,"rightObj"],[79,19,93,17],[79,21,93,19],[80,8,94,6,"differentKeys"],[80,21,94,19],[80,22,94,20,"key"],[80,25,94,23],[80,26,94,24],[80,29,94,27],[80,30,94,28],[80,31,94,29],[81,6,95,4],[81,7,95,5],[81,13,95,11],[81,17,95,15,"leftObj"],[81,24,95,22],[81,25,95,23,"hasOwnProperty"],[81,39,95,37],[81,40,95,38,"key"],[81,43,95,41],[81,44,95,42],[81,46,95,44],[82,8,96,6,"compare"],[82,15,96,13],[82,16,96,14,"leftObj"],[82,23,96,21],[82,24,96,22,"key"],[82,27,96,25],[82,28,96,26],[82,30,96,28,"rightObj"],[82,38,96,36],[82,39,96,37,"key"],[82,42,96,40],[82,43,96,41],[82,45,96,43,"key"],[82,48,96,46],[82,49,96,47],[83,6,97,4],[84,4,98,2],[85,4,100,2],[85,11,100,9,"differentKeys"],[85,24,100,22],[86,2,101,0],[87,2,103,7],[87,11,103,16,"getConfigWithoutViewProps"],[87,36,103,41,"getConfigWithoutViewProps"],[87,37,104,2,"viewConfig"],[87,47,104,24],[87,49,105,2,"propName"],[87,57,105,18],[87,59,106,9],[88,4,107,2],[88,8,107,6],[88,9,107,7,"viewConfig"],[88,19,107,17],[88,20,107,18,"propName"],[88,28,107,26],[88,29,107,27],[88,31,107,29],[89,6,108,4],[89,13,108,11],[89,14,108,12],[89,15,108,13],[90,4,109,2],[91,4,111,2],[91,11,111,9,"Object"],[91,17,111,15],[91,18,111,16,"keys"],[91,22,111,20],[91,23,111,21,"viewConfig"],[91,33,111,31],[91,34,111,32,"propName"],[91,42,111,40],[91,43,111,41],[91,44,111,42],[91,45,112,5,"filter"],[91,51,112,11],[91,52,112,12],[91,62,112,12,"prop"],[91,66,112,16],[92,6,112,16],[92,13,112,20],[92,14,112,21,"PlatformBaseViewConfig"],[92,45,112,43],[92,46,112,44,"propName"],[92,54,112,52],[92,55,112,53],[92,56,112,54,"prop"],[92,60,112,58],[92,61,112,59],[93,4,112,59],[93,6,112,60],[93,7,113,5,"reduce"],[93,13,113,11],[93,14,113,29],[93,24,113,30,"obj"],[93,27,113,33],[93,29,113,35,"prop"],[93,33,113,39],[93,35,113,44],[94,6,114,6,"obj"],[94,9,114,9],[94,10,114,10,"prop"],[94,14,114,14],[94,15,114,15],[94,18,114,18,"viewConfig"],[94,28,114,28],[94,29,114,29,"propName"],[94,37,114,37],[94,38,114,38],[94,39,114,39,"prop"],[94,43,114,43],[94,44,114,44],[95,6,115,6],[95,13,115,13,"obj"],[95,16,115,16],[96,4,116,4],[96,5,116,5],[96,7,116,7],[96,8,116,8],[96,9,116,9],[96,10,116,10],[97,2,117,0],[98,2,119,7],[98,11,119,16,"stringifyViewConfig"],[98,30,119,35,"stringifyViewConfig"],[98,31,119,36,"viewConfig"],[98,41,119,51],[98,43,119,61],[99,4,120,2],[99,11,120,9,"JSON"],[99,15,120,13],[99,16,120,14,"stringify"],[99,25,120,23],[99,26,121,4,"viewConfig"],[99,36,121,14],[99,38,122,4],[99,48,122,5,"key"],[99,51,122,8],[99,53,122,10,"val"],[99,56,122,13],[99,58,122,18],[100,6,123,6],[100,10,123,10],[100,17,123,17,"val"],[100,20,123,20],[100,25,123,25],[100,35,123,35],[100,37,123,37],[101,8,124,8],[101,15,124,15],[101,20,124,20,"val"],[101,23,124,23],[101,24,124,24,"name"],[101,28,124,28],[101,30,124,30],[102,6,125,6],[103,6,126,6],[103,13,126,13,"val"],[103,16,126,16],[104,4,127,4],[104,5,127,5],[104,7,128,4],[104,8,129,2],[104,9,129,3],[105,2,130,0],[106,0,130,1]],"functionMap":{"names":["<global>","verifyComponentAttributeEquivalence","lefthandObjectDiff","compare","getConfigWithoutViewProps","Object.keys.filter$argument_0","Object.keys.filter.reduce$argument_0","stringifyViewConfig","JSON.stringify$argument_1"],"mappings":"AAA;eCsC;CDsB;AEI;ECG;GDkB;CFe;OIE;YCS,+CD;6BEC;KFG;CJC;OOE;ICG;KDK;CPG"}},"type":"js/module"}]}