{"dependencies":[{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEventEmitter;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Hook to manage the event system used by the navigator to notify screens of various events.\n   */\n  function useEventEmitter(listen) {\n    const listenRef = React.useRef(listen);\n    React.useEffect(() => {\n      listenRef.current = listen;\n    });\n    const listeners = React.useRef(Object.create(null));\n    const create = React.useCallback(target => {\n      const removeListener = (type, callback) => {\n        const callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n        if (!callbacks) {\n          return;\n        }\n        const index = callbacks.indexOf(callback);\n        if (index > -1) {\n          callbacks.splice(index, 1);\n        }\n      };\n      const addListener = (type, callback) => {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        let removed = false;\n        return () => {\n          // Prevent removing other listeners when unsubscribing same listener multiple times\n          if (!removed) {\n            removed = true;\n            removeListener(type, callback);\n          }\n        };\n      };\n      return {\n        addListener,\n        removeListener\n      };\n    }, []);\n    const emit = React.useCallback(_ref => {\n      var _items$target, _listenRef$current;\n      let {\n        type,\n        data,\n        target,\n        canPreventDefault\n      } = _ref;\n      const items = listeners.current[type] || {};\n\n      // Copy the current list of callbacks in case they are mutated during execution\n      const callbacks = target !== undefined ? (_items$target = items[target]) === null || _items$target === void 0 ? void 0 : _items$target.slice() : [].concat(...Object.keys(items).map(t => items[t])).filter((cb, i, self) => self.lastIndexOf(cb) === i);\n      const event = {\n        get type() {\n          return type;\n        }\n      };\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get() {\n            return target;\n          }\n        });\n      }\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get() {\n            return data;\n          }\n        });\n      }\n      if (canPreventDefault) {\n        let defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n      (_listenRef$current = listenRef.current) === null || _listenRef$current === void 0 ? void 0 : _listenRef$current.call(listenRef, event);\n      callbacks === null || callbacks === void 0 ? void 0 : callbacks.forEach(cb => cb(event));\n      return event;\n    }, []);\n    return React.useMemo(() => ({\n      create,\n      emit\n    }), [create, emit]);\n  }\n});","lineCount":105,"map":[[6,2,1,0],[6,6,1,0,"React"],[6,11,1,0],[6,14,1,0,"_interopRequireWildcard"],[6,37,1,0],[6,38,1,0,"require"],[6,45,1,0],[6,46,1,0,"_dependencyMap"],[6,60,1,0],[7,2,1,31],[7,11,1,31,"_interopRequireWildcard"],[7,35,1,31,"e"],[7,36,1,31],[7,38,1,31,"t"],[7,39,1,31],[7,68,1,31,"WeakMap"],[7,75,1,31],[7,81,1,31,"r"],[7,82,1,31],[7,89,1,31,"WeakMap"],[7,96,1,31],[7,100,1,31,"n"],[7,101,1,31],[7,108,1,31,"WeakMap"],[7,115,1,31],[7,127,1,31,"_interopRequireWildcard"],[7,150,1,31],[7,162,1,31,"_interopRequireWildcard"],[7,163,1,31,"e"],[7,164,1,31],[7,166,1,31,"t"],[7,167,1,31],[7,176,1,31,"t"],[7,177,1,31],[7,181,1,31,"e"],[7,182,1,31],[7,186,1,31,"e"],[7,187,1,31],[7,188,1,31,"__esModule"],[7,198,1,31],[7,207,1,31,"e"],[7,208,1,31],[7,214,1,31,"o"],[7,215,1,31],[7,217,1,31,"i"],[7,218,1,31],[7,220,1,31,"f"],[7,221,1,31],[7,226,1,31,"__proto__"],[7,235,1,31],[7,243,1,31,"default"],[7,250,1,31],[7,252,1,31,"e"],[7,253,1,31],[7,270,1,31,"e"],[7,271,1,31],[7,294,1,31,"e"],[7,295,1,31],[7,320,1,31,"e"],[7,321,1,31],[7,330,1,31,"f"],[7,331,1,31],[7,337,1,31,"o"],[7,338,1,31],[7,341,1,31,"t"],[7,342,1,31],[7,345,1,31,"n"],[7,346,1,31],[7,349,1,31,"r"],[7,350,1,31],[7,358,1,31,"o"],[7,359,1,31],[7,360,1,31,"has"],[7,363,1,31],[7,364,1,31,"e"],[7,365,1,31],[7,375,1,31,"o"],[7,376,1,31],[7,377,1,31,"get"],[7,380,1,31],[7,381,1,31,"e"],[7,382,1,31],[7,385,1,31,"o"],[7,386,1,31],[7,387,1,31,"set"],[7,390,1,31],[7,391,1,31,"e"],[7,392,1,31],[7,394,1,31,"f"],[7,395,1,31],[7,411,1,31,"t"],[7,412,1,31],[7,416,1,31,"e"],[7,417,1,31],[7,433,1,31,"t"],[7,434,1,31],[7,441,1,31,"hasOwnProperty"],[7,455,1,31],[7,456,1,31,"call"],[7,460,1,31],[7,461,1,31,"e"],[7,462,1,31],[7,464,1,31,"t"],[7,465,1,31],[7,472,1,31,"i"],[7,473,1,31],[7,477,1,31,"o"],[7,478,1,31],[7,481,1,31,"Object"],[7,487,1,31],[7,488,1,31,"defineProperty"],[7,502,1,31],[7,507,1,31,"Object"],[7,513,1,31],[7,514,1,31,"getOwnPropertyDescriptor"],[7,538,1,31],[7,539,1,31,"e"],[7,540,1,31],[7,542,1,31,"t"],[7,543,1,31],[7,550,1,31,"i"],[7,551,1,31],[7,552,1,31,"get"],[7,555,1,31],[7,559,1,31,"i"],[7,560,1,31],[7,561,1,31,"set"],[7,564,1,31],[7,568,1,31,"o"],[7,569,1,31],[7,570,1,31,"f"],[7,571,1,31],[7,573,1,31,"t"],[7,574,1,31],[7,576,1,31,"i"],[7,577,1,31],[7,581,1,31,"f"],[7,582,1,31],[7,583,1,31,"t"],[7,584,1,31],[7,588,1,31,"e"],[7,589,1,31],[7,590,1,31,"t"],[7,591,1,31],[7,602,1,31,"f"],[7,603,1,31],[7,608,1,31,"e"],[7,609,1,31],[7,611,1,31,"t"],[7,612,1,31],[8,2,2,0],[9,0,3,0],[10,0,4,0],[11,2,5,15],[11,11,5,24,"useEventEmitter"],[11,26,5,39,"useEventEmitter"],[11,27,5,40,"listen"],[11,33,5,46],[11,35,5,48],[12,4,6,2],[12,10,6,8,"listenRef"],[12,19,6,17],[12,22,6,20,"React"],[12,27,6,25],[12,28,6,26,"useRef"],[12,34,6,32],[12,35,6,33,"listen"],[12,41,6,39],[12,42,6,40],[13,4,7,2,"React"],[13,9,7,7],[13,10,7,8,"useEffect"],[13,19,7,17],[13,20,7,18],[13,26,7,24],[14,6,8,4,"listenRef"],[14,15,8,13],[14,16,8,14,"current"],[14,23,8,21],[14,26,8,24,"listen"],[14,32,8,30],[15,4,9,2],[15,5,9,3],[15,6,9,4],[16,4,10,2],[16,10,10,8,"listeners"],[16,19,10,17],[16,22,10,20,"React"],[16,27,10,25],[16,28,10,26,"useRef"],[16,34,10,32],[16,35,10,33,"Object"],[16,41,10,39],[16,42,10,40,"create"],[16,48,10,46],[16,49,10,47],[16,53,10,51],[16,54,10,52],[16,55,10,53],[17,4,11,2],[17,10,11,8,"create"],[17,16,11,14],[17,19,11,17,"React"],[17,24,11,22],[17,25,11,23,"useCallback"],[17,36,11,34],[17,37,11,35,"target"],[17,43,11,41],[17,47,11,45],[18,6,12,4],[18,12,12,10,"removeListener"],[18,26,12,24],[18,29,12,27,"removeListener"],[18,30,12,28,"type"],[18,34,12,32],[18,36,12,34,"callback"],[18,44,12,42],[18,49,12,47],[19,8,13,6],[19,14,13,12,"callbacks"],[19,23,13,21],[19,26,13,24,"listeners"],[19,35,13,33],[19,36,13,34,"current"],[19,43,13,41],[19,44,13,42,"type"],[19,48,13,46],[19,49,13,47],[19,52,13,50,"listeners"],[19,61,13,59],[19,62,13,60,"current"],[19,69,13,67],[19,70,13,68,"type"],[19,74,13,72],[19,75,13,73],[19,76,13,74,"target"],[19,82,13,80],[19,83,13,81],[19,86,13,84,"undefined"],[19,95,13,93],[20,8,14,6],[20,12,14,10],[20,13,14,11,"callbacks"],[20,22,14,20],[20,24,14,22],[21,10,15,8],[22,8,16,6],[23,8,17,6],[23,14,17,12,"index"],[23,19,17,17],[23,22,17,20,"callbacks"],[23,31,17,29],[23,32,17,30,"indexOf"],[23,39,17,37],[23,40,17,38,"callback"],[23,48,17,46],[23,49,17,47],[24,8,18,6],[24,12,18,10,"index"],[24,17,18,15],[24,20,18,18],[24,21,18,19],[24,22,18,20],[24,24,18,22],[25,10,19,8,"callbacks"],[25,19,19,17],[25,20,19,18,"splice"],[25,26,19,24],[25,27,19,25,"index"],[25,32,19,30],[25,34,19,32],[25,35,19,33],[25,36,19,34],[26,8,20,6],[27,6,21,4],[27,7,21,5],[28,6,22,4],[28,12,22,10,"addListener"],[28,23,22,21],[28,26,22,24,"addListener"],[28,27,22,25,"type"],[28,31,22,29],[28,33,22,31,"callback"],[28,41,22,39],[28,46,22,44],[29,8,23,6,"listeners"],[29,17,23,15],[29,18,23,16,"current"],[29,25,23,23],[29,26,23,24,"type"],[29,30,23,28],[29,31,23,29],[29,34,23,32,"listeners"],[29,43,23,41],[29,44,23,42,"current"],[29,51,23,49],[29,52,23,50,"type"],[29,56,23,54],[29,57,23,55],[29,61,23,59],[29,62,23,60],[29,63,23,61],[30,8,24,6,"listeners"],[30,17,24,15],[30,18,24,16,"current"],[30,25,24,23],[30,26,24,24,"type"],[30,30,24,28],[30,31,24,29],[30,32,24,30,"target"],[30,38,24,36],[30,39,24,37],[30,42,24,40,"listeners"],[30,51,24,49],[30,52,24,50,"current"],[30,59,24,57],[30,60,24,58,"type"],[30,64,24,62],[30,65,24,63],[30,66,24,64,"target"],[30,72,24,70],[30,73,24,71],[30,77,24,75],[30,79,24,77],[31,8,25,6,"listeners"],[31,17,25,15],[31,18,25,16,"current"],[31,25,25,23],[31,26,25,24,"type"],[31,30,25,28],[31,31,25,29],[31,32,25,30,"target"],[31,38,25,36],[31,39,25,37],[31,40,25,38,"push"],[31,44,25,42],[31,45,25,43,"callback"],[31,53,25,51],[31,54,25,52],[32,8,26,6],[32,12,26,10,"removed"],[32,19,26,17],[32,22,26,20],[32,27,26,25],[33,8,27,6],[33,15,27,13],[33,21,27,19],[34,10,28,8],[35,10,29,8],[35,14,29,12],[35,15,29,13,"removed"],[35,22,29,20],[35,24,29,22],[36,12,30,10,"removed"],[36,19,30,17],[36,22,30,20],[36,26,30,24],[37,12,31,10,"removeListener"],[37,26,31,24],[37,27,31,25,"type"],[37,31,31,29],[37,33,31,31,"callback"],[37,41,31,39],[37,42,31,40],[38,10,32,8],[39,8,33,6],[39,9,33,7],[40,6,34,4],[40,7,34,5],[41,6,35,4],[41,13,35,11],[42,8,36,6,"addListener"],[42,19,36,17],[43,8,37,6,"removeListener"],[44,6,38,4],[44,7,38,5],[45,4,39,2],[45,5,39,3],[45,7,39,5],[45,9,39,7],[45,10,39,8],[46,4,40,2],[46,10,40,8,"emit"],[46,14,40,12],[46,17,40,15,"React"],[46,22,40,20],[46,23,40,21,"useCallback"],[46,34,40,32],[46,35,40,33,"_ref"],[46,39,40,37],[46,43,40,41],[47,6,41,4],[47,10,41,8,"_items$target"],[47,23,41,21],[47,25,41,23,"_listenRef$current"],[47,43,41,41],[48,6,42,4],[48,10,42,8],[49,8,43,6,"type"],[49,12,43,10],[50,8,44,6,"data"],[50,12,44,10],[51,8,45,6,"target"],[51,14,45,12],[52,8,46,6,"canPreventDefault"],[53,6,47,4],[53,7,47,5],[53,10,47,8,"_ref"],[53,14,47,12],[54,6,48,4],[54,12,48,10,"items"],[54,17,48,15],[54,20,48,18,"listeners"],[54,29,48,27],[54,30,48,28,"current"],[54,37,48,35],[54,38,48,36,"type"],[54,42,48,40],[54,43,48,41],[54,47,48,45],[54,48,48,46],[54,49,48,47],[56,6,50,4],[57,6,51,4],[57,12,51,10,"callbacks"],[57,21,51,19],[57,24,51,22,"target"],[57,30,51,28],[57,35,51,33,"undefined"],[57,44,51,42],[57,47,51,45],[57,48,51,46,"_items$target"],[57,61,51,59],[57,64,51,62,"items"],[57,69,51,67],[57,70,51,68,"target"],[57,76,51,74],[57,77,51,75],[57,83,51,81],[57,87,51,85],[57,91,51,89,"_items$target"],[57,104,51,102],[57,109,51,107],[57,114,51,112],[57,115,51,113],[57,118,51,116],[57,123,51,121],[57,124,51,122],[57,127,51,125,"_items$target"],[57,140,51,138],[57,141,51,139,"slice"],[57,146,51,144],[57,147,51,145],[57,148,51,146],[57,151,51,149],[57,153,51,151],[57,154,51,152,"concat"],[57,160,51,158],[57,161,51,159],[57,164,51,162,"Object"],[57,170,51,168],[57,171,51,169,"keys"],[57,175,51,173],[57,176,51,174,"items"],[57,181,51,179],[57,182,51,180],[57,183,51,181,"map"],[57,186,51,184],[57,187,51,185,"t"],[57,188,51,186],[57,192,51,190,"items"],[57,197,51,195],[57,198,51,196,"t"],[57,199,51,197],[57,200,51,198],[57,201,51,199],[57,202,51,200],[57,203,51,201,"filter"],[57,209,51,207],[57,210,51,208],[57,211,51,209,"cb"],[57,213,51,211],[57,215,51,213,"i"],[57,216,51,214],[57,218,51,216,"self"],[57,222,51,220],[57,227,51,225,"self"],[57,231,51,229],[57,232,51,230,"lastIndexOf"],[57,243,51,241],[57,244,51,242,"cb"],[57,246,51,244],[57,247,51,245],[57,252,51,250,"i"],[57,253,51,251],[57,254,51,252],[58,6,52,4],[58,12,52,10,"event"],[58,17,52,15],[58,20,52,18],[59,8,53,6],[59,12,53,10,"type"],[59,16,53,14,"type"],[59,17,53,14],[59,19,53,17],[60,10,54,8],[60,17,54,15,"type"],[60,21,54,19],[61,8,55,6],[62,6,56,4],[62,7,56,5],[63,6,57,4],[63,10,57,8,"target"],[63,16,57,14],[63,21,57,19,"undefined"],[63,30,57,28],[63,32,57,30],[64,8,58,6,"Object"],[64,14,58,12],[64,15,58,13,"defineProperty"],[64,29,58,27],[64,30,58,28,"event"],[64,35,58,33],[64,37,58,35],[64,45,58,43],[64,47,58,45],[65,10,59,8,"enumerable"],[65,20,59,18],[65,22,59,20],[65,26,59,24],[66,10,60,8,"get"],[66,13,60,11,"get"],[66,14,60,11],[66,16,60,14],[67,12,61,10],[67,19,61,17,"target"],[67,25,61,23],[68,10,62,8],[69,8,63,6],[69,9,63,7],[69,10,63,8],[70,6,64,4],[71,6,65,4],[71,10,65,8,"data"],[71,14,65,12],[71,19,65,17,"undefined"],[71,28,65,26],[71,30,65,28],[72,8,66,6,"Object"],[72,14,66,12],[72,15,66,13,"defineProperty"],[72,29,66,27],[72,30,66,28,"event"],[72,35,66,33],[72,37,66,35],[72,43,66,41],[72,45,66,43],[73,10,67,8,"enumerable"],[73,20,67,18],[73,22,67,20],[73,26,67,24],[74,10,68,8,"get"],[74,13,68,11,"get"],[74,14,68,11],[74,16,68,14],[75,12,69,10],[75,19,69,17,"data"],[75,23,69,21],[76,10,70,8],[77,8,71,6],[77,9,71,7],[77,10,71,8],[78,6,72,4],[79,6,73,4],[79,10,73,8,"canPreventDefault"],[79,27,73,25],[79,29,73,27],[80,8,74,6],[80,12,74,10,"defaultPrevented"],[80,28,74,26],[80,31,74,29],[80,36,74,34],[81,8,75,6,"Object"],[81,14,75,12],[81,15,75,13,"defineProperties"],[81,31,75,29],[81,32,75,30,"event"],[81,37,75,35],[81,39,75,37],[82,10,76,8,"defaultPrevented"],[82,26,76,24],[82,28,76,26],[83,12,77,10,"enumerable"],[83,22,77,20],[83,24,77,22],[83,28,77,26],[84,12,78,10,"get"],[84,15,78,13,"get"],[84,16,78,13],[84,18,78,16],[85,14,79,12],[85,21,79,19,"defaultPrevented"],[85,37,79,35],[86,12,80,10],[87,10,81,8],[87,11,81,9],[88,10,82,8,"preventDefault"],[88,24,82,22],[88,26,82,24],[89,12,83,10,"enumerable"],[89,22,83,20],[89,24,83,22],[89,28,83,26],[90,12,84,10,"value"],[90,17,84,15,"value"],[90,18,84,15],[90,20,84,18],[91,14,85,12,"defaultPrevented"],[91,30,85,28],[91,33,85,31],[91,37,85,35],[92,12,86,10],[93,10,87,8],[94,8,88,6],[94,9,88,7],[94,10,88,8],[95,6,89,4],[96,6,90,4],[96,7,90,5,"_listenRef$current"],[96,25,90,23],[96,28,90,26,"listenRef"],[96,37,90,35],[96,38,90,36,"current"],[96,45,90,43],[96,51,90,49],[96,55,90,53],[96,59,90,57,"_listenRef$current"],[96,77,90,75],[96,82,90,80],[96,87,90,85],[96,88,90,86],[96,91,90,89],[96,96,90,94],[96,97,90,95],[96,100,90,98,"_listenRef$current"],[96,118,90,116],[96,119,90,117,"call"],[96,123,90,121],[96,124,90,122,"listenRef"],[96,133,90,131],[96,135,90,133,"event"],[96,140,90,138],[96,141,90,139],[97,6,91,4,"callbacks"],[97,15,91,13],[97,20,91,18],[97,24,91,22],[97,28,91,26,"callbacks"],[97,37,91,35],[97,42,91,40],[97,47,91,45],[97,48,91,46],[97,51,91,49],[97,56,91,54],[97,57,91,55],[97,60,91,58,"callbacks"],[97,69,91,67],[97,70,91,68,"forEach"],[97,77,91,75],[97,78,91,76,"cb"],[97,80,91,78],[97,84,91,82,"cb"],[97,86,91,84],[97,87,91,85,"event"],[97,92,91,90],[97,93,91,91],[97,94,91,92],[98,6,92,4],[98,13,92,11,"event"],[98,18,92,16],[99,4,93,2],[99,5,93,3],[99,7,93,5],[99,9,93,7],[99,10,93,8],[100,4,94,2],[100,11,94,9,"React"],[100,16,94,14],[100,17,94,15,"useMemo"],[100,24,94,22],[100,25,94,23],[100,32,94,30],[101,6,95,4,"create"],[101,12,95,10],[102,6,96,4,"emit"],[103,4,97,2],[103,5,97,3],[103,6,97,4],[103,8,97,6],[103,9,97,7,"create"],[103,15,97,13],[103,17,97,15,"emit"],[103,21,97,19],[103,22,97,20],[103,23,97,21],[104,2,98,0],[105,0,98,1]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","create","removeListener","addListener","<anonymous>","emit","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","callbacks.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;eCI;kBCE;GDE;mCEE;2BCC;KDS;wBEC;aCK;ODM;KFC;GFK;iCMC;yLCW,aD,UE,2CF;MGE;OHE;QIK;SJE;QIM;SJE;UKQ;WLE;UMI;WNE;4EOK,eP;GNE;uBcC;IdG;CDC"}},"type":"js/module"}]}