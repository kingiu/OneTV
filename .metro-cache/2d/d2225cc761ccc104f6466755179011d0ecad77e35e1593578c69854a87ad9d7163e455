{"dependencies":[{"name":"../modules/symbolicateStackTrace","data":{"asyncType":null,"locs":[{"start":{"line":14,"column":48,"index":540},"end":{"line":14,"column":91,"index":583}}],"key":"Z3Jfskz726i1mYhX/BIyoi1+fQo="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  /**\n   * Copyright (c) 650 Industries.\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.symbolicate = exports.deleteStack = void 0;\n  const symbolicateStackTrace_1 = __importDefault(require(_dependencyMap[0], \"../modules/symbolicateStackTrace\"));\n  const cache = new Map();\n  /**\n   * Sanitize because sometimes, `symbolicateStackTrace` gives us invalid values.\n   */\n  const sanitize = _ref => {\n    let {\n      stack: maybeStack,\n      codeFrame\n    } = _ref;\n    if (!Array.isArray(maybeStack)) {\n      throw new Error('Expected stack to be an array.');\n    }\n    const stack = [];\n    for (const maybeFrame of maybeStack) {\n      let collapse = false;\n      if ('collapse' in maybeFrame) {\n        if (typeof maybeFrame.collapse !== 'boolean') {\n          throw new Error('Expected stack frame `collapse` to be a boolean.');\n        }\n        collapse = maybeFrame.collapse;\n      }\n      stack.push({\n        arguments: [],\n        column: maybeFrame.column,\n        file: maybeFrame.file,\n        lineNumber: maybeFrame.lineNumber,\n        methodName: maybeFrame.methodName,\n        collapse\n      });\n    }\n    return {\n      stack,\n      codeFrame\n    };\n  };\n  function deleteStack(stack) {\n    cache.delete(stack);\n  }\n  exports.deleteStack = deleteStack;\n  function symbolicate(stack) {\n    let promise = cache.get(stack);\n    if (promise == null) {\n      promise = (0, symbolicateStackTrace_1.default)(stack).then(sanitize);\n      cache.set(stack, promise);\n    }\n    return promise;\n  }\n  exports.symbolicate = symbolicate;\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[5,0,3,0],[6,0,4,0],[7,0,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,2,9,0],[11,6,9,4,"__importDefault"],[11,21,9,19],[11,24,9,23],[11,28,9,27],[11,32,9,31],[11,36,9,35],[11,37,9,36,"__importDefault"],[11,52,9,51],[11,56,9,56],[11,66,9,66,"mod"],[11,69,9,69],[11,71,9,71],[12,4,10,4],[12,11,10,12,"mod"],[12,14,10,15],[12,18,10,19,"mod"],[12,21,10,22],[12,22,10,23,"__esModule"],[12,32,10,33],[12,35,10,37,"mod"],[12,38,10,40],[12,41,10,43],[13,6,10,45],[13,15,10,54],[13,17,10,56,"mod"],[14,4,10,60],[14,5,10,61],[15,2,11,0],[15,3,11,1],[16,2,12,0,"Object"],[16,8,12,6],[16,9,12,7,"defineProperty"],[16,23,12,21],[16,24,12,22,"exports"],[16,31,12,29],[16,33,12,31],[16,45,12,43],[16,47,12,45],[17,4,12,47,"value"],[17,9,12,52],[17,11,12,54],[18,2,12,59],[18,3,12,60],[18,4,12,61],[19,2,13,0,"exports"],[19,9,13,7],[19,10,13,8,"symbolicate"],[19,21,13,19],[19,24,13,22,"exports"],[19,31,13,29],[19,32,13,30,"deleteStack"],[19,43,13,41],[19,46,13,44],[19,51,13,49],[19,52,13,50],[20,2,14,0],[20,8,14,6,"symbolicateStackTrace_1"],[20,31,14,29],[20,34,14,32,"__importDefault"],[20,49,14,47],[20,50,14,48,"require"],[20,57,14,55],[20,58,14,55,"_dependencyMap"],[20,72,14,55],[20,111,14,90],[20,112,14,91],[20,113,14,92],[21,2,15,0],[21,8,15,6,"cache"],[21,13,15,11],[21,16,15,14],[21,20,15,18,"Map"],[21,23,15,21],[21,24,15,22],[21,25,15,23],[22,2,16,0],[23,0,17,0],[24,0,18,0],[25,2,19,0],[25,8,19,6,"sanitize"],[25,16,19,14],[25,19,19,17,"_ref"],[25,23,19,17],[25,27,19,56],[26,4,19,56],[26,8,19,18],[27,6,19,20,"stack"],[27,11,19,25],[27,13,19,27,"maybeStack"],[27,23,19,37],[28,6,19,39,"codeFrame"],[29,4,19,50],[29,5,19,51],[29,8,19,51,"_ref"],[29,12,19,51],[30,4,20,4],[30,8,20,8],[30,9,20,9,"Array"],[30,14,20,14],[30,15,20,15,"isArray"],[30,22,20,22],[30,23,20,23,"maybeStack"],[30,33,20,33],[30,34,20,34],[30,36,20,36],[31,6,21,8],[31,12,21,14],[31,16,21,18,"Error"],[31,21,21,23],[31,22,21,24],[31,54,21,56],[31,55,21,57],[32,4,22,4],[33,4,23,4],[33,10,23,10,"stack"],[33,15,23,15],[33,18,23,18],[33,20,23,20],[34,4,24,4],[34,9,24,9],[34,15,24,15,"maybeFrame"],[34,25,24,25],[34,29,24,29,"maybeStack"],[34,39,24,39],[34,41,24,41],[35,6,25,8],[35,10,25,12,"collapse"],[35,18,25,20],[35,21,25,23],[35,26,25,28],[36,6,26,8],[36,10,26,12],[36,20,26,22],[36,24,26,26,"maybeFrame"],[36,34,26,36],[36,36,26,38],[37,8,27,12],[37,12,27,16],[37,19,27,23,"maybeFrame"],[37,29,27,33],[37,30,27,34,"collapse"],[37,38,27,42],[37,43,27,47],[37,52,27,56],[37,54,27,58],[38,10,28,16],[38,16,28,22],[38,20,28,26,"Error"],[38,25,28,31],[38,26,28,32],[38,76,28,82],[38,77,28,83],[39,8,29,12],[40,8,30,12,"collapse"],[40,16,30,20],[40,19,30,23,"maybeFrame"],[40,29,30,33],[40,30,30,34,"collapse"],[40,38,30,42],[41,6,31,8],[42,6,32,8,"stack"],[42,11,32,13],[42,12,32,14,"push"],[42,16,32,18],[42,17,32,19],[43,8,33,12,"arguments"],[43,17,33,21],[43,19,33,23],[43,21,33,25],[44,8,34,12,"column"],[44,14,34,18],[44,16,34,20,"maybeFrame"],[44,26,34,30],[44,27,34,31,"column"],[44,33,34,37],[45,8,35,12,"file"],[45,12,35,16],[45,14,35,18,"maybeFrame"],[45,24,35,28],[45,25,35,29,"file"],[45,29,35,33],[46,8,36,12,"lineNumber"],[46,18,36,22],[46,20,36,24,"maybeFrame"],[46,30,36,34],[46,31,36,35,"lineNumber"],[46,41,36,45],[47,8,37,12,"methodName"],[47,18,37,22],[47,20,37,24,"maybeFrame"],[47,30,37,34],[47,31,37,35,"methodName"],[47,41,37,45],[48,8,38,12,"collapse"],[49,6,39,8],[49,7,39,9],[49,8,39,10],[50,4,40,4],[51,4,41,4],[51,11,41,11],[52,6,41,13,"stack"],[52,11,41,18],[53,6,41,20,"codeFrame"],[54,4,41,30],[54,5,41,31],[55,2,42,0],[55,3,42,1],[56,2,43,0],[56,11,43,9,"deleteStack"],[56,22,43,20,"deleteStack"],[56,23,43,21,"stack"],[56,28,43,26],[56,30,43,28],[57,4,44,4,"cache"],[57,9,44,9],[57,10,44,10,"delete"],[57,16,44,16],[57,17,44,17,"stack"],[57,22,44,22],[57,23,44,23],[58,2,45,0],[59,2,46,0,"exports"],[59,9,46,7],[59,10,46,8,"deleteStack"],[59,21,46,19],[59,24,46,22,"deleteStack"],[59,35,46,33],[60,2,47,0],[60,11,47,9,"symbolicate"],[60,22,47,20,"symbolicate"],[60,23,47,21,"stack"],[60,28,47,26],[60,30,47,28],[61,4,48,4],[61,8,48,8,"promise"],[61,15,48,15],[61,18,48,18,"cache"],[61,23,48,23],[61,24,48,24,"get"],[61,27,48,27],[61,28,48,28,"stack"],[61,33,48,33],[61,34,48,34],[62,4,49,4],[62,8,49,8,"promise"],[62,15,49,15],[62,19,49,19],[62,23,49,23],[62,25,49,25],[63,6,50,8,"promise"],[63,13,50,15],[63,16,50,18],[63,17,50,19],[63,18,50,20],[63,20,50,22,"symbolicateStackTrace_1"],[63,43,50,45],[63,44,50,46,"default"],[63,51,50,53],[63,53,50,55,"stack"],[63,58,50,60],[63,59,50,61],[63,60,50,62,"then"],[63,64,50,66],[63,65,50,67,"sanitize"],[63,73,50,75],[63,74,50,76],[64,6,51,8,"cache"],[64,11,51,13],[64,12,51,14,"set"],[64,15,51,17],[64,16,51,18,"stack"],[64,21,51,23],[64,23,51,25,"promise"],[64,30,51,32],[64,31,51,33],[65,4,52,4],[66,4,53,4],[66,11,53,11,"promise"],[66,18,53,18],[67,2,54,0],[68,2,55,0,"exports"],[68,9,55,7],[68,10,55,8,"symbolicate"],[68,21,55,19],[68,24,55,22,"symbolicate"],[68,35,55,33],[69,0,55,34]],"functionMap":{"names":["<global>","<anonymous>","sanitize","deleteStack","symbolicate"],"mappings":"AAA;wDCQ;CDE;iBEQ;CFuB;AGC;CHE;AIE;CJO"}},"type":"js/module"}]}