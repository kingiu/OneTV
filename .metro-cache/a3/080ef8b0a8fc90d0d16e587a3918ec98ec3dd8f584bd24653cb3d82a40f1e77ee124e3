{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":74,"column":0,"index":2434}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":31,"index":97}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationContext","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":99},"end":{"line":4,"column":52,"index":151}}],"key":"zgSDczcMDbcgKjO1DngU1GAHQtI="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0]);\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useFocusEvents;\n  var React = _interopRequireWildcard(require(_dependencyMap[1]));\n  var _NavigationContext = _interopRequireDefault(require(_dependencyMap[2]));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_NavigationContext.default);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(function () {\n      return navigation?.addListener('focus', function () {\n        lastFocusedKeyRef.current = currentFocusedKey;\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      return navigation?.addListener('blur', function () {\n        lastFocusedKeyRef.current = undefined;\n        emitter.emit({\n          type: 'blur',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":72,"map":[[7,2,2,0],[7,6,2,0,"React"],[7,11,2,0],[7,14,2,0,"_interopRequireWildcard"],[7,37,2,0],[7,38,2,0,"require"],[7,45,2,0],[7,46,2,0,"_dependencyMap"],[7,60,2,0],[8,2,4,0],[8,6,4,0,"_NavigationContext"],[8,24,4,0],[8,27,4,0,"_interopRequireDefault"],[8,49,4,0],[8,50,4,0,"require"],[8,57,4,0],[8,58,4,0,"_dependencyMap"],[8,72,4,0],[9,2,4,52],[9,11,4,52,"_interopRequireWildcard"],[9,35,4,52,"e"],[9,36,4,52],[9,38,4,52,"t"],[9,39,4,52],[9,68,4,52,"WeakMap"],[9,75,4,52],[9,81,4,52,"r"],[9,82,4,52],[9,89,4,52,"WeakMap"],[9,96,4,52],[9,100,4,52,"n"],[9,101,4,52],[9,108,4,52,"WeakMap"],[9,115,4,52],[9,127,4,52,"_interopRequireWildcard"],[9,150,4,52],[9,162,4,52,"_interopRequireWildcard"],[9,163,4,52,"e"],[9,164,4,52],[9,166,4,52,"t"],[9,167,4,52],[9,176,4,52,"t"],[9,177,4,52],[9,181,4,52,"e"],[9,182,4,52],[9,186,4,52,"e"],[9,187,4,52],[9,188,4,52,"__esModule"],[9,198,4,52],[9,207,4,52,"e"],[9,208,4,52],[9,214,4,52,"o"],[9,215,4,52],[9,217,4,52,"i"],[9,218,4,52],[9,220,4,52,"f"],[9,221,4,52],[9,226,4,52,"__proto__"],[9,235,4,52],[9,243,4,52,"default"],[9,250,4,52],[9,252,4,52,"e"],[9,253,4,52],[9,270,4,52,"e"],[9,271,4,52],[9,294,4,52,"e"],[9,295,4,52],[9,320,4,52,"e"],[9,321,4,52],[9,330,4,52,"f"],[9,331,4,52],[9,337,4,52,"o"],[9,338,4,52],[9,341,4,52,"t"],[9,342,4,52],[9,345,4,52,"n"],[9,346,4,52],[9,349,4,52,"r"],[9,350,4,52],[9,358,4,52,"o"],[9,359,4,52],[9,360,4,52,"has"],[9,363,4,52],[9,364,4,52,"e"],[9,365,4,52],[9,375,4,52,"o"],[9,376,4,52],[9,377,4,52,"get"],[9,380,4,52],[9,381,4,52,"e"],[9,382,4,52],[9,385,4,52,"o"],[9,386,4,52],[9,387,4,52,"set"],[9,390,4,52],[9,391,4,52,"e"],[9,392,4,52],[9,394,4,52,"f"],[9,395,4,52],[9,409,4,52,"_t"],[9,411,4,52],[9,415,4,52,"e"],[9,416,4,52],[9,432,4,52,"_t"],[9,434,4,52],[9,441,4,52,"hasOwnProperty"],[9,455,4,52],[9,456,4,52,"call"],[9,460,4,52],[9,461,4,52,"e"],[9,462,4,52],[9,464,4,52,"_t"],[9,466,4,52],[9,473,4,52,"i"],[9,474,4,52],[9,478,4,52,"o"],[9,479,4,52],[9,482,4,52,"Object"],[9,488,4,52],[9,489,4,52,"defineProperty"],[9,503,4,52],[9,508,4,52,"Object"],[9,514,4,52],[9,515,4,52,"getOwnPropertyDescriptor"],[9,539,4,52],[9,540,4,52,"e"],[9,541,4,52],[9,543,4,52,"_t"],[9,545,4,52],[9,552,4,52,"i"],[9,553,4,52],[9,554,4,52,"get"],[9,557,4,52],[9,561,4,52,"i"],[9,562,4,52],[9,563,4,52,"set"],[9,566,4,52],[9,570,4,52,"o"],[9,571,4,52],[9,572,4,52,"f"],[9,573,4,52],[9,575,4,52,"_t"],[9,577,4,52],[9,579,4,52,"i"],[9,580,4,52],[9,584,4,52,"f"],[9,585,4,52],[9,586,4,52,"_t"],[9,588,4,52],[9,592,4,52,"e"],[9,593,4,52],[9,594,4,52,"_t"],[9,596,4,52],[9,607,4,52,"f"],[9,608,4,52],[9,613,4,52,"e"],[9,614,4,52],[9,616,4,52,"t"],[9,617,4,52],[10,2,13,0],[11,0,14,0],[12,0,15,0],[13,2,16,15],[13,11,16,24,"useFocusEvents"],[13,25,16,38,"useFocusEvents"],[13,26,16,38,"_ref"],[13,30,16,38],[13,32,19,19],[14,4,19,19],[14,8,17,2,"state"],[14,13,17,7],[14,16,17,7,"_ref"],[14,20,17,7],[14,21,17,2,"state"],[14,26,17,7],[15,6,18,2,"emitter"],[15,13,18,9],[15,16,18,9,"_ref"],[15,20,18,9],[15,21,18,2,"emitter"],[15,28,18,9],[16,4,20,2],[16,8,20,8,"navigation"],[16,18,20,18],[16,21,20,21,"React"],[16,26,20,26],[16,27,20,27,"useContext"],[16,37,20,37],[16,38,20,38,"NavigationContext"],[16,64,20,55],[16,65,20,56],[17,4,21,2],[17,8,21,8,"lastFocusedKeyRef"],[17,25,21,25],[17,28,21,28,"React"],[17,33,21,33],[17,34,21,34,"useRef"],[17,40,21,40],[17,41,21,61],[17,42,21,62],[18,4,23,2],[18,8,23,8,"currentFocusedKey"],[18,25,23,25],[18,28,23,28,"state"],[18,33,23,33],[18,34,23,34,"routes"],[18,40,23,40],[18,41,23,41,"state"],[18,46,23,46],[18,47,23,47,"index"],[18,52,23,52],[18,53,23,53],[18,54,23,54,"key"],[18,57,23,57],[20,4,25,2],[21,4,26,2],[22,4,27,2,"React"],[22,9,27,7],[22,10,27,8,"useEffect"],[22,19,27,17],[22,20,28,4],[23,6,28,4],[23,13,29,6,"navigation"],[23,23,29,16],[23,25,29,18,"addListener"],[23,36,29,29],[23,37,29,30],[23,44,29,37],[23,46,29,39],[23,58,29,45],[24,8,30,8,"lastFocusedKeyRef"],[24,25,30,25],[24,26,30,26,"current"],[24,33,30,33],[24,36,30,36,"currentFocusedKey"],[24,53,30,53],[25,8,31,8,"emitter"],[25,15,31,15],[25,16,31,16,"emit"],[25,20,31,20],[25,21,31,21],[26,10,31,23,"type"],[26,14,31,27],[26,16,31,29],[26,23,31,36],[27,10,31,38,"target"],[27,16,31,44],[27,18,31,46,"currentFocusedKey"],[28,8,31,64],[28,9,31,65],[28,10,31,66],[29,6,32,6],[29,7,32,7],[29,8,32,8],[30,4,32,8],[30,7,33,4],[30,8,33,5,"currentFocusedKey"],[30,25,33,22],[30,27,33,24,"emitter"],[30,34,33,31],[30,36,33,33,"navigation"],[30,46,33,43],[30,47,34,2],[30,48,34,3],[31,4,36,2,"React"],[31,9,36,7],[31,10,36,8,"useEffect"],[31,19,36,17],[31,20,37,4],[32,6,37,4],[32,13,38,6,"navigation"],[32,23,38,16],[32,25,38,18,"addListener"],[32,36,38,29],[32,37,38,30],[32,43,38,36],[32,45,38,38],[32,57,38,44],[33,8,39,8,"lastFocusedKeyRef"],[33,25,39,25],[33,26,39,26,"current"],[33,33,39,33],[33,36,39,36,"undefined"],[33,45,39,45],[34,8,40,8,"emitter"],[34,15,40,15],[34,16,40,16,"emit"],[34,20,40,20],[34,21,40,21],[35,10,40,23,"type"],[35,14,40,27],[35,16,40,29],[35,22,40,35],[36,10,40,37,"target"],[36,16,40,43],[36,18,40,45,"currentFocusedKey"],[37,8,40,63],[37,9,40,64],[37,10,40,65],[38,6,41,6],[38,7,41,7],[38,8,41,8],[39,4,41,8],[39,7,42,4],[39,8,42,5,"currentFocusedKey"],[39,25,42,22],[39,27,42,24,"emitter"],[39,34,42,31],[39,36,42,33,"navigation"],[39,46,42,43],[39,47,43,2],[39,48,43,3],[40,4,45,2,"React"],[40,9,45,7],[40,10,45,8,"useEffect"],[40,19,45,17],[40,20,45,18],[40,32,45,24],[41,6,46,4],[41,10,46,10,"lastFocusedKey"],[41,24,46,24],[41,27,46,27,"lastFocusedKeyRef"],[41,44,46,44],[41,45,46,45,"current"],[41,52,46,52],[42,6,48,4,"lastFocusedKeyRef"],[42,23,48,21],[42,24,48,22,"current"],[42,31,48,29],[42,34,48,32,"currentFocusedKey"],[42,51,48,49],[44,6,50,4],[45,6,51,4],[46,6,52,4],[46,10,52,8,"lastFocusedKey"],[46,24,52,22],[46,29,52,27,"undefined"],[46,38,52,36],[46,42,52,40],[46,43,52,41,"navigation"],[46,53,52,51],[46,55,52,53],[47,8,53,6,"emitter"],[47,15,53,13],[47,16,53,14,"emit"],[47,20,53,18],[47,21,53,19],[48,10,53,21,"type"],[48,14,53,25],[48,16,53,27],[48,23,53,34],[49,10,53,36,"target"],[49,16,53,42],[49,18,53,44,"currentFocusedKey"],[50,8,53,62],[50,9,53,63],[50,10,53,64],[51,6,54,4],[53,6,56,4],[54,6,57,4],[55,6,58,4],[55,10,59,6,"lastFocusedKey"],[55,24,59,20],[55,29,59,25,"currentFocusedKey"],[55,46,59,42],[55,50,60,6],[55,52,60,8,"navigation"],[55,62,60,18],[55,65,60,21,"navigation"],[55,75,60,31],[55,76,60,32,"isFocused"],[55,85,60,41],[55,86,60,42],[55,87,60,43],[55,90,60,46],[55,94,60,50],[55,95,60,51],[55,97,61,6],[56,8,62,6],[57,6,63,4],[58,6,65,4],[58,10,65,8,"lastFocusedKey"],[58,24,65,22],[58,29,65,27,"undefined"],[58,38,65,36],[58,40,65,38],[59,8,66,6],[60,8,67,6],[61,6,68,4],[62,6,70,4,"emitter"],[62,13,70,11],[62,14,70,12,"emit"],[62,18,70,16],[62,19,70,17],[63,8,70,19,"type"],[63,12,70,23],[63,14,70,25],[63,20,70,31],[64,8,70,33,"target"],[64,14,70,39],[64,16,70,41,"lastFocusedKey"],[65,6,70,56],[65,7,70,57],[65,8,70,58],[66,6,71,4,"emitter"],[66,13,71,11],[66,14,71,12,"emit"],[66,18,71,16],[66,19,71,17],[67,8,71,19,"type"],[67,12,71,23],[67,14,71,25],[67,21,71,32],[68,8,71,34,"target"],[68,14,71,40],[68,16,71,42,"currentFocusedKey"],[69,6,71,60],[69,7,71,61],[69,8,71,62],[70,4,72,2],[70,5,72,3],[70,7,72,5],[70,8,72,6,"currentFocusedKey"],[70,25,72,23],[70,27,72,25,"emitter"],[70,34,72,32],[70,36,72,34,"navigation"],[70,46,72,44],[70,47,72,45],[70,48,72,46],[71,2,73,0],[72,0,73,1]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCe;ICY;uCCC;ODG,CD;ICK;sCCC;ODG,CD;kBCI;GD2B;CDC"}},"type":"js/module"}]}