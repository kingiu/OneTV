{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":33,"column":0,"index":950}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":33,"column":0,"index":950}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":33,"column":0,"index":950}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"zustand","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"xFAZpEovr+Y5/UCynUzO0ntFekY="}},{"name":"@/services/storage","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":63,"index":97}}],"key":"v6jfO8eZLYQviiEcpnOAsesBT1k="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _zustand = require(_dependencyMap[3], \"zustand\");\n  var _storage = require(_dependencyMap[4], \"@/services/storage\");\n  var useFavoritesStore = (0, _zustand.create)(function (set) {\n    return {\n      favorites: [],\n      loading: false,\n      error: null,\n      fetchFavorites: function () {\n        var _ref = (0, _asyncToGenerator2.default)(function* () {\n          set({\n            loading: true,\n            error: null\n          });\n          try {\n            var favoritesData = yield _storage.FavoriteManager.getAll();\n            var favoritesArray = Object.entries(favoritesData).map(function (_ref2) {\n              var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),\n                key = _ref3[0],\n                value = _ref3[1];\n              return {\n                ...value,\n                key\n              };\n            });\n            //   favoritesArray.sort((a, b) => (b.save_time || 0) - (a.save_time || 0));\n            set({\n              favorites: favoritesArray,\n              loading: false\n            });\n          } catch (e) {\n            var error = e instanceof Error ? e.message : \"获取收藏列表失败\";\n            set({\n              error,\n              loading: false\n            });\n          }\n        });\n        return function fetchFavorites() {\n          return _ref.apply(this, arguments);\n        };\n      }()\n    };\n  });\n  var _default = exports.default = useFavoritesStore;\n});","lineCount":53,"map":[[9,2,1,0],[9,6,1,0,"_zustand"],[9,14,1,0],[9,17,1,0,"require"],[9,24,1,0],[9,25,1,0,"_dependencyMap"],[9,39,1,0],[10,2,2,0],[10,6,2,0,"_storage"],[10,14,2,0],[10,17,2,0,"require"],[10,24,2,0],[10,25,2,0,"_dependencyMap"],[10,39,2,0],[11,2,11,0],[11,6,11,6,"useFavoritesStore"],[11,23,11,23],[11,26,11,26],[11,30,11,26,"create"],[11,45,11,32],[11,47,11,49],[11,57,11,50,"set"],[11,60,11,53],[12,4,11,53],[12,11,11,59],[13,6,12,2,"favorites"],[13,15,12,11],[13,17,12,13],[13,19,12,15],[14,6,13,2,"loading"],[14,13,13,9],[14,15,13,11],[14,20,13,16],[15,6,14,2,"error"],[15,11,14,7],[15,13,14,9],[15,17,14,13],[16,6,15,2,"fetchFavorites"],[16,20,15,16],[17,8,15,16],[17,12,15,16,"_ref"],[17,16,15,16],[17,23,15,16,"_asyncToGenerator2"],[17,41,15,16],[17,42,15,16,"default"],[17,49,15,16],[17,51,15,18],[17,64,15,30],[18,10,16,4,"set"],[18,13,16,7],[18,14,16,8],[19,12,16,10,"loading"],[19,19,16,17],[19,21,16,19],[19,25,16,23],[20,12,16,25,"error"],[20,17,16,30],[20,19,16,32],[21,10,16,37],[21,11,16,38],[21,12,16,39],[22,10,17,4],[22,14,17,8],[23,12,18,6],[23,16,18,12,"favoritesData"],[23,29,18,25],[23,38,18,34,"FavoriteManager"],[23,62,18,49],[23,63,18,50,"getAll"],[23,69,18,56],[23,70,18,57],[23,71,18,58],[24,12,19,6],[24,16,19,12,"favoritesArray"],[24,30,19,26],[24,33,19,29,"Object"],[24,39,19,35],[24,40,19,36,"entries"],[24,47,19,43],[24,48,19,44,"favoritesData"],[24,61,19,57],[24,62,19,58],[24,63,19,59,"map"],[24,66,19,62],[24,67,19,63],[24,77,19,63,"_ref2"],[24,82,19,63],[25,14,19,63],[25,18,19,63,"_ref3"],[25,23,19,63],[25,30,19,63,"_slicedToArray2"],[25,45,19,63],[25,46,19,63,"default"],[25,53,19,63],[25,55,19,63,"_ref2"],[25,60,19,63],[26,16,19,65,"key"],[26,19,19,68],[26,22,19,68,"_ref3"],[26,27,19,68],[27,16,19,70,"value"],[27,21,19,75],[27,24,19,75,"_ref3"],[27,29,19,75],[28,14,19,75],[28,21,19,82],[29,16,20,8],[29,19,20,11,"value"],[29,24,20,16],[30,16,21,8,"key"],[31,14,22,6],[31,15,22,7],[32,12,22,7],[32,13,22,8],[32,14,22,9],[33,12,23,6],[34,12,24,6,"set"],[34,15,24,9],[34,16,24,10],[35,14,24,12,"favorites"],[35,23,24,21],[35,25,24,23,"favoritesArray"],[35,39,24,37],[36,14,24,39,"loading"],[36,21,24,46],[36,23,24,48],[37,12,24,54],[37,13,24,55],[37,14,24,56],[38,10,25,4],[38,11,25,5],[38,12,25,6],[38,19,25,13,"e"],[38,20,25,14],[38,22,25,16],[39,12,26,6],[39,16,26,12,"error"],[39,21,26,17],[39,24,26,20,"e"],[39,25,26,21],[39,37,26,33,"Error"],[39,42,26,38],[39,45,26,41,"e"],[39,46,26,42],[39,47,26,43,"message"],[39,54,26,50],[39,57,26,53],[39,67,26,63],[40,12,27,6,"set"],[40,15,27,9],[40,16,27,10],[41,14,27,12,"error"],[41,19,27,17],[42,14,27,19,"loading"],[42,21,27,26],[42,23,27,28],[43,12,27,34],[43,13,27,35],[43,14,27,36],[44,10,28,4],[45,8,29,2],[45,9,29,3],[46,8,29,3],[46,24,15,2,"fetchFavorites"],[46,38,15,16,"fetchFavorites"],[46,39,15,16],[47,10,15,16],[47,17,15,16,"_ref"],[47,21,15,16],[47,22,15,16,"apply"],[47,27,15,16],[47,34,15,16,"arguments"],[47,43,15,16],[48,8,15,16],[49,6,15,16],[50,4,30,0],[50,5,30,1],[51,2,30,1],[51,3,30,2],[51,4,30,3],[52,2,30,4],[52,6,30,4,"_default"],[52,14,30,4],[52,17,30,4,"exports"],[52,24,30,4],[52,25,30,4,"default"],[52,32,30,4],[52,35,32,15,"useFavoritesStore"],[52,52,32,32],[53,0,32,32]],"functionMap":{"names":["<global>","create$argument_0","fetchFavorites","Object.entries.map$argument_0"],"mappings":"AAA;iDCU;kBCI;+DCI;QDG;GDO;EDC"}},"type":"js/module"}]}