{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":99,"column":0,"index":3369}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./contexts","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":51,"index":78}}],"key":"VzSJqiDWyDuSjD+GzGMuN2rDfiQ="}},{"name":"./hooks","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":79},"end":{"line":3,"column":37,"index":116}}],"key":"zi/KUXkV1wnzA/qwZ+w9mC/w0fE="}},{"name":"./utils/func","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":117},"end":{"line":4,"column":36,"index":153}}],"key":"v42L4ugIcP+UsLAnpcG98bAGCTs="}},{"name":"./utils/obj","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":154},"end":{"line":5,"column":45,"index":199}}],"key":"rfGsUaMyK3suNj/g4HAgyaMPVLo="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DEFAULT_OPTIONS = exports.DEFAULT_DATA = void 0;\n  exports.useToast = useToast;\n  var _react = _interopRequireDefault(require(_dependencyMap[1], \"react\"));\n  var _contexts = require(_dependencyMap[2], \"./contexts\");\n  var _hooks = require(_dependencyMap[3], \"./hooks\");\n  var _func = require(_dependencyMap[4], \"./utils/func\");\n  var _obj = require(_dependencyMap[5], \"./utils/obj\");\n  const DEFAULT_DATA = exports.DEFAULT_DATA = {\n    text1: undefined,\n    text2: undefined\n  };\n  const DEFAULT_OPTIONS = exports.DEFAULT_OPTIONS = {\n    type: 'success',\n    text1Style: null,\n    text2Style: null,\n    position: 'top',\n    autoHide: true,\n    swipeable: true,\n    visibilityTime: 4000,\n    topOffset: 40,\n    bottomOffset: 40,\n    keyboardOffset: 10,\n    avoidKeyboard: true,\n    onShow: _func.noop,\n    onHide: _func.noop,\n    onPress: _func.noop,\n    props: {}\n  };\n  function useToast(_ref) {\n    let {\n      defaultOptions\n    } = _ref;\n    const {\n      log\n    } = (0, _contexts.useLogger)();\n    const {\n      panning\n    } = (0, _contexts.useGesture)();\n    const [isVisible, setIsVisible] = _react.default.useState(false);\n    const [data, setData] = _react.default.useState(DEFAULT_DATA);\n    const initialOptions = (0, _obj.mergeIfDefined)(DEFAULT_OPTIONS, defaultOptions);\n    const [options, setOptions] = _react.default.useState(initialOptions);\n    const onAutoHide = _react.default.useCallback(() => {\n      if (panning.current) {\n        log('Auto hiding was blocked due to panning');\n      } else {\n        log('Auto hiding');\n        setIsVisible(false);\n        options.onHide();\n      }\n    }, [log, options, panning]);\n    const {\n      startTimer,\n      clearTimer\n    } = (0, _hooks.useTimeout)(onAutoHide, options.visibilityTime);\n    const hide = _react.default.useCallback(() => {\n      log('Hiding');\n      setIsVisible(false);\n      clearTimer();\n      options.onHide();\n    }, [clearTimer, log, options]);\n    const show = _react.default.useCallback(params => {\n      log(`Showing with params: ${JSON.stringify(params)}`);\n      const {\n        text1 = DEFAULT_DATA.text1,\n        text2 = DEFAULT_DATA.text2,\n        type = initialOptions.type,\n        text1Style = initialOptions.text1Style,\n        text2Style = initialOptions.text2Style,\n        position = initialOptions.position,\n        autoHide = initialOptions.autoHide,\n        visibilityTime = initialOptions.visibilityTime,\n        topOffset = initialOptions.topOffset,\n        bottomOffset = initialOptions.bottomOffset,\n        keyboardOffset = initialOptions.keyboardOffset,\n        avoidKeyboard = initialOptions.avoidKeyboard,\n        onShow = initialOptions.onShow,\n        onHide = initialOptions.onHide,\n        onPress = initialOptions.onPress,\n        swipeable = initialOptions.swipeable,\n        props = initialOptions.props\n      } = params;\n      setData({\n        text1,\n        text2\n      });\n      setOptions((0, _obj.mergeIfDefined)(initialOptions, {\n        type,\n        text1Style,\n        text2Style,\n        position,\n        autoHide,\n        visibilityTime,\n        topOffset,\n        bottomOffset,\n        keyboardOffset,\n        avoidKeyboard,\n        onShow,\n        onHide,\n        onPress,\n        swipeable,\n        props\n      }));\n      // TODO: validate input\n      // TODO: use a queue when Toast is already visible\n      setIsVisible(true);\n      onShow();\n    }, [initialOptions, log]);\n    _react.default.useEffect(() => {\n      const {\n        autoHide\n      } = options;\n      if (isVisible) {\n        if (autoHide) {\n          startTimer();\n        } else {\n          clearTimer();\n        }\n      }\n    }, [isVisible, options, startTimer, clearTimer]);\n    return {\n      isVisible,\n      data,\n      options,\n      show,\n      hide\n    };\n  }\n});","lineCount":134,"map":[[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"_interopRequireDefault"],[8,37,1,0],[8,38,1,0,"require"],[8,45,1,0],[8,46,1,0,"_dependencyMap"],[8,60,1,0],[9,2,2,0],[9,6,2,0,"_contexts"],[9,15,2,0],[9,18,2,0,"require"],[9,25,2,0],[9,26,2,0,"_dependencyMap"],[9,40,2,0],[10,2,3,0],[10,6,3,0,"_hooks"],[10,12,3,0],[10,15,3,0,"require"],[10,22,3,0],[10,23,3,0,"_dependencyMap"],[10,37,3,0],[11,2,4,0],[11,6,4,0,"_func"],[11,11,4,0],[11,14,4,0,"require"],[11,21,4,0],[11,22,4,0,"_dependencyMap"],[11,36,4,0],[12,2,5,0],[12,6,5,0,"_obj"],[12,10,5,0],[12,13,5,0,"require"],[12,20,5,0],[12,21,5,0,"_dependencyMap"],[12,35,5,0],[13,2,6,7],[13,8,6,13,"DEFAULT_DATA"],[13,20,6,25],[13,23,6,25,"exports"],[13,30,6,25],[13,31,6,25,"DEFAULT_DATA"],[13,43,6,25],[13,46,6,28],[14,4,7,4,"text1"],[14,9,7,9],[14,11,7,11,"undefined"],[14,20,7,20],[15,4,8,4,"text2"],[15,9,8,9],[15,11,8,11,"undefined"],[16,2,9,0],[16,3,9,1],[17,2,10,7],[17,8,10,13,"DEFAULT_OPTIONS"],[17,23,10,28],[17,26,10,28,"exports"],[17,33,10,28],[17,34,10,28,"DEFAULT_OPTIONS"],[17,49,10,28],[17,52,10,31],[18,4,11,4,"type"],[18,8,11,8],[18,10,11,10],[18,19,11,19],[19,4,12,4,"text1Style"],[19,14,12,14],[19,16,12,16],[19,20,12,20],[20,4,13,4,"text2Style"],[20,14,13,14],[20,16,13,16],[20,20,13,20],[21,4,14,4,"position"],[21,12,14,12],[21,14,14,14],[21,19,14,19],[22,4,15,4,"autoHide"],[22,12,15,12],[22,14,15,14],[22,18,15,18],[23,4,16,4,"swipeable"],[23,13,16,13],[23,15,16,15],[23,19,16,19],[24,4,17,4,"visibilityTime"],[24,18,17,18],[24,20,17,20],[24,24,17,24],[25,4,18,4,"topOffset"],[25,13,18,13],[25,15,18,15],[25,17,18,17],[26,4,19,4,"bottomOffset"],[26,16,19,16],[26,18,19,18],[26,20,19,20],[27,4,20,4,"keyboardOffset"],[27,18,20,18],[27,20,20,20],[27,22,20,22],[28,4,21,4,"avoidKeyboard"],[28,17,21,17],[28,19,21,19],[28,23,21,23],[29,4,22,4,"onShow"],[29,10,22,10],[29,12,22,12,"noop"],[29,22,22,16],[30,4,23,4,"onHide"],[30,10,23,10],[30,12,23,12,"noop"],[30,22,23,16],[31,4,24,4,"onPress"],[31,11,24,11],[31,13,24,13,"noop"],[31,23,24,17],[32,4,25,4,"props"],[32,9,25,9],[32,11,25,11],[32,12,25,12],[33,2,26,0],[33,3,26,1],[34,2,27,7],[34,11,27,16,"useToast"],[34,19,27,24,"useToast"],[34,20,27,24,"_ref"],[34,24,27,24],[34,26,27,45],[35,4,27,45],[35,8,27,25],[36,6,27,27,"defaultOptions"],[37,4,27,42],[37,5,27,43],[37,8,27,43,"_ref"],[37,12,27,43],[38,4,28,4],[38,10,28,10],[39,6,28,12,"log"],[40,4,28,16],[40,5,28,17],[40,8,28,20],[40,12,28,20,"useLogger"],[40,31,28,29],[40,33,28,30],[40,34,28,31],[41,4,29,4],[41,10,29,10],[42,6,29,12,"panning"],[43,4,29,20],[43,5,29,21],[43,8,29,24],[43,12,29,24,"useGesture"],[43,32,29,34],[43,34,29,35],[43,35,29,36],[44,4,30,4],[44,10,30,10],[44,11,30,11,"isVisible"],[44,20,30,20],[44,22,30,22,"setIsVisible"],[44,34,30,34],[44,35,30,35],[44,38,30,38,"React"],[44,52,30,43],[44,53,30,44,"useState"],[44,61,30,52],[44,62,30,53],[44,67,30,58],[44,68,30,59],[45,4,31,4],[45,10,31,10],[45,11,31,11,"data"],[45,15,31,15],[45,17,31,17,"setData"],[45,24,31,24],[45,25,31,25],[45,28,31,28,"React"],[45,42,31,33],[45,43,31,34,"useState"],[45,51,31,42],[45,52,31,43,"DEFAULT_DATA"],[45,64,31,55],[45,65,31,56],[46,4,32,4],[46,10,32,10,"initialOptions"],[46,24,32,24],[46,27,32,27],[46,31,32,27,"mergeIfDefined"],[46,50,32,41],[46,52,32,42,"DEFAULT_OPTIONS"],[46,67,32,57],[46,69,32,59,"defaultOptions"],[46,83,32,73],[46,84,32,74],[47,4,33,4],[47,10,33,10],[47,11,33,11,"options"],[47,18,33,18],[47,20,33,20,"setOptions"],[47,30,33,30],[47,31,33,31],[47,34,33,34,"React"],[47,48,33,39],[47,49,33,40,"useState"],[47,57,33,48],[47,58,33,49,"initialOptions"],[47,72,33,63],[47,73,33,64],[48,4,34,4],[48,10,34,10,"onAutoHide"],[48,20,34,20],[48,23,34,23,"React"],[48,37,34,28],[48,38,34,29,"useCallback"],[48,49,34,40],[48,50,34,41],[48,56,34,47],[49,6,35,8],[49,10,35,12,"panning"],[49,17,35,19],[49,18,35,20,"current"],[49,25,35,27],[49,27,35,29],[50,8,36,12,"log"],[50,11,36,15],[50,12,36,16],[50,52,36,56],[50,53,36,57],[51,6,37,8],[51,7,37,9],[51,13,38,13],[52,8,39,12,"log"],[52,11,39,15],[52,12,39,16],[52,25,39,29],[52,26,39,30],[53,8,40,12,"setIsVisible"],[53,20,40,24],[53,21,40,25],[53,26,40,30],[53,27,40,31],[54,8,41,12,"options"],[54,15,41,19],[54,16,41,20,"onHide"],[54,22,41,26],[54,23,41,27],[54,24,41,28],[55,6,42,8],[56,4,43,4],[56,5,43,5],[56,7,43,7],[56,8,43,8,"log"],[56,11,43,11],[56,13,43,13,"options"],[56,20,43,20],[56,22,43,22,"panning"],[56,29,43,29],[56,30,43,30],[56,31,43,31],[57,4,44,4],[57,10,44,10],[58,6,44,12,"startTimer"],[58,16,44,22],[59,6,44,24,"clearTimer"],[60,4,44,35],[60,5,44,36],[60,8,44,39],[60,12,44,39,"useTimeout"],[60,29,44,49],[60,31,44,50,"onAutoHide"],[60,41,44,60],[60,43,44,62,"options"],[60,50,44,69],[60,51,44,70,"visibilityTime"],[60,65,44,84],[60,66,44,85],[61,4,45,4],[61,10,45,10,"hide"],[61,14,45,14],[61,17,45,17,"React"],[61,31,45,22],[61,32,45,23,"useCallback"],[61,43,45,34],[61,44,45,35],[61,50,45,41],[62,6,46,8,"log"],[62,9,46,11],[62,10,46,12],[62,18,46,20],[62,19,46,21],[63,6,47,8,"setIsVisible"],[63,18,47,20],[63,19,47,21],[63,24,47,26],[63,25,47,27],[64,6,48,8,"clearTimer"],[64,16,48,18],[64,17,48,19],[64,18,48,20],[65,6,49,8,"options"],[65,13,49,15],[65,14,49,16,"onHide"],[65,20,49,22],[65,21,49,23],[65,22,49,24],[66,4,50,4],[66,5,50,5],[66,7,50,7],[66,8,50,8,"clearTimer"],[66,18,50,18],[66,20,50,20,"log"],[66,23,50,23],[66,25,50,25,"options"],[66,32,50,32],[66,33,50,33],[66,34,50,34],[67,4,51,4],[67,10,51,10,"show"],[67,14,51,14],[67,17,51,17,"React"],[67,31,51,22],[67,32,51,23,"useCallback"],[67,43,51,34],[67,44,51,36,"params"],[67,50,51,42],[67,54,51,47],[68,6,52,8,"log"],[68,9,52,11],[68,10,52,12],[68,34,52,36,"JSON"],[68,38,52,40],[68,39,52,41,"stringify"],[68,48,52,50],[68,49,52,51,"params"],[68,55,52,57],[68,56,52,58],[68,58,52,60],[68,59,52,61],[69,6,53,8],[69,12,53,14],[70,8,53,16,"text1"],[70,13,53,21],[70,16,53,24,"DEFAULT_DATA"],[70,28,53,36],[70,29,53,37,"text1"],[70,34,53,42],[71,8,53,44,"text2"],[71,13,53,49],[71,16,53,52,"DEFAULT_DATA"],[71,28,53,64],[71,29,53,65,"text2"],[71,34,53,70],[72,8,53,72,"type"],[72,12,53,76],[72,15,53,79,"initialOptions"],[72,29,53,93],[72,30,53,94,"type"],[72,34,53,98],[73,8,53,100,"text1Style"],[73,18,53,110],[73,21,53,113,"initialOptions"],[73,35,53,127],[73,36,53,128,"text1Style"],[73,46,53,138],[74,8,53,140,"text2Style"],[74,18,53,150],[74,21,53,153,"initialOptions"],[74,35,53,167],[74,36,53,168,"text2Style"],[74,46,53,178],[75,8,53,180,"position"],[75,16,53,188],[75,19,53,191,"initialOptions"],[75,33,53,205],[75,34,53,206,"position"],[75,42,53,214],[76,8,53,216,"autoHide"],[76,16,53,224],[76,19,53,227,"initialOptions"],[76,33,53,241],[76,34,53,242,"autoHide"],[76,42,53,250],[77,8,53,252,"visibilityTime"],[77,22,53,266],[77,25,53,269,"initialOptions"],[77,39,53,283],[77,40,53,284,"visibilityTime"],[77,54,53,298],[78,8,53,300,"topOffset"],[78,17,53,309],[78,20,53,312,"initialOptions"],[78,34,53,326],[78,35,53,327,"topOffset"],[78,44,53,336],[79,8,53,338,"bottomOffset"],[79,20,53,350],[79,23,53,353,"initialOptions"],[79,37,53,367],[79,38,53,368,"bottomOffset"],[79,50,53,380],[80,8,53,382,"keyboardOffset"],[80,22,53,396],[80,25,53,399,"initialOptions"],[80,39,53,413],[80,40,53,414,"keyboardOffset"],[80,54,53,428],[81,8,53,430,"avoidKeyboard"],[81,21,53,443],[81,24,53,446,"initialOptions"],[81,38,53,460],[81,39,53,461,"avoidKeyboard"],[81,52,53,474],[82,8,53,476,"onShow"],[82,14,53,482],[82,17,53,485,"initialOptions"],[82,31,53,499],[82,32,53,500,"onShow"],[82,38,53,506],[83,8,53,508,"onHide"],[83,14,53,514],[83,17,53,517,"initialOptions"],[83,31,53,531],[83,32,53,532,"onHide"],[83,38,53,538],[84,8,53,540,"onPress"],[84,15,53,547],[84,18,53,550,"initialOptions"],[84,32,53,564],[84,33,53,565,"onPress"],[84,40,53,572],[85,8,53,574,"swipeable"],[85,17,53,583],[85,20,53,586,"initialOptions"],[85,34,53,600],[85,35,53,601,"swipeable"],[85,44,53,610],[86,8,53,612,"props"],[86,13,53,617],[86,16,53,620,"initialOptions"],[86,30,53,634],[86,31,53,635,"props"],[87,6,53,641],[87,7,53,642],[87,10,53,645,"params"],[87,16,53,651],[88,6,54,8,"setData"],[88,13,54,15],[88,14,54,16],[89,8,55,12,"text1"],[89,13,55,17],[90,8,56,12,"text2"],[91,6,57,8],[91,7,57,9],[91,8,57,10],[92,6,58,8,"setOptions"],[92,16,58,18],[92,17,58,19],[92,21,58,19,"mergeIfDefined"],[92,40,58,33],[92,42,58,34,"initialOptions"],[92,56,58,48],[92,58,58,50],[93,8,59,12,"type"],[93,12,59,16],[94,8,60,12,"text1Style"],[94,18,60,22],[95,8,61,12,"text2Style"],[95,18,61,22],[96,8,62,12,"position"],[96,16,62,20],[97,8,63,12,"autoHide"],[97,16,63,20],[98,8,64,12,"visibilityTime"],[98,22,64,26],[99,8,65,12,"topOffset"],[99,17,65,21],[100,8,66,12,"bottomOffset"],[100,20,66,24],[101,8,67,12,"keyboardOffset"],[101,22,67,26],[102,8,68,12,"avoidKeyboard"],[102,21,68,25],[103,8,69,12,"onShow"],[103,14,69,18],[104,8,70,12,"onHide"],[104,14,70,18],[105,8,71,12,"onPress"],[105,15,71,19],[106,8,72,12,"swipeable"],[106,17,72,21],[107,8,73,12,"props"],[108,6,74,8],[108,7,74,9],[108,8,74,10],[108,9,74,11],[109,6,75,8],[110,6,76,8],[111,6,77,8,"setIsVisible"],[111,18,77,20],[111,19,77,21],[111,23,77,25],[111,24,77,26],[112,6,78,8,"onShow"],[112,12,78,14],[112,13,78,15],[112,14,78,16],[113,4,79,4],[113,5,79,5],[113,7,79,7],[113,8,79,8,"initialOptions"],[113,22,79,22],[113,24,79,24,"log"],[113,27,79,27],[113,28,79,28],[113,29,79,29],[114,4,80,4,"React"],[114,18,80,9],[114,19,80,10,"useEffect"],[114,28,80,19],[114,29,80,20],[114,35,80,26],[115,6,81,8],[115,12,81,14],[116,8,81,16,"autoHide"],[117,6,81,25],[117,7,81,26],[117,10,81,29,"options"],[117,17,81,36],[118,6,82,8],[118,10,82,12,"isVisible"],[118,19,82,21],[118,21,82,23],[119,8,83,12],[119,12,83,16,"autoHide"],[119,20,83,24],[119,22,83,26],[120,10,84,16,"startTimer"],[120,20,84,26],[120,21,84,27],[120,22,84,28],[121,8,85,12],[121,9,85,13],[121,15,86,17],[122,10,87,16,"clearTimer"],[122,20,87,26],[122,21,87,27],[122,22,87,28],[123,8,88,12],[124,6,89,8],[125,4,90,4],[125,5,90,5],[125,7,90,7],[125,8,90,8,"isVisible"],[125,17,90,17],[125,19,90,19,"options"],[125,26,90,26],[125,28,90,28,"startTimer"],[125,38,90,38],[125,40,90,40,"clearTimer"],[125,50,90,50],[125,51,90,51],[125,52,90,52],[126,4,91,4],[126,11,91,11],[127,6,92,8,"isVisible"],[127,15,92,17],[128,6,93,8,"data"],[128,10,93,12],[129,6,94,8,"options"],[129,13,94,15],[130,6,95,8,"show"],[130,10,95,12],[131,6,96,8,"hide"],[132,4,97,4],[132,5,97,5],[133,2,98,0],[134,0,98,1]],"functionMap":{"names":["<global>","useToast","onAutoHide","hide","show","React.useEffect$argument_0"],"mappings":"AAA;OC0B;yCCO;KDS;mCEE;KFK;mCGC;KH4B;oBIC;KJU;CDQ"}},"type":"js/module"}]}