{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}},{"name":"./KeepAwake.types","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":56,"index":114}}],"key":"y0yuQ3uPIVCv8gblxLBsCIVHs8M="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _KeepAwake = require(_dependencyMap[1], \"./KeepAwake.types\");\n  const wakeLockMap = {};\n  /** Wraps the webWakeLock API https://developer.mozilla.org/en-US/docs/Web/API/Screen_Wake_Lock_API */\n  var _default = exports.default = {\n    async isAvailableAsync() {\n      if (_expoModulesCore.Platform.isDOMAvailable) {\n        return 'wakeLock' in navigator;\n      }\n      return false;\n    },\n    async activate(tag) {\n      if (!_expoModulesCore.Platform.isDOMAvailable) {\n        return;\n      }\n      const wakeLock = await navigator.wakeLock.request('screen');\n      wakeLockMap[tag] = wakeLock;\n    },\n    async deactivate(tag) {\n      if (!_expoModulesCore.Platform.isDOMAvailable) {\n        return;\n      }\n      if (wakeLockMap[tag]) {\n        wakeLockMap[tag].release?.();\n        delete wakeLockMap[tag];\n      } else {\n        throw new _expoModulesCore.CodedError('ERR_KEEP_AWAKE_TAG_INVALID', `The wake lock with tag ${tag} has not activated yet`);\n      }\n    },\n    addListenerForTag(tag, listener) {\n      const eventListener = () => {\n        listener({\n          state: _KeepAwake.KeepAwakeEventState.RELEASE\n        });\n      };\n      const sentinel = wakeLockMap[tag];\n      if (sentinel) {\n        if ('addEventListener' in sentinel) {\n          sentinel.addEventListener?.('release', eventListener);\n        } else {\n          sentinel.onrelease = eventListener;\n        }\n      }\n      return {\n        remove: () => {\n          const sentinel = wakeLockMap[tag];\n          if (sentinel) {\n            if (sentinel.removeEventListener) {\n              sentinel.removeEventListener('release', eventListener);\n            } else {\n              sentinel.onrelease = null;\n            }\n          }\n        }\n      };\n    }\n  };\n});","lineCount":63,"map":[[6,2,1,0],[6,6,1,0,"_expoModulesCore"],[6,22,1,0],[6,25,1,0,"require"],[6,32,1,0],[6,33,1,0,"_dependencyMap"],[6,47,1,0],[7,2,2,0],[7,6,2,0,"_KeepAwake"],[7,16,2,0],[7,19,2,0,"require"],[7,26,2,0],[7,27,2,0,"_dependencyMap"],[7,41,2,0],[8,2,3,0],[8,8,3,6,"wakeLockMap"],[8,19,3,17],[8,22,3,20],[8,23,3,21],[8,24,3,22],[9,2,4,0],[10,2,4,0],[10,6,4,0,"_default"],[10,14,4,0],[10,17,4,0,"exports"],[10,24,4,0],[10,25,4,0,"default"],[10,32,4,0],[10,35,5,15],[11,4,6,4],[11,10,6,10,"isAvailableAsync"],[11,26,6,26,"isAvailableAsync"],[11,27,6,26],[11,29,6,29],[12,6,7,8],[12,10,7,12,"Platform"],[12,35,7,20],[12,36,7,21,"isDOMAvailable"],[12,50,7,35],[12,52,7,37],[13,8,8,12],[13,15,8,19],[13,25,8,29],[13,29,8,33,"navigator"],[13,38,8,42],[14,6,9,8],[15,6,10,8],[15,13,10,15],[15,18,10,20],[16,4,11,4],[16,5,11,5],[17,4,12,4],[17,10,12,10,"activate"],[17,18,12,18,"activate"],[17,19,12,19,"tag"],[17,22,12,22],[17,24,12,24],[18,6,13,8],[18,10,13,12],[18,11,13,13,"Platform"],[18,36,13,21],[18,37,13,22,"isDOMAvailable"],[18,51,13,36],[18,53,13,38],[19,8,14,12],[20,6,15,8],[21,6,16,8],[21,12,16,14,"wakeLock"],[21,20,16,22],[21,23,16,25],[21,29,16,31,"navigator"],[21,38,16,40],[21,39,16,41,"wakeLock"],[21,47,16,49],[21,48,16,50,"request"],[21,55,16,57],[21,56,16,58],[21,64,16,66],[21,65,16,67],[22,6,17,8,"wakeLockMap"],[22,17,17,19],[22,18,17,20,"tag"],[22,21,17,23],[22,22,17,24],[22,25,17,27,"wakeLock"],[22,33,17,35],[23,4,18,4],[23,5,18,5],[24,4,19,4],[24,10,19,10,"deactivate"],[24,20,19,20,"deactivate"],[24,21,19,21,"tag"],[24,24,19,24],[24,26,19,26],[25,6,20,8],[25,10,20,12],[25,11,20,13,"Platform"],[25,36,20,21],[25,37,20,22,"isDOMAvailable"],[25,51,20,36],[25,53,20,38],[26,8,21,12],[27,6,22,8],[28,6,23,8],[28,10,23,12,"wakeLockMap"],[28,21,23,23],[28,22,23,24,"tag"],[28,25,23,27],[28,26,23,28],[28,28,23,30],[29,8,24,12,"wakeLockMap"],[29,19,24,23],[29,20,24,24,"tag"],[29,23,24,27],[29,24,24,28],[29,25,24,29,"release"],[29,32,24,36],[29,35,24,39],[29,36,24,40],[30,8,25,12],[30,15,25,19,"wakeLockMap"],[30,26,25,30],[30,27,25,31,"tag"],[30,30,25,34],[30,31,25,35],[31,6,26,8],[31,7,26,9],[31,13,27,13],[32,8,28,12],[32,14,28,18],[32,18,28,22,"CodedError"],[32,45,28,32],[32,46,28,33],[32,74,28,61],[32,76,28,63],[32,102,28,89,"tag"],[32,105,28,92],[32,129,28,116],[32,130,28,117],[33,6,29,8],[34,4,30,4],[34,5,30,5],[35,4,31,4,"addListenerForTag"],[35,21,31,21,"addListenerForTag"],[35,22,31,22,"tag"],[35,25,31,25],[35,27,31,27,"listener"],[35,35,31,35],[35,37,31,37],[36,6,32,8],[36,12,32,14,"eventListener"],[36,25,32,27],[36,28,32,30,"eventListener"],[36,29,32,30],[36,34,32,36],[37,8,33,12,"listener"],[37,16,33,20],[37,17,33,21],[38,10,33,23,"state"],[38,15,33,28],[38,17,33,30,"KeepAwakeEventState"],[38,47,33,49],[38,48,33,50,"RELEASE"],[39,8,33,58],[39,9,33,59],[39,10,33,60],[40,6,34,8],[40,7,34,9],[41,6,35,8],[41,12,35,14,"sentinel"],[41,20,35,22],[41,23,35,25,"wakeLockMap"],[41,34,35,36],[41,35,35,37,"tag"],[41,38,35,40],[41,39,35,41],[42,6,36,8],[42,10,36,12,"sentinel"],[42,18,36,20],[42,20,36,22],[43,8,37,12],[43,12,37,16],[43,30,37,34],[43,34,37,38,"sentinel"],[43,42,37,46],[43,44,37,48],[44,10,38,16,"sentinel"],[44,18,38,24],[44,19,38,25,"addEventListener"],[44,35,38,41],[44,38,38,44],[44,47,38,53],[44,49,38,55,"eventListener"],[44,62,38,68],[44,63,38,69],[45,8,39,12],[45,9,39,13],[45,15,40,17],[46,10,41,16,"sentinel"],[46,18,41,24],[46,19,41,25,"onrelease"],[46,28,41,34],[46,31,41,37,"eventListener"],[46,44,41,50],[47,8,42,12],[48,6,43,8],[49,6,44,8],[49,13,44,15],[50,8,45,12,"remove"],[50,14,45,18],[50,16,45,20,"remove"],[50,17,45,20],[50,22,45,26],[51,10,46,16],[51,16,46,22,"sentinel"],[51,24,46,30],[51,27,46,33,"wakeLockMap"],[51,38,46,44],[51,39,46,45,"tag"],[51,42,46,48],[51,43,46,49],[52,10,47,16],[52,14,47,20,"sentinel"],[52,22,47,28],[52,24,47,30],[53,12,48,20],[53,16,48,24,"sentinel"],[53,24,48,32],[53,25,48,33,"removeEventListener"],[53,44,48,52],[53,46,48,54],[54,14,49,24,"sentinel"],[54,22,49,32],[54,23,49,33,"removeEventListener"],[54,42,49,52],[54,43,49,53],[54,52,49,62],[54,54,49,64,"eventListener"],[54,67,49,77],[54,68,49,78],[55,12,50,20],[55,13,50,21],[55,19,51,25],[56,14,52,24,"sentinel"],[56,22,52,32],[56,23,52,33,"onrelease"],[56,32,52,42],[56,35,52,45],[56,39,52,49],[57,12,53,20],[58,10,54,16],[59,8,55,12],[60,6,56,8],[60,7,56,9],[61,4,57,4],[62,2,58,0],[62,3,58,1],[63,0,58,1]],"functionMap":{"names":["<global>","default.isAvailableAsync","default.activate","default.deactivate","default.addListenerForTag","eventListener","remove"],"mappings":"AAA;ICK;KDK;IEC;KFM;IGC;KHW;IIC;8BCC;SDE;oBEW;aFU;KJE"}},"type":"js/module"}]}