{"dependencies":[{"name":"nanoid/non-secure","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"aLLVXWB8QP15fri3afEUab9H+Os="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _nonSecure = require(_dependencyMap[0], \"nanoid/non-secure\");\n  /**\n   * Base router object that can be used when writing custom routers.\n   * This provides few helper methods to handle common actions such as `RESET`.\n   */\n  const BaseRouter = {\n    getStateForAction(state, action) {\n      switch (action.type) {\n        case 'SET_PARAMS':\n          {\n            const index = action.source ? state.routes.findIndex(r => r.key === action.source) : state.index;\n            if (index === -1) {\n              return null;\n            }\n            return {\n              ...state,\n              routes: state.routes.map((r, i) => i === index ? {\n                ...r,\n                params: {\n                  ...r.params,\n                  ...action.payload.params\n                }\n              } : r)\n            };\n          }\n        case 'RESET':\n          {\n            const nextState = action.payload;\n            if (nextState.routes.length === 0 || nextState.routes.some(route => !state.routeNames.includes(route.name))) {\n              return null;\n            }\n            if (nextState.stale === false) {\n              if (state.routeNames.length !== nextState.routeNames.length || nextState.routeNames.some(name => !state.routeNames.includes(name))) {\n                return null;\n              }\n              return {\n                ...nextState,\n                routes: nextState.routes.map(route => route.key ? route : {\n                  ...route,\n                  key: `${route.name}-${(0, _nonSecure.nanoid)()}`\n                })\n              };\n            }\n            return nextState;\n          }\n        default:\n          return null;\n      }\n    },\n    shouldActionChangeFocus(action) {\n      return action.type === 'NAVIGATE';\n    }\n  };\n  var _default = exports.default = BaseRouter;\n});","lineCount":60,"map":[[6,2,1,0],[6,6,1,0,"_nonSecure"],[6,16,1,0],[6,19,1,0,"require"],[6,26,1,0],[6,27,1,0,"_dependencyMap"],[6,41,1,0],[7,2,2,0],[8,0,3,0],[9,0,4,0],[10,0,5,0],[11,2,6,0],[11,8,6,6,"BaseRouter"],[11,18,6,16],[11,21,6,19],[12,4,7,2,"getStateForAction"],[12,21,7,19,"getStateForAction"],[12,22,7,20,"state"],[12,27,7,25],[12,29,7,27,"action"],[12,35,7,33],[12,37,7,35],[13,6,8,4],[13,14,8,12,"action"],[13,20,8,18],[13,21,8,19,"type"],[13,25,8,23],[14,8,9,6],[14,13,9,11],[14,25,9,23],[15,10,10,8],[16,12,11,10],[16,18,11,16,"index"],[16,23,11,21],[16,26,11,24,"action"],[16,32,11,30],[16,33,11,31,"source"],[16,39,11,37],[16,42,11,40,"state"],[16,47,11,45],[16,48,11,46,"routes"],[16,54,11,52],[16,55,11,53,"findIndex"],[16,64,11,62],[16,65,11,63,"r"],[16,66,11,64],[16,70,11,68,"r"],[16,71,11,69],[16,72,11,70,"key"],[16,75,11,73],[16,80,11,78,"action"],[16,86,11,84],[16,87,11,85,"source"],[16,93,11,91],[16,94,11,92],[16,97,11,95,"state"],[16,102,11,100],[16,103,11,101,"index"],[16,108,11,106],[17,12,12,10],[17,16,12,14,"index"],[17,21,12,19],[17,26,12,24],[17,27,12,25],[17,28,12,26],[17,30,12,28],[18,14,13,12],[18,21,13,19],[18,25,13,23],[19,12,14,10],[20,12,15,10],[20,19,15,17],[21,14,16,12],[21,17,16,15,"state"],[21,22,16,20],[22,14,17,12,"routes"],[22,20,17,18],[22,22,17,20,"state"],[22,27,17,25],[22,28,17,26,"routes"],[22,34,17,32],[22,35,17,33,"map"],[22,38,17,36],[22,39,17,37],[22,40,17,38,"r"],[22,41,17,39],[22,43,17,41,"i"],[22,44,17,42],[22,49,17,47,"i"],[22,50,17,48],[22,55,17,53,"index"],[22,60,17,58],[22,63,17,61],[23,16,18,14],[23,19,18,17,"r"],[23,20,18,18],[24,16,19,14,"params"],[24,22,19,20],[24,24,19,22],[25,18,20,16],[25,21,20,19,"r"],[25,22,20,20],[25,23,20,21,"params"],[25,29,20,27],[26,18,21,16],[26,21,21,19,"action"],[26,27,21,25],[26,28,21,26,"payload"],[26,35,21,33],[26,36,21,34,"params"],[27,16,22,14],[28,14,23,12],[28,15,23,13],[28,18,23,16,"r"],[28,19,23,17],[29,12,24,10],[29,13,24,11],[30,10,25,8],[31,8,26,6],[31,13,26,11],[31,20,26,18],[32,10,27,8],[33,12,28,10],[33,18,28,16,"nextState"],[33,27,28,25],[33,30,28,28,"action"],[33,36,28,34],[33,37,28,35,"payload"],[33,44,28,42],[34,12,29,10],[34,16,29,14,"nextState"],[34,25,29,23],[34,26,29,24,"routes"],[34,32,29,30],[34,33,29,31,"length"],[34,39,29,37],[34,44,29,42],[34,45,29,43],[34,49,29,47,"nextState"],[34,58,29,56],[34,59,29,57,"routes"],[34,65,29,63],[34,66,29,64,"some"],[34,70,29,68],[34,71,29,69,"route"],[34,76,29,74],[34,80,29,78],[34,81,29,79,"state"],[34,86,29,84],[34,87,29,85,"routeNames"],[34,97,29,95],[34,98,29,96,"includes"],[34,106,29,104],[34,107,29,105,"route"],[34,112,29,110],[34,113,29,111,"name"],[34,117,29,115],[34,118,29,116],[34,119,29,117],[34,121,29,119],[35,14,30,12],[35,21,30,19],[35,25,30,23],[36,12,31,10],[37,12,32,10],[37,16,32,14,"nextState"],[37,25,32,23],[37,26,32,24,"stale"],[37,31,32,29],[37,36,32,34],[37,41,32,39],[37,43,32,41],[38,14,33,12],[38,18,33,16,"state"],[38,23,33,21],[38,24,33,22,"routeNames"],[38,34,33,32],[38,35,33,33,"length"],[38,41,33,39],[38,46,33,44,"nextState"],[38,55,33,53],[38,56,33,54,"routeNames"],[38,66,33,64],[38,67,33,65,"length"],[38,73,33,71],[38,77,33,75,"nextState"],[38,86,33,84],[38,87,33,85,"routeNames"],[38,97,33,95],[38,98,33,96,"some"],[38,102,33,100],[38,103,33,101,"name"],[38,107,33,105],[38,111,33,109],[38,112,33,110,"state"],[38,117,33,115],[38,118,33,116,"routeNames"],[38,128,33,126],[38,129,33,127,"includes"],[38,137,33,135],[38,138,33,136,"name"],[38,142,33,140],[38,143,33,141],[38,144,33,142],[38,146,33,144],[39,16,34,14],[39,23,34,21],[39,27,34,25],[40,14,35,12],[41,14,36,12],[41,21,36,19],[42,16,37,14],[42,19,37,17,"nextState"],[42,28,37,26],[43,16,38,14,"routes"],[43,22,38,20],[43,24,38,22,"nextState"],[43,33,38,31],[43,34,38,32,"routes"],[43,40,38,38],[43,41,38,39,"map"],[43,44,38,42],[43,45,38,43,"route"],[43,50,38,48],[43,54,38,52,"route"],[43,59,38,57],[43,60,38,58,"key"],[43,63,38,61],[43,66,38,64,"route"],[43,71,38,69],[43,74,38,72],[44,18,39,16],[44,21,39,19,"route"],[44,26,39,24],[45,18,40,16,"key"],[45,21,40,19],[45,23,40,21],[45,26,40,24,"route"],[45,31,40,29],[45,32,40,30,"name"],[45,36,40,34],[45,40,40,38],[45,44,40,38,"nanoid"],[45,61,40,44],[45,63,40,45],[45,64,40,46],[46,16,41,14],[46,17,41,15],[47,14,42,12],[47,15,42,13],[48,12,43,10],[49,12,44,10],[49,19,44,17,"nextState"],[49,28,44,26],[50,10,45,8],[51,8,46,6],[52,10,47,8],[52,17,47,15],[52,21,47,19],[53,6,48,4],[54,4,49,2],[54,5,49,3],[55,4,50,2,"shouldActionChangeFocus"],[55,27,50,25,"shouldActionChangeFocus"],[55,28,50,26,"action"],[55,34,50,32],[55,36,50,34],[56,6,51,4],[56,13,51,11,"action"],[56,19,51,17],[56,20,51,18,"type"],[56,24,51,22],[56,29,51,27],[56,39,51,37],[57,4,52,2],[58,2,53,0],[58,3,53,1],[59,2,53,2],[59,6,53,2,"_default"],[59,14,53,2],[59,17,53,2,"exports"],[59,24,53,2],[59,25,53,2,"default"],[59,32,53,2],[59,35,54,15,"BaseRouter"],[59,45,54,25],[60,0,54,25]],"functionMap":{"names":["<global>","getStateForAction","state.routes.findIndex$argument_0","state.routes.map$argument_0","nextState.routes.some$argument_0","nextState.routeNames.some$argument_0","nextState.routes.map$argument_0","shouldActionChangeFocus"],"mappings":"AAA;ECM;+DCI,4BD;qCEM;iBFM;qEGM,+CH;qGII,wCJ;2CKK;eLG;GDQ;EOC;GPE"}},"type":"js/module"}]}