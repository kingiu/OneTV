{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":48,"column":0,"index":1357}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":31,"index":97}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./isArrayEqual","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":99},"end":{"line":4,"column":42,"index":141}}],"key":"ZRD0ObrDdrLEYM/Q9Fj9n7SkSvM="}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":142},"end":{"line":7,"column":36,"index":233}}],"key":"y9eQQdj9MvCs7akL60igi3d/dsI="}},{"name":"./NavigationRouteContext","data":{"asyncType":null,"locs":[{"start":{"line":8,"column":0,"index":234},"end":{"line":8,"column":62,"index":296}}],"key":"HeyVDSY+CsJeYUdsxrU2U3K5dPs="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOnGetState;\n  var React = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _isArrayEqual = _interopRequireDefault(require(_dependencyMap[2], \"./isArrayEqual\"));\n  var _NavigationBuilderContext = _interopRequireDefault(require(_dependencyMap[3], \"./NavigationBuilderContext\"));\n  var _NavigationRouteContext = _interopRequireDefault(require(_dependencyMap[4], \"./NavigationRouteContext\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  function useOnGetState(_ref) {\n    var getState = _ref.getState,\n      getStateListeners = _ref.getStateListeners;\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n      addKeyedListener = _React$useContext.addKeyedListener;\n    var route = React.useContext(_NavigationRouteContext.default);\n    var key = route ? route.key : 'root';\n    var getRehydratedState = React.useCallback(function () {\n      var state = getState();\n\n      // Avoid returning new route objects if we don't need to\n      var routes = state.routes.map(function (route) {\n        var childState = getStateListeners[route.key]?.();\n        if (route.state === childState) {\n          return route;\n        }\n        return {\n          ...route,\n          state: childState\n        };\n      });\n      if ((0, _isArrayEqual.default)(state.routes, routes)) {\n        return state;\n      }\n      return {\n        ...state,\n        routes\n      };\n    }, [getState, getStateListeners]);\n    React.useEffect(function () {\n      return addKeyedListener?.('getState', key, getRehydratedState);\n    }, [addKeyedListener, getRehydratedState, key]);\n  }\n});","lineCount":45,"map":[[7,2,2,0],[7,6,2,0,"React"],[7,11,2,0],[7,14,2,0,"_interopRequireWildcard"],[7,37,2,0],[7,38,2,0,"require"],[7,45,2,0],[7,46,2,0,"_dependencyMap"],[7,60,2,0],[8,2,4,0],[8,6,4,0,"_isArrayEqual"],[8,19,4,0],[8,22,4,0,"_interopRequireDefault"],[8,44,4,0],[8,45,4,0,"require"],[8,52,4,0],[8,53,4,0,"_dependencyMap"],[8,67,4,0],[9,2,5,0],[9,6,5,0,"_NavigationBuilderContext"],[9,31,5,0],[9,34,5,0,"_interopRequireDefault"],[9,56,5,0],[9,57,5,0,"require"],[9,64,5,0],[9,65,5,0,"_dependencyMap"],[9,79,5,0],[10,2,8,0],[10,6,8,0,"_NavigationRouteContext"],[10,29,8,0],[10,32,8,0,"_interopRequireDefault"],[10,54,8,0],[10,55,8,0,"require"],[10,62,8,0],[10,63,8,0,"_dependencyMap"],[10,77,8,0],[11,2,8,62],[11,11,8,62,"_interopRequireWildcard"],[11,35,8,62,"e"],[11,36,8,62],[11,38,8,62,"t"],[11,39,8,62],[11,68,8,62,"WeakMap"],[11,75,8,62],[11,81,8,62,"r"],[11,82,8,62],[11,89,8,62,"WeakMap"],[11,96,8,62],[11,100,8,62,"n"],[11,101,8,62],[11,108,8,62,"WeakMap"],[11,115,8,62],[11,127,8,62,"_interopRequireWildcard"],[11,150,8,62],[11,162,8,62,"_interopRequireWildcard"],[11,163,8,62,"e"],[11,164,8,62],[11,166,8,62,"t"],[11,167,8,62],[11,176,8,62,"t"],[11,177,8,62],[11,181,8,62,"e"],[11,182,8,62],[11,186,8,62,"e"],[11,187,8,62],[11,188,8,62,"__esModule"],[11,198,8,62],[11,207,8,62,"e"],[11,208,8,62],[11,214,8,62,"o"],[11,215,8,62],[11,217,8,62,"i"],[11,218,8,62],[11,220,8,62,"f"],[11,221,8,62],[11,226,8,62,"__proto__"],[11,235,8,62],[11,243,8,62,"default"],[11,250,8,62],[11,252,8,62,"e"],[11,253,8,62],[11,270,8,62,"e"],[11,271,8,62],[11,294,8,62,"e"],[11,295,8,62],[11,320,8,62,"e"],[11,321,8,62],[11,330,8,62,"f"],[11,331,8,62],[11,337,8,62,"o"],[11,338,8,62],[11,341,8,62,"t"],[11,342,8,62],[11,345,8,62,"n"],[11,346,8,62],[11,349,8,62,"r"],[11,350,8,62],[11,358,8,62,"o"],[11,359,8,62],[11,360,8,62,"has"],[11,363,8,62],[11,364,8,62,"e"],[11,365,8,62],[11,375,8,62,"o"],[11,376,8,62],[11,377,8,62,"get"],[11,380,8,62],[11,381,8,62,"e"],[11,382,8,62],[11,385,8,62,"o"],[11,386,8,62],[11,387,8,62,"set"],[11,390,8,62],[11,391,8,62,"e"],[11,392,8,62],[11,394,8,62,"f"],[11,395,8,62],[11,409,8,62,"_t"],[11,411,8,62],[11,415,8,62,"e"],[11,416,8,62],[11,432,8,62,"_t"],[11,434,8,62],[11,441,8,62,"hasOwnProperty"],[11,455,8,62],[11,456,8,62,"call"],[11,460,8,62],[11,461,8,62,"e"],[11,462,8,62],[11,464,8,62,"_t"],[11,466,8,62],[11,473,8,62,"i"],[11,474,8,62],[11,478,8,62,"o"],[11,479,8,62],[11,482,8,62,"Object"],[11,488,8,62],[11,489,8,62,"defineProperty"],[11,503,8,62],[11,508,8,62,"Object"],[11,514,8,62],[11,515,8,62,"getOwnPropertyDescriptor"],[11,539,8,62],[11,540,8,62,"e"],[11,541,8,62],[11,543,8,62,"_t"],[11,545,8,62],[11,552,8,62,"i"],[11,553,8,62],[11,554,8,62,"get"],[11,557,8,62],[11,561,8,62,"i"],[11,562,8,62],[11,563,8,62,"set"],[11,566,8,62],[11,570,8,62,"o"],[11,571,8,62],[11,572,8,62,"f"],[11,573,8,62],[11,575,8,62,"_t"],[11,577,8,62],[11,579,8,62,"i"],[11,580,8,62],[11,584,8,62,"f"],[11,585,8,62],[11,586,8,62,"_t"],[11,588,8,62],[11,592,8,62,"e"],[11,593,8,62],[11,594,8,62,"_t"],[11,596,8,62],[11,607,8,62,"f"],[11,608,8,62],[11,613,8,62,"e"],[11,614,8,62],[11,616,8,62,"t"],[11,617,8,62],[12,2,15,15],[12,11,15,24,"useOnGetState"],[12,24,15,37,"useOnGetState"],[12,25,15,37,"_ref"],[12,29,15,37],[12,31,18,12],[13,4,18,12],[13,8,16,2,"getState"],[13,16,16,10],[13,19,16,10,"_ref"],[13,23,16,10],[13,24,16,2,"getState"],[13,32,16,10],[14,6,17,2,"getStateListeners"],[14,23,17,19],[14,26,17,19,"_ref"],[14,30,17,19],[14,31,17,2,"getStateListeners"],[14,48,17,19],[15,4,19,2],[15,8,19,2,"_React$useContext"],[15,25,19,2],[15,28,19,31,"React"],[15,33,19,36],[15,34,19,37,"useContext"],[15,44,19,47],[15,45,19,48,"NavigationBuilderContext"],[15,78,19,72],[15,79,19,73],[16,6,19,10,"addKeyedListener"],[16,22,19,26],[16,25,19,26,"_React$useContext"],[16,42,19,26],[16,43,19,10,"addKeyedListener"],[16,59,19,26],[17,4,20,2],[17,8,20,8,"route"],[17,13,20,13],[17,16,20,16,"React"],[17,21,20,21],[17,22,20,22,"useContext"],[17,32,20,32],[17,33,20,33,"NavigationRouteContext"],[17,64,20,55],[17,65,20,56],[18,4,21,2],[18,8,21,8,"key"],[18,11,21,11],[18,14,21,14,"route"],[18,19,21,19],[18,22,21,22,"route"],[18,27,21,27],[18,28,21,28,"key"],[18,31,21,31],[18,34,21,34],[18,40,21,40],[19,4,23,2],[19,8,23,8,"getRehydratedState"],[19,26,23,26],[19,29,23,29,"React"],[19,34,23,34],[19,35,23,35,"useCallback"],[19,46,23,46],[19,47,23,47],[19,59,23,53],[20,6,24,4],[20,10,24,10,"state"],[20,15,24,15],[20,18,24,18,"getState"],[20,26,24,26],[20,27,24,27],[20,28,24,28],[22,6,26,4],[23,6,27,4],[23,10,27,10,"routes"],[23,16,27,16],[23,19,27,19,"state"],[23,24,27,24],[23,25,27,25,"routes"],[23,31,27,31],[23,32,27,32,"map"],[23,35,27,35],[23,36,27,36],[23,46,27,37,"route"],[23,51,27,42],[23,53,27,47],[24,8,28,6],[24,12,28,12,"childState"],[24,22,28,22],[24,25,28,25,"getStateListeners"],[24,42,28,42],[24,43,28,43,"route"],[24,48,28,48],[24,49,28,49,"key"],[24,52,28,52],[24,53,28,53],[24,56,28,56],[24,57,28,57],[25,8,30,6],[25,12,30,10,"route"],[25,17,30,15],[25,18,30,16,"state"],[25,23,30,21],[25,28,30,26,"childState"],[25,38,30,36],[25,40,30,38],[26,10,31,8],[26,17,31,15,"route"],[26,22,31,20],[27,8,32,6],[28,8,34,6],[28,15,34,13],[29,10,34,15],[29,13,34,18,"route"],[29,18,34,23],[30,10,34,25,"state"],[30,15,34,30],[30,17,34,32,"childState"],[31,8,34,43],[31,9,34,44],[32,6,35,4],[32,7,35,5],[32,8,35,6],[33,6,37,4],[33,10,37,8],[33,14,37,8,"isArrayEqual"],[33,35,37,20],[33,37,37,21,"state"],[33,42,37,26],[33,43,37,27,"routes"],[33,49,37,33],[33,51,37,35,"routes"],[33,57,37,41],[33,58,37,42],[33,60,37,44],[34,8,38,6],[34,15,38,13,"state"],[34,20,38,18],[35,6,39,4],[36,6,41,4],[36,13,41,11],[37,8,41,13],[37,11,41,16,"state"],[37,16,41,21],[38,8,41,23,"routes"],[39,6,41,30],[39,7,41,31],[40,4,42,2],[40,5,42,3],[40,7,42,5],[40,8,42,6,"getState"],[40,16,42,14],[40,18,42,16,"getStateListeners"],[40,35,42,33],[40,36,42,34],[40,37,42,35],[41,4,44,2,"React"],[41,9,44,7],[41,10,44,8,"useEffect"],[41,19,44,17],[41,20,44,18],[41,32,44,24],[42,6,45,4],[42,13,45,11,"addKeyedListener"],[42,29,45,27],[42,32,45,30],[42,42,45,40],[42,44,45,42,"key"],[42,47,45,45],[42,49,45,47,"getRehydratedState"],[42,67,45,65],[42,68,45,66],[43,4,46,2],[43,5,46,3],[43,7,46,5],[43,8,46,6,"addKeyedListener"],[43,24,46,22],[43,26,46,24,"getRehydratedState"],[43,44,46,42],[43,46,46,44,"key"],[43,49,46,47],[43,50,46,48],[43,51,46,49],[44,2,47,0],[45,0,47,1]],"functionMap":{"names":["<global>","useOnGetState","getRehydratedState","state.routes.map$argument_0","React.useEffect$argument_0"],"mappings":"AAA;eCc;+CCQ;oCCI;KDQ;GDO;kBGE;GHE;CDC"}},"type":"js/module"}]}