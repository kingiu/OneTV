{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":279,"column":29,"index":8335}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":279,"column":29,"index":8335}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":279,"column":29,"index":8335}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":279,"column":29,"index":8335}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":279,"column":29,"index":8335}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"react-native","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":48,"index":89}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":90},"end":{"line":3,"column":54,"index":144}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":145},"end":{"line":4,"column":36,"index":181}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  var _reactNativeTcpSocket = _interopRequireDefault(require(_dependencyMap[6], \"react-native-tcp-socket\"));\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[7], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[8], \"@/utils/Logger\"));\n  var logger = _Logger.default.withTag('TCPHttpServer');\n  var PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n  var TCPHttpServer = /*#__PURE__*/function () {\n    function TCPHttpServer() {\n      (0, _classCallCheck2.default)(this, TCPHttpServer);\n      this.server = null;\n      this.isRunning = false;\n      this.requestHandler = null;\n      this.server = null;\n    }\n    return (0, _createClass2.default)(TCPHttpServer, [{\n      key: \"parseHttpRequest\",\n      value: function parseHttpRequest(data) {\n        try {\n          var lines = data.split('\\r\\n');\n          var requestLine = lines[0].split(' ');\n          if (requestLine.length < 3) {\n            return null;\n          }\n          var method = requestLine[0];\n          var url = requestLine[1];\n          var headers = {};\n          var bodyStartIndex = -1;\n          for (var i = 1; i < lines.length; i++) {\n            var line = lines[i];\n            if (line === '') {\n              bodyStartIndex = i + 1;\n              break;\n            }\n            var colonIndex = line.indexOf(':');\n            if (colonIndex > 0) {\n              var key = line.substring(0, colonIndex).trim().toLowerCase();\n              var value = line.substring(colonIndex + 1).trim();\n              headers[key] = value;\n            }\n          }\n          var body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n          return {\n            method,\n            url,\n            headers,\n            body\n          };\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n          return null;\n        }\n      }\n    }, {\n      key: \"formatHttpResponse\",\n      value: function formatHttpResponse(response) {\n        var statusTexts = {\n          200: 'OK',\n          400: 'Bad Request',\n          404: 'Not Found',\n          500: 'Internal Server Error'\n        };\n        var statusText = statusTexts[response.statusCode] || 'Unknown';\n        var headers = {\n          'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n          'Connection': 'close',\n          ...response.headers\n        };\n        var httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n        for (var _ref of Object.entries(headers)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n          var key = _ref2[0];\n          var value = _ref2[1];\n          httpResponse += `${key}: ${value}\\r\\n`;\n        }\n        httpResponse += '\\r\\n';\n        httpResponse += response.body;\n        return httpResponse;\n      }\n    }, {\n      key: \"setRequestHandler\",\n      value: function setRequestHandler(handler) {\n        this.requestHandler = handler;\n      }\n    }, {\n      key: \"start\",\n      value: function () {\n        var _start = (0, _asyncToGenerator2.default)(function* () {\n          var _this = this;\n          // 确保之前的服务器实例已关闭\n          if (this.server && !this.isRunning) {\n            try {\n              this.server.close();\n              logger.debug('[TCPHttpServer] Old server instance closed');\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing old server:', error);\n            }\n            this.server = null;\n          }\n          var netState = yield _netinfo.default.fetch();\n          var ipAddress = null;\n          if (netState.type === 'wifi' || netState.type === 'ethernet') {\n            ipAddress = netState.details?.ipAddress ?? null;\n          }\n          if (!ipAddress) {\n            throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n          }\n          if (this.isRunning) {\n            logger.debug('[TCPHttpServer] Server is already running.');\n            return `http://${ipAddress}:${PORT}`;\n          }\n\n          // Web平台不支持TCP服务器\n          if (_reactNative.Platform.OS === 'web') {\n            logger.error('[TCPHttpServer] TCP server not supported on web platform');\n            throw new Error('Web平台不支持TCP服务器');\n          }\n          return new Promise(function (resolve, reject) {\n            try {\n              // 检查TcpSocket是否可用\n              if (!_reactNativeTcpSocket.default || typeof _reactNativeTcpSocket.default.createServer !== 'function') {\n                logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n                reject(new Error('TCP服务器初始化失败'));\n                return;\n              }\n\n              // 确保在创建新服务器前，server为null\n              if (_this.server) {\n                try {\n                  _this.server.close();\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error closing previous server:', error);\n                }\n                _this.server = null;\n              }\n\n              // 创建服务器实例\n              _this.server = _reactNativeTcpSocket.default.createServer(function (socket) {\n                logger.debug('[TCPHttpServer] Client connected');\n                var requestData = '';\n                socket.on('data', /*#__PURE__*/function () {\n                  var _ref3 = (0, _asyncToGenerator2.default)(function* (data) {\n                    requestData += data.toString();\n\n                    // Check if we have a complete HTTP request\n                    if (requestData.includes('\\r\\n\\r\\n')) {\n                      try {\n                        var _request = _this.parseHttpRequest(requestData);\n                        if (_request && _this.requestHandler) {\n                          var response = yield _this.requestHandler(_request);\n                          var httpResponse = _this.formatHttpResponse(response);\n                          socket.write(httpResponse);\n                        } else {\n                          // Send 400 Bad Request for malformed requests\n                          var errorResponse = _this.formatHttpResponse({\n                            statusCode: 400,\n                            headers: {\n                              'Content-Type': 'text/plain'\n                            },\n                            body: 'Bad Request'\n                          });\n                          socket.write(errorResponse);\n                        }\n                      } catch (error) {\n                        logger.info('[TCPHttpServer] Error handling request:', error);\n                        var _errorResponse = _this.formatHttpResponse({\n                          statusCode: 500,\n                          headers: {\n                            'Content-Type': 'text/plain'\n                          },\n                          body: 'Internal Server Error'\n                        });\n                        socket.write(_errorResponse);\n                      }\n                      socket.end();\n                      requestData = '';\n                    }\n                  });\n                  return function (_x) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n                socket.on('error', function (error) {\n                  logger.info('[TCPHttpServer] Socket error:', error);\n                });\n                socket.on('close', function () {\n                  logger.debug('[TCPHttpServer] Client disconnected');\n                });\n              });\n\n              // 确保server不为null再调用listen\n              if (!_this.server) {\n                logger.error('[TCPHttpServer] Server instance is null');\n                reject(new Error('服务器实例创建失败'));\n                return;\n              }\n\n              // 添加错误处理，确保listen方法存在并且是函数\n              if (!_this.server.listen || typeof _this.server.listen !== 'function') {\n                logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n                reject(new Error('服务器监听方法不可用'));\n                return;\n              }\n              _this.server.listen({\n                port: PORT,\n                host: '0.0.0.0'\n              }, function () {\n                logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n                _this.isRunning = true;\n                resolve(`http://${ipAddress}:${PORT}`);\n              });\n              _this.server.on('error', function (error) {\n                logger.info('[TCPHttpServer] Server error:', error);\n                _this.isRunning = false;\n                // 针对端口占用的错误提供更友好的消息\n                if (error.message && error.message.includes('EADDRINUSE')) {\n                  reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n                } else {\n                  reject(error);\n                }\n              });\n            } catch (error) {\n              logger.info('[TCPHttpServer] Failed to start server:', error);\n              reject(error);\n            }\n          });\n        });\n        function start() {\n          return _start.apply(this, arguments);\n        }\n        return start;\n      }()\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        try {\n          if (this.server) {\n            this.server.close();\n            logger.debug('[TCPHttpServer] Server stopped');\n          }\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error stopping server:', error);\n        } finally {\n          this.isRunning = false;\n          this.server = null;\n        }\n      }\n    }, {\n      key: \"getIsRunning\",\n      value: function getIsRunning() {\n        return this.isRunning;\n      }\n    }]);\n  }();\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":269,"map":[[11,2,1,0],[11,6,1,0,"_reactNative"],[11,18,1,0],[11,21,1,0,"require"],[11,28,1,0],[11,29,1,0,"_dependencyMap"],[11,43,1,0],[12,2,2,0],[12,6,2,0,"_reactNativeTcpSocket"],[12,27,2,0],[12,30,2,0,"_interopRequireDefault"],[12,52,2,0],[12,53,2,0,"require"],[12,60,2,0],[12,61,2,0,"_dependencyMap"],[12,75,2,0],[13,2,3,0],[13,6,3,0,"_netinfo"],[13,14,3,0],[13,17,3,0,"_interopRequireDefault"],[13,39,3,0],[13,40,3,0,"require"],[13,47,3,0],[13,48,3,0,"_dependencyMap"],[13,62,3,0],[14,2,4,0],[14,6,4,0,"_Logger"],[14,13,4,0],[14,16,4,0,"_interopRequireDefault"],[14,38,4,0],[14,39,4,0,"require"],[14,46,4,0],[14,47,4,0,"_dependencyMap"],[14,61,4,0],[15,2,6,0],[15,6,6,6,"logger"],[15,12,6,12],[15,15,6,15,"Logger"],[15,30,6,21],[15,31,6,22,"withTag"],[15,38,6,29],[15,39,6,30],[15,54,6,45],[15,55,6,46],[16,2,8,0],[16,6,8,6,"PORT"],[16,10,8,10],[16,13,8,13],[16,18,8,18],[18,2,10,0],[20,2,17,0],[21,2,17,0],[21,6,42,6,"TCPHttpServer"],[21,19,42,19],[22,4,47,2],[22,13,47,2,"TCPHttpServer"],[22,27,47,2],[22,29,47,16],[23,6,47,16],[23,10,47,16,"_classCallCheck2"],[23,26,47,16],[23,27,47,16,"default"],[23,34,47,16],[23,42,47,16,"TCPHttpServer"],[23,55,47,16],[24,6,47,16],[24,11,43,10,"server"],[24,17,43,16],[24,20,43,44],[24,24,43,48],[25,6,43,48],[25,11,44,10,"isRunning"],[25,20,44,19],[25,23,44,22],[25,28,44,27],[26,6,44,27],[26,11,45,10,"requestHandler"],[26,25,45,24],[26,28,45,50],[26,32,45,54],[27,6,48,4],[27,10,48,8],[27,11,48,9,"server"],[27,17,48,15],[27,20,48,18],[27,24,48,22],[28,4,49,2],[29,4,49,3],[29,15,49,3,"_createClass2"],[29,28,49,3],[29,29,49,3,"default"],[29,36,49,3],[29,38,49,3,"TCPHttpServer"],[29,51,49,3],[30,6,49,3,"key"],[30,9,49,3],[31,6,49,3,"value"],[31,11,49,3],[31,13,51,2],[31,22,51,10,"parseHttpRequest"],[31,38,51,26,"parseHttpRequest"],[31,39,51,27,"data"],[31,43,51,39],[31,45,51,61],[32,8,52,4],[32,12,52,8],[33,10,53,6],[33,14,53,12,"lines"],[33,19,53,17],[33,22,53,20,"data"],[33,26,53,24],[33,27,53,25,"split"],[33,32,53,30],[33,33,53,31],[33,39,53,37],[33,40,53,38],[34,10,54,6],[34,14,54,12,"requestLine"],[34,25,54,23],[34,28,54,26,"lines"],[34,33,54,31],[34,34,54,32],[34,35,54,33],[34,36,54,34],[34,37,54,35,"split"],[34,42,54,40],[34,43,54,41],[34,46,54,44],[34,47,54,45],[35,10,56,6],[35,14,56,10,"requestLine"],[35,25,56,21],[35,26,56,22,"length"],[35,32,56,28],[35,35,56,31],[35,36,56,32],[35,38,56,34],[36,12,57,8],[36,19,57,15],[36,23,57,19],[37,10,58,6],[38,10,60,6],[38,14,60,12,"method"],[38,20,60,18],[38,23,60,21,"requestLine"],[38,34,60,32],[38,35,60,33],[38,36,60,34],[38,37,60,35],[39,10,61,6],[39,14,61,12,"url"],[39,17,61,15],[39,20,61,18,"requestLine"],[39,31,61,29],[39,32,61,30],[39,33,61,31],[39,34,61,32],[40,10,62,6],[40,14,62,12,"headers"],[40,21,62,46],[40,24,62,49],[40,25,62,50],[40,26,62,51],[41,10,64,6],[41,14,64,10,"bodyStartIndex"],[41,28,64,24],[41,31,64,27],[41,32,64,28],[41,33,64,29],[42,10,65,6],[42,15,65,11],[42,19,65,15,"i"],[42,20,65,16],[42,23,65,19],[42,24,65,20],[42,26,65,22,"i"],[42,27,65,23],[42,30,65,26,"lines"],[42,35,65,31],[42,36,65,32,"length"],[42,42,65,38],[42,44,65,40,"i"],[42,45,65,41],[42,47,65,43],[42,49,65,45],[43,12,66,8],[43,16,66,14,"line"],[43,20,66,18],[43,23,66,21,"lines"],[43,28,66,26],[43,29,66,27,"i"],[43,30,66,28],[43,31,66,29],[44,12,67,8],[44,16,67,12,"line"],[44,20,67,16],[44,25,67,21],[44,27,67,23],[44,29,67,25],[45,14,68,10,"bodyStartIndex"],[45,28,68,24],[45,31,68,27,"i"],[45,32,68,28],[45,35,68,31],[45,36,68,32],[46,14,69,10],[47,12,70,8],[48,12,71,8],[48,16,71,14,"colonIndex"],[48,26,71,24],[48,29,71,27,"line"],[48,33,71,31],[48,34,71,32,"indexOf"],[48,41,71,39],[48,42,71,40],[48,45,71,43],[48,46,71,44],[49,12,72,8],[49,16,72,12,"colonIndex"],[49,26,72,22],[49,29,72,25],[49,30,72,26],[49,32,72,28],[50,14,73,10],[50,18,73,16,"key"],[50,21,73,19],[50,24,73,22,"line"],[50,28,73,26],[50,29,73,27,"substring"],[50,38,73,36],[50,39,73,37],[50,40,73,38],[50,42,73,40,"colonIndex"],[50,52,73,50],[50,53,73,51],[50,54,73,52,"trim"],[50,58,73,56],[50,59,73,57],[50,60,73,58],[50,61,73,59,"toLowerCase"],[50,72,73,70],[50,73,73,71],[50,74,73,72],[51,14,74,10],[51,18,74,16,"value"],[51,23,74,21],[51,26,74,24,"line"],[51,30,74,28],[51,31,74,29,"substring"],[51,40,74,38],[51,41,74,39,"colonIndex"],[51,51,74,49],[51,54,74,52],[51,55,74,53],[51,56,74,54],[51,57,74,55,"trim"],[51,61,74,59],[51,62,74,60],[51,63,74,61],[52,14,75,10,"headers"],[52,21,75,17],[52,22,75,18,"key"],[52,25,75,21],[52,26,75,22],[52,29,75,25,"value"],[52,34,75,30],[53,12,76,8],[54,10,77,6],[55,10,79,6],[55,14,79,12,"body"],[55,18,79,16],[55,21,79,19,"bodyStartIndex"],[55,35,79,33],[55,38,79,36],[55,39,79,37],[55,42,79,40,"lines"],[55,47,79,45],[55,48,79,46,"slice"],[55,53,79,51],[55,54,79,52,"bodyStartIndex"],[55,68,79,66],[55,69,79,67],[55,70,79,68,"join"],[55,74,79,72],[55,75,79,73],[55,81,79,79],[55,82,79,80],[55,85,79,83],[55,87,79,85],[56,10,81,6],[56,17,81,13],[57,12,81,15,"method"],[57,18,81,21],[58,12,81,23,"url"],[58,15,81,26],[59,12,81,28,"headers"],[59,19,81,35],[60,12,81,37,"body"],[61,10,81,42],[61,11,81,43],[62,8,82,4],[62,9,82,5],[62,10,82,6],[62,17,82,13,"error"],[62,22,82,18],[62,24,82,20],[63,10,83,6,"logger"],[63,16,83,12],[63,17,83,13,"info"],[63,21,83,17],[63,22,83,18],[63,67,83,63],[63,69,83,65,"error"],[63,74,83,70],[63,75,83,71],[64,10,84,6],[64,17,84,13],[64,21,84,17],[65,8,85,4],[66,6,86,2],[67,4,86,3],[68,6,86,3,"key"],[68,9,86,3],[69,6,86,3,"value"],[69,11,86,3],[69,13,88,2],[69,22,88,10,"formatHttpResponse"],[69,40,88,28,"formatHttpResponse"],[69,41,88,29,"response"],[69,49,88,51],[69,51,88,61],[70,8,89,4],[70,12,89,10,"statusTexts"],[70,23,89,48],[70,26,89,51],[71,10,90,6],[71,13,90,9],[71,15,90,11],[71,19,90,15],[72,10,91,6],[72,13,91,9],[72,15,91,11],[72,28,91,24],[73,10,92,6],[73,13,92,9],[73,15,92,11],[73,26,92,22],[74,10,93,6],[74,13,93,9],[74,15,93,11],[75,8,94,4],[75,9,94,5],[76,8,96,4],[76,12,96,10,"statusText"],[76,22,96,20],[76,25,96,23,"statusTexts"],[76,36,96,34],[76,37,96,35,"response"],[76,45,96,43],[76,46,96,44,"statusCode"],[76,56,96,54],[76,57,96,55],[76,61,96,59],[76,70,96,68],[77,8,97,4],[77,12,97,10,"headers"],[77,19,97,17],[77,22,97,20],[78,10,98,6],[78,26,98,22],[78,28,98,24],[78,32,98,28,"TextEncoder"],[78,43,98,39],[78,44,98,40],[78,45,98,41],[78,46,98,42,"encode"],[78,52,98,48],[78,53,98,49,"response"],[78,61,98,57],[78,62,98,58,"body"],[78,66,98,62],[78,67,98,63],[78,68,98,64,"length"],[78,74,98,70],[78,75,98,71,"toString"],[78,83,98,79],[78,84,98,80],[78,85,98,81],[79,10,99,6],[79,22,99,18],[79,24,99,20],[79,31,99,27],[80,10,100,6],[80,13,100,9,"response"],[80,21,100,17],[80,22,100,18,"headers"],[81,8,101,4],[81,9,101,5],[82,8,103,4],[82,12,103,8,"httpResponse"],[82,24,103,20],[82,27,103,23],[82,39,103,35,"response"],[82,47,103,43],[82,48,103,44,"statusCode"],[82,58,103,54],[82,62,103,58,"statusText"],[82,72,103,68],[82,78,103,74],[83,8,105,4],[83,17,105,4,"_ref"],[83,21,105,4],[83,25,105,31,"Object"],[83,31,105,37],[83,32,105,38,"entries"],[83,39,105,45],[83,40,105,46,"headers"],[83,47,105,53],[83,48,105,54],[83,50,105,56],[84,10,105,56],[84,14,105,56,"_ref2"],[84,19,105,56],[84,26,105,56,"_slicedToArray2"],[84,41,105,56],[84,42,105,56,"default"],[84,49,105,56],[84,51,105,56,"_ref"],[84,55,105,56],[85,10,105,56],[85,14,105,16,"key"],[85,17,105,19],[85,20,105,19,"_ref2"],[85,25,105,19],[86,10,105,19],[86,14,105,21,"value"],[86,19,105,26],[86,22,105,26,"_ref2"],[86,27,105,26],[87,10,106,6,"httpResponse"],[87,22,106,18],[87,26,106,22],[87,29,106,25,"key"],[87,32,106,28],[87,37,106,33,"value"],[87,42,106,38],[87,48,106,44],[88,8,107,4],[89,8,109,4,"httpResponse"],[89,20,109,16],[89,24,109,20],[89,30,109,26],[90,8,110,4,"httpResponse"],[90,20,110,16],[90,24,110,20,"response"],[90,32,110,28],[90,33,110,29,"body"],[90,37,110,33],[91,8,112,4],[91,15,112,11,"httpResponse"],[91,27,112,23],[92,6,113,2],[93,4,113,3],[94,6,113,3,"key"],[94,9,113,3],[95,6,113,3,"value"],[95,11,113,3],[95,13,115,2],[95,22,115,9,"setRequestHandler"],[95,39,115,26,"setRequestHandler"],[95,40,115,27,"handler"],[95,47,115,50],[95,49,115,52],[96,8,116,4],[96,12,116,8],[96,13,116,9,"requestHandler"],[96,27,116,23],[96,30,116,26,"handler"],[96,37,116,33],[97,6,117,2],[98,4,117,3],[99,6,117,3,"key"],[99,9,117,3],[100,6,117,3,"value"],[100,11,117,3],[101,8,117,3],[101,12,117,3,"_start"],[101,18,117,3],[101,25,117,3,"_asyncToGenerator2"],[101,43,117,3],[101,44,117,3,"default"],[101,51,117,3],[101,53,119,2],[101,66,119,40],[102,10,119,40],[102,14,119,40,"_this"],[102,19,119,40],[103,10,120,4],[104,10,121,4],[104,14,121,8],[104,18,121,12],[104,19,121,13,"server"],[104,25,121,19],[104,29,121,23],[104,30,121,24],[104,34,121,28],[104,35,121,29,"isRunning"],[104,44,121,38],[104,46,121,40],[105,12,122,6],[105,16,122,10],[106,14,123,8],[106,18,123,12],[106,19,123,13,"server"],[106,25,123,19],[106,26,123,20,"close"],[106,31,123,25],[106,32,123,26],[106,33,123,27],[107,14,124,8,"logger"],[107,20,124,14],[107,21,124,15,"debug"],[107,26,124,20],[107,27,124,21],[107,71,124,65],[107,72,124,66],[108,12,125,6],[108,13,125,7],[108,14,125,8],[108,21,125,15,"error"],[108,26,125,20],[108,28,125,22],[109,14,126,8,"logger"],[109,20,126,14],[109,21,126,15,"info"],[109,25,126,19],[109,26,126,20],[109,69,126,63],[109,71,126,65,"error"],[109,76,126,70],[109,77,126,71],[110,12,127,6],[111,12,128,6],[111,16,128,10],[111,17,128,11,"server"],[111,23,128,17],[111,26,128,20],[111,30,128,24],[112,10,129,4],[113,10,131,4],[113,14,131,10,"netState"],[113,22,131,18],[113,31,131,27,"NetInfo"],[113,47,131,34],[113,48,131,35,"fetch"],[113,53,131,40],[113,54,131,41],[113,55,131,42],[114,10,132,4],[114,14,132,8,"ipAddress"],[114,23,132,32],[114,26,132,35],[114,30,132,39],[115,10,134,4],[115,14,134,8,"netState"],[115,22,134,16],[115,23,134,17,"type"],[115,27,134,21],[115,32,134,26],[115,38,134,32],[115,42,134,36,"netState"],[115,50,134,44],[115,51,134,45,"type"],[115,55,134,49],[115,60,134,54],[115,70,134,64],[115,72,134,66],[116,12,135,6,"ipAddress"],[116,21,135,15],[116,24,135,19,"netState"],[116,32,135,27],[116,33,135,28,"details"],[116,40,135,35],[116,42,135,45,"ipAddress"],[116,51,135,54],[116,55,135,58],[116,59,135,62],[117,10,136,4],[118,10,138,4],[118,14,138,8],[118,15,138,9,"ipAddress"],[118,24,138,18],[118,26,138,20],[119,12,139,6],[119,18,139,12],[119,22,139,16,"Error"],[119,27,139,21],[119,28,139,22],[119,57,139,51],[119,58,139,52],[120,10,140,4],[121,10,142,4],[121,14,142,8],[121,18,142,12],[121,19,142,13,"isRunning"],[121,28,142,22],[121,30,142,24],[122,12,143,6,"logger"],[122,18,143,12],[122,19,143,13,"debug"],[122,24,143,18],[122,25,143,19],[122,69,143,63],[122,70,143,64],[123,12,144,6],[123,19,144,13],[123,29,144,23,"ipAddress"],[123,38,144,32],[123,42,144,36,"PORT"],[123,46,144,40],[123,48,144,42],[124,10,145,4],[126,10,147,4],[127,10,148,4],[127,14,148,8,"Platform"],[127,35,148,16],[127,36,148,17,"OS"],[127,38,148,19],[127,43,148,24],[127,48,148,29],[127,50,148,31],[128,12,149,6,"logger"],[128,18,149,12],[128,19,149,13,"error"],[128,24,149,18],[128,25,149,19],[128,83,149,77],[128,84,149,78],[129,12,150,6],[129,18,150,12],[129,22,150,16,"Error"],[129,27,150,21],[129,28,150,22],[129,44,150,38],[129,45,150,39],[130,10,151,4],[131,10,153,4],[131,17,153,11],[131,21,153,15,"Promise"],[131,28,153,22],[131,29,153,23],[131,39,153,24,"resolve"],[131,46,153,31],[131,48,153,33,"reject"],[131,54,153,39],[131,56,153,44],[132,12,154,6],[132,16,154,10],[133,14,155,8],[134,14,156,8],[134,18,156,12],[134,19,156,13,"TcpSocket"],[134,48,156,22],[134,52,156,26],[134,59,156,33,"TcpSocket"],[134,88,156,42],[134,89,156,43,"createServer"],[134,101,156,55],[134,106,156,60],[134,116,156,70],[134,118,156,72],[135,16,157,10,"logger"],[135,22,157,16],[135,23,157,17,"error"],[135,28,157,22],[135,29,157,23],[135,97,157,91],[135,98,157,92],[136,16,158,10,"reject"],[136,22,158,16],[136,23,158,17],[136,27,158,21,"Error"],[136,32,158,26],[136,33,158,27],[136,46,158,40],[136,47,158,41],[136,48,158,42],[137,16,159,10],[138,14,160,8],[140,14,162,8],[141,14,163,8],[141,18,163,12,"_this"],[141,23,163,16],[141,24,163,17,"server"],[141,30,163,23],[141,32,163,25],[142,16,164,10],[142,20,164,14],[143,18,165,12,"_this"],[143,23,165,16],[143,24,165,17,"server"],[143,30,165,23],[143,31,165,24,"close"],[143,36,165,29],[143,37,165,30],[143,38,165,31],[144,16,166,10],[144,17,166,11],[144,18,166,12],[144,25,166,19,"error"],[144,30,166,24],[144,32,166,26],[145,18,167,12,"logger"],[145,24,167,18],[145,25,167,19,"info"],[145,29,167,23],[145,30,167,24],[145,78,167,72],[145,80,167,74,"error"],[145,85,167,79],[145,86,167,80],[146,16,168,10],[147,16,169,10,"_this"],[147,21,169,14],[147,22,169,15,"server"],[147,28,169,21],[147,31,169,24],[147,35,169,28],[148,14,170,8],[150,14,172,8],[151,14,173,8,"_this"],[151,19,173,12],[151,20,173,13,"server"],[151,26,173,19],[151,29,173,22,"TcpSocket"],[151,58,173,31],[151,59,173,32,"createServer"],[151,71,173,44],[151,72,173,45],[151,82,173,46,"socket"],[151,88,173,70],[151,90,173,75],[152,16,174,10,"logger"],[152,22,174,16],[152,23,174,17,"debug"],[152,28,174,22],[152,29,174,23],[152,63,174,57],[152,64,174,58],[153,16,176,10],[153,20,176,14,"requestData"],[153,31,176,25],[153,34,176,28],[153,36,176,30],[154,16,178,10,"socket"],[154,22,178,16],[154,23,178,17,"on"],[154,25,178,19],[154,26,178,20],[154,32,178,26],[155,18,178,26],[155,22,178,26,"_ref3"],[155,27,178,26],[155,34,178,26,"_asyncToGenerator2"],[155,52,178,26],[155,53,178,26,"default"],[155,60,178,26],[155,62,178,28],[155,73,178,35,"data"],[155,77,178,56],[155,79,178,61],[156,20,179,12,"requestData"],[156,31,179,23],[156,35,179,27,"data"],[156,39,179,31],[156,40,179,32,"toString"],[156,48,179,40],[156,49,179,41],[156,50,179,42],[158,20,181,12],[159,20,182,12],[159,24,182,16,"requestData"],[159,35,182,27],[159,36,182,28,"includes"],[159,44,182,36],[159,45,182,37],[159,55,182,47],[159,56,182,48],[159,58,182,50],[160,22,183,14],[160,26,183,18],[161,24,184,16],[161,28,184,22,"request"],[161,36,184,29],[161,39,184,32,"_this"],[161,44,184,36],[161,45,184,37,"parseHttpRequest"],[161,61,184,53],[161,62,184,54,"requestData"],[161,73,184,65],[161,74,184,66],[162,24,185,16],[162,28,185,20,"request"],[162,36,185,27],[162,40,185,31,"_this"],[162,45,185,35],[162,46,185,36,"requestHandler"],[162,60,185,50],[162,62,185,52],[163,26,186,18],[163,30,186,24,"response"],[163,38,186,32],[163,47,186,41,"_this"],[163,52,186,45],[163,53,186,46,"requestHandler"],[163,67,186,60],[163,68,186,61,"request"],[163,76,186,68],[163,77,186,69],[164,26,187,18],[164,30,187,24,"httpResponse"],[164,42,187,36],[164,45,187,39,"_this"],[164,50,187,43],[164,51,187,44,"formatHttpResponse"],[164,69,187,62],[164,70,187,63,"response"],[164,78,187,71],[164,79,187,72],[165,26,188,18,"socket"],[165,32,188,24],[165,33,188,25,"write"],[165,38,188,30],[165,39,188,31,"httpResponse"],[165,51,188,43],[165,52,188,44],[166,24,189,16],[166,25,189,17],[166,31,189,23],[167,26,190,18],[168,26,191,18],[168,30,191,24,"errorResponse"],[168,43,191,37],[168,46,191,40,"_this"],[168,51,191,44],[168,52,191,45,"formatHttpResponse"],[168,70,191,63],[168,71,191,64],[169,28,192,20,"statusCode"],[169,38,192,30],[169,40,192,32],[169,43,192,35],[170,28,193,20,"headers"],[170,35,193,27],[170,37,193,29],[171,30,193,31],[171,44,193,45],[171,46,193,47],[172,28,193,60],[172,29,193,61],[173,28,194,20,"body"],[173,32,194,24],[173,34,194,26],[174,26,195,18],[174,27,195,19],[174,28,195,20],[175,26,196,18,"socket"],[175,32,196,24],[175,33,196,25,"write"],[175,38,196,30],[175,39,196,31,"errorResponse"],[175,52,196,44],[175,53,196,45],[176,24,197,16],[177,22,198,14],[177,23,198,15],[177,24,198,16],[177,31,198,23,"error"],[177,36,198,28],[177,38,198,30],[178,24,199,16,"logger"],[178,30,199,22],[178,31,199,23,"info"],[178,35,199,27],[178,36,199,28],[178,77,199,69],[178,79,199,71,"error"],[178,84,199,76],[178,85,199,77],[179,24,200,16],[179,28,200,22,"errorResponse"],[179,42,200,35],[179,45,200,38,"_this"],[179,50,200,42],[179,51,200,43,"formatHttpResponse"],[179,69,200,61],[179,70,200,62],[180,26,201,18,"statusCode"],[180,36,201,28],[180,38,201,30],[180,41,201,33],[181,26,202,18,"headers"],[181,33,202,25],[181,35,202,27],[182,28,202,29],[182,42,202,43],[182,44,202,45],[183,26,202,58],[183,27,202,59],[184,26,203,18,"body"],[184,30,203,22],[184,32,203,24],[185,24,204,16],[185,25,204,17],[185,26,204,18],[186,24,205,16,"socket"],[186,30,205,22],[186,31,205,23,"write"],[186,36,205,28],[186,37,205,29,"errorResponse"],[186,51,205,42],[186,52,205,43],[187,22,206,14],[188,22,208,14,"socket"],[188,28,208,20],[188,29,208,21,"end"],[188,32,208,24],[188,33,208,25],[188,34,208,26],[189,22,209,14,"requestData"],[189,33,209,25],[189,36,209,28],[189,38,209,30],[190,20,210,12],[191,18,211,10],[191,19,211,11],[192,18,211,11],[192,35,211,11,"_x"],[192,37,211,11],[193,20,211,11],[193,27,211,11,"_ref3"],[193,32,211,11],[193,33,211,11,"apply"],[193,38,211,11],[193,45,211,11,"arguments"],[193,54,211,11],[194,18,211,11],[195,16,211,11],[195,20,211,12],[196,16,213,10,"socket"],[196,22,213,16],[196,23,213,17,"on"],[196,25,213,19],[196,26,213,20],[196,33,213,27],[196,35,213,29],[196,45,213,30,"error"],[196,50,213,42],[196,52,213,47],[197,18,214,12,"logger"],[197,24,214,18],[197,25,214,19,"info"],[197,29,214,23],[197,30,214,24],[197,61,214,55],[197,63,214,57,"error"],[197,68,214,62],[197,69,214,63],[198,16,215,10],[198,17,215,11],[198,18,215,12],[199,16,217,10,"socket"],[199,22,217,16],[199,23,217,17,"on"],[199,25,217,19],[199,26,217,20],[199,33,217,27],[199,35,217,29],[199,47,217,35],[200,18,218,12,"logger"],[200,24,218,18],[200,25,218,19,"debug"],[200,30,218,24],[200,31,218,25],[200,68,218,62],[200,69,218,63],[201,16,219,10],[201,17,219,11],[201,18,219,12],[202,14,220,8],[202,15,220,9],[202,16,220,10],[204,14,222,8],[205,14,223,8],[205,18,223,12],[205,19,223,13,"_this"],[205,24,223,17],[205,25,223,18,"server"],[205,31,223,24],[205,33,223,26],[206,16,224,10,"logger"],[206,22,224,16],[206,23,224,17,"error"],[206,28,224,22],[206,29,224,23],[206,70,224,64],[206,71,224,65],[207,16,225,10,"reject"],[207,22,225,16],[207,23,225,17],[207,27,225,21,"Error"],[207,32,225,26],[207,33,225,27],[207,44,225,38],[207,45,225,39],[207,46,225,40],[208,16,226,10],[209,14,227,8],[211,14,229,8],[212,14,230,8],[212,18,230,12],[212,19,230,13,"_this"],[212,24,230,17],[212,25,230,18,"server"],[212,31,230,24],[212,32,230,25,"listen"],[212,38,230,31],[212,42,230,35],[212,49,230,42,"_this"],[212,54,230,46],[212,55,230,47,"server"],[212,61,230,53],[212,62,230,54,"listen"],[212,68,230,60],[212,73,230,65],[212,83,230,75],[212,85,230,77],[213,16,231,10,"logger"],[213,22,231,16],[213,23,231,17,"error"],[213,28,231,22],[213,29,231,23],[213,102,231,96],[213,103,231,97],[214,16,232,10,"reject"],[214,22,232,16],[214,23,232,17],[214,27,232,21,"Error"],[214,32,232,26],[214,33,232,27],[214,45,232,39],[214,46,232,40],[214,47,232,41],[215,16,233,10],[216,14,234,8],[217,14,236,8,"_this"],[217,19,236,12],[217,20,236,13,"server"],[217,26,236,19],[217,27,236,20,"listen"],[217,33,236,26],[217,34,236,27],[218,16,236,29,"port"],[218,20,236,33],[218,22,236,35,"PORT"],[218,26,236,39],[219,16,236,41,"host"],[219,20,236,45],[219,22,236,47],[220,14,236,57],[220,15,236,58],[220,17,236,60],[220,29,236,66],[221,16,237,10,"logger"],[221,22,237,16],[221,23,237,17,"debug"],[221,28,237,22],[221,29,237,23],[221,68,237,62,"ipAddress"],[221,77,237,71],[221,81,237,75,"PORT"],[221,85,237,79],[221,87,237,81],[221,88,237,82],[222,16,238,10,"_this"],[222,21,238,14],[222,22,238,15,"isRunning"],[222,31,238,24],[222,34,238,27],[222,38,238,31],[223,16,239,10,"resolve"],[223,23,239,17],[223,24,239,18],[223,34,239,28,"ipAddress"],[223,43,239,37],[223,47,239,41,"PORT"],[223,51,239,45],[223,53,239,47],[223,54,239,48],[224,14,240,8],[224,15,240,9],[224,16,240,10],[225,14,242,8,"_this"],[225,19,242,12],[225,20,242,13,"server"],[225,26,242,19],[225,27,242,20,"on"],[225,29,242,22],[225,30,242,23],[225,37,242,30],[225,39,242,32],[225,49,242,33,"error"],[225,54,242,45],[225,56,242,50],[226,16,243,10,"logger"],[226,22,243,16],[226,23,243,17,"info"],[226,27,243,21],[226,28,243,22],[226,59,243,53],[226,61,243,55,"error"],[226,66,243,60],[226,67,243,61],[227,16,244,10,"_this"],[227,21,244,14],[227,22,244,15,"isRunning"],[227,31,244,24],[227,34,244,27],[227,39,244,32],[228,16,245,10],[229,16,246,10],[229,20,246,14,"error"],[229,25,246,19],[229,26,246,20,"message"],[229,33,246,27],[229,37,246,31,"error"],[229,42,246,36],[229,43,246,37,"message"],[229,50,246,44],[229,51,246,45,"includes"],[229,59,246,53],[229,60,246,54],[229,72,246,66],[229,73,246,67],[229,75,246,69],[230,18,247,12,"reject"],[230,24,247,18],[230,25,247,19],[230,29,247,23,"Error"],[230,34,247,28],[230,35,247,29],[230,55,247,49],[230,56,247,50],[230,57,247,51],[231,16,248,10],[231,17,248,11],[231,23,248,17],[232,18,249,12,"reject"],[232,24,249,18],[232,25,249,19,"error"],[232,30,249,24],[232,31,249,25],[233,16,250,10],[234,14,251,8],[234,15,251,9],[234,16,251,10],[235,12,253,6],[235,13,253,7],[235,14,253,8],[235,21,253,15,"error"],[235,26,253,20],[235,28,253,22],[236,14,254,8,"logger"],[236,20,254,14],[236,21,254,15,"info"],[236,25,254,19],[236,26,254,20],[236,67,254,61],[236,69,254,63,"error"],[236,74,254,68],[236,75,254,69],[237,14,255,8,"reject"],[237,20,255,14],[237,21,255,15,"error"],[237,26,255,20],[237,27,255,21],[238,12,256,6],[239,10,257,4],[239,11,257,5],[239,12,257,6],[240,8,258,2],[240,9,258,3],[241,8,258,3],[241,17,119,15,"start"],[241,22,119,20,"start"],[241,23,119,20],[242,10,119,20],[242,17,119,20,"_start"],[242,23,119,20],[242,24,119,20,"apply"],[242,29,119,20],[242,36,119,20,"arguments"],[242,45,119,20],[243,8,119,20],[244,8,119,20],[244,15,119,15,"start"],[244,20,119,20],[245,6,119,20],[246,4,119,20],[247,6,119,20,"key"],[247,9,119,20],[248,6,119,20,"value"],[248,11,119,20],[248,13,260,2],[248,22,260,9,"stop"],[248,26,260,13,"stop"],[248,27,260,13],[248,29,260,16],[249,8,261,4],[249,12,261,8],[250,10,262,6],[250,14,262,10],[250,18,262,14],[250,19,262,15,"server"],[250,25,262,21],[250,27,262,23],[251,12,263,8],[251,16,263,12],[251,17,263,13,"server"],[251,23,263,19],[251,24,263,20,"close"],[251,29,263,25],[251,30,263,26],[251,31,263,27],[252,12,264,8,"logger"],[252,18,264,14],[252,19,264,15,"debug"],[252,24,264,20],[252,25,264,21],[252,57,264,53],[252,58,264,54],[253,10,265,6],[254,8,266,4],[254,9,266,5],[254,10,266,6],[254,17,266,13,"error"],[254,22,266,18],[254,24,266,20],[255,10,267,6,"logger"],[255,16,267,12],[255,17,267,13,"info"],[255,21,267,17],[255,22,267,18],[255,62,267,58],[255,64,267,60,"error"],[255,69,267,65],[255,70,267,66],[256,8,268,4],[256,9,268,5],[256,18,268,14],[257,10,269,6],[257,14,269,10],[257,15,269,11,"isRunning"],[257,24,269,20],[257,27,269,23],[257,32,269,28],[258,10,270,6],[258,14,270,10],[258,15,270,11,"server"],[258,21,270,17],[258,24,270,20],[258,28,270,24],[259,8,271,4],[260,6,272,2],[261,4,272,3],[262,6,272,3,"key"],[262,9,272,3],[263,6,272,3,"value"],[263,11,272,3],[263,13,274,2],[263,22,274,9,"getIsRunning"],[263,34,274,21,"getIsRunning"],[263,35,274,21],[263,37,274,33],[264,8,275,4],[264,15,275,11],[264,19,275,15],[264,20,275,16,"isRunning"],[264,29,275,25],[265,6,276,2],[266,4,276,3],[267,2,276,3],[268,2,276,3],[268,6,276,3,"_default"],[268,14,276,3],[268,17,276,3,"exports"],[268,24,276,3],[268,25,276,3,"default"],[268,32,276,3],[268,35,279,15,"TCPHttpServer"],[268,48,279,28],[269,0,279,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;ACyC;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}