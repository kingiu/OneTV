{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":305,"column":29,"index":9256}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":305,"column":29,"index":9256}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":305,"column":29,"index":9256}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":305,"column":29,"index":9256}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":305,"column":29,"index":9256}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"react-native","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":29,"column":0,"index":1009},"end":{"line":29,"column":54,"index":1063}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":30,"column":0,"index":1064},"end":{"line":30,"column":36,"index":1100}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":28,"column":35,"index":973},"end":{"line":28,"column":69,"index":1007}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[6], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[7], \"@/utils/Logger\"));\n  // Buffer类型将在expo-env.d.ts中声明\n\n  // 为TcpSocket创建完整的类型声明\n\n  // 导入并断言类型\n  var TcpSocket = require(_dependencyMap[8], \"react-native-tcp-socket\");\n  var logger = _Logger.default.withTag('TCPHttpServer');\n  var PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n  var TCPHttpServer = /*#__PURE__*/function () {\n    function TCPHttpServer() {\n      (0, _classCallCheck2.default)(this, TCPHttpServer);\n      this.server = null;\n      this.isRunning = false;\n      this.requestHandler = null;\n      this.server = null;\n    }\n    return (0, _createClass2.default)(TCPHttpServer, [{\n      key: \"parseHttpRequest\",\n      value: function parseHttpRequest(data) {\n        try {\n          var lines = data.split('\\r\\n');\n          var requestLine = lines[0].split(' ');\n          if (requestLine.length < 3) {\n            return null;\n          }\n          var method = requestLine[0];\n          var url = requestLine[1];\n          var headers = {};\n          var bodyStartIndex = -1;\n          for (var i = 1; i < lines.length; i++) {\n            var line = lines[i];\n            if (line === '') {\n              bodyStartIndex = i + 1;\n              break;\n            }\n            var colonIndex = line.indexOf(':');\n            if (colonIndex > 0) {\n              var key = line.substring(0, colonIndex).trim().toLowerCase();\n              var value = line.substring(colonIndex + 1).trim();\n              headers[key] = value;\n            }\n          }\n          var body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n          return {\n            method,\n            url,\n            headers,\n            body\n          };\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n          return null;\n        }\n      }\n    }, {\n      key: \"formatHttpResponse\",\n      value: function formatHttpResponse(response) {\n        var statusTexts = {\n          200: 'OK',\n          400: 'Bad Request',\n          404: 'Not Found',\n          500: 'Internal Server Error'\n        };\n        var statusText = statusTexts[response.statusCode] || 'Unknown';\n        var headers = {\n          'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n          'Connection': 'close',\n          ...response.headers\n        };\n        var httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n        for (var _ref of Object.entries(headers)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n          var key = _ref2[0];\n          var value = _ref2[1];\n          httpResponse += `${key}: ${value}\\r\\n`;\n        }\n        httpResponse += '\\r\\n';\n        httpResponse += response.body;\n        return httpResponse;\n      }\n    }, {\n      key: \"setRequestHandler\",\n      value: function setRequestHandler(handler) {\n        this.requestHandler = handler;\n      }\n    }, {\n      key: \"start\",\n      value: function () {\n        var _start = (0, _asyncToGenerator2.default)(function* () {\n          var _this = this;\n          // 确保之前的服务器实例已关闭\n          if (this.server && !this.isRunning) {\n            try {\n              this.server.close();\n              logger.debug('[TCPHttpServer] Old server instance closed');\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing old server:', error);\n            }\n            this.server = null;\n          }\n          var netState = yield _netinfo.default.fetch();\n          var ipAddress = null;\n          if (netState.type === 'wifi' || netState.type === 'ethernet') {\n            ipAddress = netState.details?.ipAddress ?? null;\n          }\n          if (!ipAddress) {\n            throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n          }\n          if (this.isRunning) {\n            logger.debug('[TCPHttpServer] Server is already running.');\n            return `http://${ipAddress}:${PORT}`;\n          }\n\n          // Web平台不支持TCP服务器\n          if (_reactNative.Platform.OS === 'web') {\n            logger.error('[TCPHttpServer] TCP server not supported on web platform');\n            throw new Error('Web平台不支持TCP服务器');\n          }\n          return new Promise(function (resolve, reject) {\n            try {\n              // 检查TcpSocket是否可用\n              if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n                logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n                reject(new Error('TCP服务器初始化失败'));\n                return;\n              }\n\n              // 确保在创建新服务器前，server为null\n              if (_this.server) {\n                try {\n                  _this.server.close();\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error closing previous server:', error);\n                }\n                _this.server = null;\n              }\n\n              // 创建服务器实例\n              _this.server = TcpSocket.createServer(function (socket) {\n                logger.debug('[TCPHttpServer] Client connected');\n                var requestData = '';\n                socket.on('data', /*#__PURE__*/function () {\n                  var _ref3 = (0, _asyncToGenerator2.default)(function* (data) {\n                    requestData += data.toString();\n\n                    // Check if we have a complete HTTP request\n                    if (requestData.includes('\\r\\n\\r\\n')) {\n                      try {\n                        var _request = _this.parseHttpRequest(requestData);\n                        if (_request && _this.requestHandler) {\n                          var response = yield _this.requestHandler(_request);\n                          var httpResponse = _this.formatHttpResponse(response);\n                          socket.write(httpResponse);\n                        } else {\n                          // Send 400 Bad Request for malformed requests\n                          var errorResponse = _this.formatHttpResponse({\n                            statusCode: 400,\n                            headers: {\n                              'Content-Type': 'text/plain'\n                            },\n                            body: 'Bad Request'\n                          });\n                          socket.write(errorResponse);\n                        }\n                      } catch (error) {\n                        logger.info('[TCPHttpServer] Error handling request:', error);\n                        var _errorResponse = _this.formatHttpResponse({\n                          statusCode: 500,\n                          headers: {\n                            'Content-Type': 'text/plain'\n                          },\n                          body: 'Internal Server Error'\n                        });\n                        socket.write(_errorResponse);\n                      }\n                      socket.end();\n                      requestData = '';\n                    }\n                  });\n                  return function (_x) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n                socket.on('error', function (error) {\n                  logger.info('[TCPHttpServer] Socket error:', error);\n                });\n                socket.on('close', function () {\n                  logger.debug('[TCPHttpServer] Client disconnected');\n                });\n              });\n\n              // 确保server不为null再调用listen\n              if (!_this.server) {\n                logger.error('[TCPHttpServer] Server instance is null');\n                reject(new Error('服务器实例创建失败'));\n                return;\n              }\n\n              // 添加错误处理，确保listen方法存在并且是函数\n              if (!_this.server.listen || typeof _this.server.listen !== 'function') {\n                logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n                reject(new Error('服务器监听方法不可用'));\n                return;\n              }\n              _this.server.listen({\n                port: PORT,\n                host: '0.0.0.0'\n              }, function () {\n                logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n                _this.isRunning = true;\n                resolve(`http://${ipAddress}:${PORT}`);\n              });\n              _this.server.on('error', function (error) {\n                logger.info('[TCPHttpServer] Server error:', error);\n                _this.isRunning = false;\n                // 针对端口占用的错误提供更友好的消息\n                if (error.message && error.message.includes('EADDRINUSE')) {\n                  reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n                } else {\n                  reject(error);\n                }\n              });\n            } catch (error) {\n              logger.info('[TCPHttpServer] Failed to start server:', error);\n              reject(error);\n            }\n          });\n        });\n        function start() {\n          return _start.apply(this, arguments);\n        }\n        return start;\n      }()\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        try {\n          if (this.server) {\n            this.server.close();\n            logger.debug('[TCPHttpServer] Server stopped');\n          }\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error stopping server:', error);\n        } finally {\n          this.isRunning = false;\n          this.server = null;\n        }\n      }\n    }, {\n      key: \"getIsRunning\",\n      value: function getIsRunning() {\n        return this.isRunning;\n      }\n    }]);\n  }();\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":274,"map":[[11,2,1,0],[11,6,1,0,"_reactNative"],[11,18,1,0],[11,21,1,0,"require"],[11,28,1,0],[11,29,1,0,"_dependencyMap"],[11,43,1,0],[12,2,29,0],[12,6,29,0,"_netinfo"],[12,14,29,0],[12,17,29,0,"_interopRequireDefault"],[12,39,29,0],[12,40,29,0,"require"],[12,47,29,0],[12,48,29,0,"_dependencyMap"],[12,62,29,0],[13,2,30,0],[13,6,30,0,"_Logger"],[13,13,30,0],[13,16,30,0,"_interopRequireDefault"],[13,38,30,0],[13,39,30,0,"require"],[13,46,30,0],[13,47,30,0,"_dependencyMap"],[13,61,30,0],[14,2,2,0],[16,2,4,0],[18,2,27,0],[19,2,28,0],[19,6,28,6,"TcpSocket"],[19,15,28,32],[19,18,28,35,"require"],[19,25,28,42],[19,26,28,42,"_dependencyMap"],[19,40,28,42],[19,70,28,68],[19,71,28,69],[20,2,32,0],[20,6,32,6,"logger"],[20,12,32,12],[20,15,32,15,"Logger"],[20,30,32,21],[20,31,32,22,"withTag"],[20,38,32,29],[20,39,32,30],[20,54,32,45],[20,55,32,46],[21,2,34,0],[21,6,34,6,"PORT"],[21,10,34,10],[21,13,34,13],[21,18,34,18],[23,2,36,0],[25,2,43,0],[26,2,43,0],[26,6,68,6,"TCPHttpServer"],[26,19,68,19],[27,4,73,2],[27,13,73,2,"TCPHttpServer"],[27,27,73,2],[27,29,73,16],[28,6,73,16],[28,10,73,16,"_classCallCheck2"],[28,26,73,16],[28,27,73,16,"default"],[28,34,73,16],[28,42,73,16,"TCPHttpServer"],[28,55,73,16],[29,6,73,16],[29,11,69,10,"server"],[29,17,69,16],[29,20,69,45],[29,24,69,49],[30,6,69,49],[30,11,70,10,"isRunning"],[30,20,70,19],[30,23,70,22],[30,28,70,27],[31,6,70,27],[31,11,71,10,"requestHandler"],[31,25,71,24],[31,28,71,50],[31,32,71,54],[32,6,74,4],[32,10,74,8],[32,11,74,9,"server"],[32,17,74,15],[32,20,74,18],[32,24,74,22],[33,4,75,2],[34,4,75,3],[34,15,75,3,"_createClass2"],[34,28,75,3],[34,29,75,3,"default"],[34,36,75,3],[34,38,75,3,"TCPHttpServer"],[34,51,75,3],[35,6,75,3,"key"],[35,9,75,3],[36,6,75,3,"value"],[36,11,75,3],[36,13,77,2],[36,22,77,10,"parseHttpRequest"],[36,38,77,26,"parseHttpRequest"],[36,39,77,27,"data"],[36,43,77,39],[36,45,77,61],[37,8,78,4],[37,12,78,8],[38,10,79,6],[38,14,79,12,"lines"],[38,19,79,17],[38,22,79,20,"data"],[38,26,79,24],[38,27,79,25,"split"],[38,32,79,30],[38,33,79,31],[38,39,79,37],[38,40,79,38],[39,10,80,6],[39,14,80,12,"requestLine"],[39,25,80,23],[39,28,80,26,"lines"],[39,33,80,31],[39,34,80,32],[39,35,80,33],[39,36,80,34],[39,37,80,35,"split"],[39,42,80,40],[39,43,80,41],[39,46,80,44],[39,47,80,45],[40,10,82,6],[40,14,82,10,"requestLine"],[40,25,82,21],[40,26,82,22,"length"],[40,32,82,28],[40,35,82,31],[40,36,82,32],[40,38,82,34],[41,12,83,8],[41,19,83,15],[41,23,83,19],[42,10,84,6],[43,10,86,6],[43,14,86,12,"method"],[43,20,86,18],[43,23,86,21,"requestLine"],[43,34,86,32],[43,35,86,33],[43,36,86,34],[43,37,86,35],[44,10,87,6],[44,14,87,12,"url"],[44,17,87,15],[44,20,87,18,"requestLine"],[44,31,87,29],[44,32,87,30],[44,33,87,31],[44,34,87,32],[45,10,88,6],[45,14,88,12,"headers"],[45,21,88,46],[45,24,88,49],[45,25,88,50],[45,26,88,51],[46,10,90,6],[46,14,90,10,"bodyStartIndex"],[46,28,90,24],[46,31,90,27],[46,32,90,28],[46,33,90,29],[47,10,91,6],[47,15,91,11],[47,19,91,15,"i"],[47,20,91,16],[47,23,91,19],[47,24,91,20],[47,26,91,22,"i"],[47,27,91,23],[47,30,91,26,"lines"],[47,35,91,31],[47,36,91,32,"length"],[47,42,91,38],[47,44,91,40,"i"],[47,45,91,41],[47,47,91,43],[47,49,91,45],[48,12,92,8],[48,16,92,14,"line"],[48,20,92,18],[48,23,92,21,"lines"],[48,28,92,26],[48,29,92,27,"i"],[48,30,92,28],[48,31,92,29],[49,12,93,8],[49,16,93,12,"line"],[49,20,93,16],[49,25,93,21],[49,27,93,23],[49,29,93,25],[50,14,94,10,"bodyStartIndex"],[50,28,94,24],[50,31,94,27,"i"],[50,32,94,28],[50,35,94,31],[50,36,94,32],[51,14,95,10],[52,12,96,8],[53,12,97,8],[53,16,97,14,"colonIndex"],[53,26,97,24],[53,29,97,27,"line"],[53,33,97,31],[53,34,97,32,"indexOf"],[53,41,97,39],[53,42,97,40],[53,45,97,43],[53,46,97,44],[54,12,98,8],[54,16,98,12,"colonIndex"],[54,26,98,22],[54,29,98,25],[54,30,98,26],[54,32,98,28],[55,14,99,10],[55,18,99,16,"key"],[55,21,99,19],[55,24,99,22,"line"],[55,28,99,26],[55,29,99,27,"substring"],[55,38,99,36],[55,39,99,37],[55,40,99,38],[55,42,99,40,"colonIndex"],[55,52,99,50],[55,53,99,51],[55,54,99,52,"trim"],[55,58,99,56],[55,59,99,57],[55,60,99,58],[55,61,99,59,"toLowerCase"],[55,72,99,70],[55,73,99,71],[55,74,99,72],[56,14,100,10],[56,18,100,16,"value"],[56,23,100,21],[56,26,100,24,"line"],[56,30,100,28],[56,31,100,29,"substring"],[56,40,100,38],[56,41,100,39,"colonIndex"],[56,51,100,49],[56,54,100,52],[56,55,100,53],[56,56,100,54],[56,57,100,55,"trim"],[56,61,100,59],[56,62,100,60],[56,63,100,61],[57,14,101,10,"headers"],[57,21,101,17],[57,22,101,18,"key"],[57,25,101,21],[57,26,101,22],[57,29,101,25,"value"],[57,34,101,30],[58,12,102,8],[59,10,103,6],[60,10,105,6],[60,14,105,12,"body"],[60,18,105,16],[60,21,105,19,"bodyStartIndex"],[60,35,105,33],[60,38,105,36],[60,39,105,37],[60,42,105,40,"lines"],[60,47,105,45],[60,48,105,46,"slice"],[60,53,105,51],[60,54,105,52,"bodyStartIndex"],[60,68,105,66],[60,69,105,67],[60,70,105,68,"join"],[60,74,105,72],[60,75,105,73],[60,81,105,79],[60,82,105,80],[60,85,105,83],[60,87,105,85],[61,10,107,6],[61,17,107,13],[62,12,107,15,"method"],[62,18,107,21],[63,12,107,23,"url"],[63,15,107,26],[64,12,107,28,"headers"],[64,19,107,35],[65,12,107,37,"body"],[66,10,107,42],[66,11,107,43],[67,8,108,4],[67,9,108,5],[67,10,108,6],[67,17,108,13,"error"],[67,22,108,18],[67,24,108,20],[68,10,109,6,"logger"],[68,16,109,12],[68,17,109,13,"info"],[68,21,109,17],[68,22,109,18],[68,67,109,63],[68,69,109,65,"error"],[68,74,109,70],[68,75,109,71],[69,10,110,6],[69,17,110,13],[69,21,110,17],[70,8,111,4],[71,6,112,2],[72,4,112,3],[73,6,112,3,"key"],[73,9,112,3],[74,6,112,3,"value"],[74,11,112,3],[74,13,114,2],[74,22,114,10,"formatHttpResponse"],[74,40,114,28,"formatHttpResponse"],[74,41,114,29,"response"],[74,49,114,51],[74,51,114,61],[75,8,115,4],[75,12,115,10,"statusTexts"],[75,23,115,48],[75,26,115,51],[76,10,116,6],[76,13,116,9],[76,15,116,11],[76,19,116,15],[77,10,117,6],[77,13,117,9],[77,15,117,11],[77,28,117,24],[78,10,118,6],[78,13,118,9],[78,15,118,11],[78,26,118,22],[79,10,119,6],[79,13,119,9],[79,15,119,11],[80,8,120,4],[80,9,120,5],[81,8,122,4],[81,12,122,10,"statusText"],[81,22,122,20],[81,25,122,23,"statusTexts"],[81,36,122,34],[81,37,122,35,"response"],[81,45,122,43],[81,46,122,44,"statusCode"],[81,56,122,54],[81,57,122,55],[81,61,122,59],[81,70,122,68],[82,8,123,4],[82,12,123,10,"headers"],[82,19,123,17],[82,22,123,20],[83,10,124,6],[83,26,124,22],[83,28,124,24],[83,32,124,28,"TextEncoder"],[83,43,124,39],[83,44,124,40],[83,45,124,41],[83,46,124,42,"encode"],[83,52,124,48],[83,53,124,49,"response"],[83,61,124,57],[83,62,124,58,"body"],[83,66,124,62],[83,67,124,63],[83,68,124,64,"length"],[83,74,124,70],[83,75,124,71,"toString"],[83,83,124,79],[83,84,124,80],[83,85,124,81],[84,10,125,6],[84,22,125,18],[84,24,125,20],[84,31,125,27],[85,10,126,6],[85,13,126,9,"response"],[85,21,126,17],[85,22,126,18,"headers"],[86,8,127,4],[86,9,127,5],[87,8,129,4],[87,12,129,8,"httpResponse"],[87,24,129,20],[87,27,129,23],[87,39,129,35,"response"],[87,47,129,43],[87,48,129,44,"statusCode"],[87,58,129,54],[87,62,129,58,"statusText"],[87,72,129,68],[87,78,129,74],[88,8,131,4],[88,17,131,4,"_ref"],[88,21,131,4],[88,25,131,31,"Object"],[88,31,131,37],[88,32,131,38,"entries"],[88,39,131,45],[88,40,131,46,"headers"],[88,47,131,53],[88,48,131,54],[88,50,131,56],[89,10,131,56],[89,14,131,56,"_ref2"],[89,19,131,56],[89,26,131,56,"_slicedToArray2"],[89,41,131,56],[89,42,131,56,"default"],[89,49,131,56],[89,51,131,56,"_ref"],[89,55,131,56],[90,10,131,56],[90,14,131,16,"key"],[90,17,131,19],[90,20,131,19,"_ref2"],[90,25,131,19],[91,10,131,19],[91,14,131,21,"value"],[91,19,131,26],[91,22,131,26,"_ref2"],[91,27,131,26],[92,10,132,6,"httpResponse"],[92,22,132,18],[92,26,132,22],[92,29,132,25,"key"],[92,32,132,28],[92,37,132,33,"value"],[92,42,132,38],[92,48,132,44],[93,8,133,4],[94,8,135,4,"httpResponse"],[94,20,135,16],[94,24,135,20],[94,30,135,26],[95,8,136,4,"httpResponse"],[95,20,136,16],[95,24,136,20,"response"],[95,32,136,28],[95,33,136,29,"body"],[95,37,136,33],[96,8,138,4],[96,15,138,11,"httpResponse"],[96,27,138,23],[97,6,139,2],[98,4,139,3],[99,6,139,3,"key"],[99,9,139,3],[100,6,139,3,"value"],[100,11,139,3],[100,13,141,2],[100,22,141,9,"setRequestHandler"],[100,39,141,26,"setRequestHandler"],[100,40,141,27,"handler"],[100,47,141,50],[100,49,141,52],[101,8,142,4],[101,12,142,8],[101,13,142,9,"requestHandler"],[101,27,142,23],[101,30,142,26,"handler"],[101,37,142,33],[102,6,143,2],[103,4,143,3],[104,6,143,3,"key"],[104,9,143,3],[105,6,143,3,"value"],[105,11,143,3],[106,8,143,3],[106,12,143,3,"_start"],[106,18,143,3],[106,25,143,3,"_asyncToGenerator2"],[106,43,143,3],[106,44,143,3,"default"],[106,51,143,3],[106,53,145,2],[106,66,145,40],[107,10,145,40],[107,14,145,40,"_this"],[107,19,145,40],[108,10,146,4],[109,10,147,4],[109,14,147,8],[109,18,147,12],[109,19,147,13,"server"],[109,25,147,19],[109,29,147,23],[109,30,147,24],[109,34,147,28],[109,35,147,29,"isRunning"],[109,44,147,38],[109,46,147,40],[110,12,148,6],[110,16,148,10],[111,14,149,8],[111,18,149,12],[111,19,149,13,"server"],[111,25,149,19],[111,26,149,20,"close"],[111,31,149,25],[111,32,149,26],[111,33,149,27],[112,14,150,8,"logger"],[112,20,150,14],[112,21,150,15,"debug"],[112,26,150,20],[112,27,150,21],[112,71,150,65],[112,72,150,66],[113,12,151,6],[113,13,151,7],[113,14,151,8],[113,21,151,15,"error"],[113,26,151,20],[113,28,151,22],[114,14,152,8,"logger"],[114,20,152,14],[114,21,152,15,"info"],[114,25,152,19],[114,26,152,20],[114,69,152,63],[114,71,152,65,"error"],[114,76,152,70],[114,77,152,71],[115,12,153,6],[116,12,154,6],[116,16,154,10],[116,17,154,11,"server"],[116,23,154,17],[116,26,154,20],[116,30,154,24],[117,10,155,4],[118,10,157,4],[118,14,157,10,"netState"],[118,22,157,18],[118,31,157,27,"NetInfo"],[118,47,157,34],[118,48,157,35,"fetch"],[118,53,157,40],[118,54,157,41],[118,55,157,42],[119,10,158,4],[119,14,158,8,"ipAddress"],[119,23,158,32],[119,26,158,35],[119,30,158,39],[120,10,160,4],[120,14,160,8,"netState"],[120,22,160,16],[120,23,160,17,"type"],[120,27,160,21],[120,32,160,26],[120,38,160,32],[120,42,160,36,"netState"],[120,50,160,44],[120,51,160,45,"type"],[120,55,160,49],[120,60,160,54],[120,70,160,64],[120,72,160,66],[121,12,161,6,"ipAddress"],[121,21,161,15],[121,24,161,19,"netState"],[121,32,161,27],[121,33,161,28,"details"],[121,40,161,35],[121,42,161,45,"ipAddress"],[121,51,161,54],[121,55,161,58],[121,59,161,62],[122,10,162,4],[123,10,164,4],[123,14,164,8],[123,15,164,9,"ipAddress"],[123,24,164,18],[123,26,164,20],[124,12,165,6],[124,18,165,12],[124,22,165,16,"Error"],[124,27,165,21],[124,28,165,22],[124,57,165,51],[124,58,165,52],[125,10,166,4],[126,10,168,4],[126,14,168,8],[126,18,168,12],[126,19,168,13,"isRunning"],[126,28,168,22],[126,30,168,24],[127,12,169,6,"logger"],[127,18,169,12],[127,19,169,13,"debug"],[127,24,169,18],[127,25,169,19],[127,69,169,63],[127,70,169,64],[128,12,170,6],[128,19,170,13],[128,29,170,23,"ipAddress"],[128,38,170,32],[128,42,170,36,"PORT"],[128,46,170,40],[128,48,170,42],[129,10,171,4],[131,10,173,4],[132,10,174,4],[132,14,174,8,"Platform"],[132,35,174,16],[132,36,174,17,"OS"],[132,38,174,19],[132,43,174,24],[132,48,174,29],[132,50,174,31],[133,12,175,6,"logger"],[133,18,175,12],[133,19,175,13,"error"],[133,24,175,18],[133,25,175,19],[133,83,175,77],[133,84,175,78],[134,12,176,6],[134,18,176,12],[134,22,176,16,"Error"],[134,27,176,21],[134,28,176,22],[134,44,176,38],[134,45,176,39],[135,10,177,4],[136,10,179,4],[136,17,179,11],[136,21,179,15,"Promise"],[136,28,179,22],[136,29,179,23],[136,39,179,24,"resolve"],[136,46,179,31],[136,48,179,33,"reject"],[136,54,179,39],[136,56,179,44],[137,12,180,6],[137,16,180,10],[138,14,181,8],[139,14,182,8],[139,18,182,12],[139,19,182,13,"TcpSocket"],[139,28,182,22],[139,32,182,26],[139,39,182,33,"TcpSocket"],[139,48,182,42],[139,49,182,43,"createServer"],[139,61,182,55],[139,66,182,60],[139,76,182,70],[139,78,182,72],[140,16,183,10,"logger"],[140,22,183,16],[140,23,183,17,"error"],[140,28,183,22],[140,29,183,23],[140,97,183,91],[140,98,183,92],[141,16,184,10,"reject"],[141,22,184,16],[141,23,184,17],[141,27,184,21,"Error"],[141,32,184,26],[141,33,184,27],[141,46,184,40],[141,47,184,41],[141,48,184,42],[142,16,185,10],[143,14,186,8],[145,14,188,8],[146,14,189,8],[146,18,189,12,"_this"],[146,23,189,16],[146,24,189,17,"server"],[146,30,189,23],[146,32,189,25],[147,16,190,10],[147,20,190,14],[148,18,191,12,"_this"],[148,23,191,16],[148,24,191,17,"server"],[148,30,191,23],[148,31,191,24,"close"],[148,36,191,29],[148,37,191,30],[148,38,191,31],[149,16,192,10],[149,17,192,11],[149,18,192,12],[149,25,192,19,"error"],[149,30,192,24],[149,32,192,26],[150,18,193,12,"logger"],[150,24,193,18],[150,25,193,19,"info"],[150,29,193,23],[150,30,193,24],[150,78,193,72],[150,80,193,74,"error"],[150,85,193,79],[150,86,193,80],[151,16,194,10],[152,16,195,10,"_this"],[152,21,195,14],[152,22,195,15,"server"],[152,28,195,21],[152,31,195,24],[152,35,195,28],[153,14,196,8],[155,14,198,8],[156,14,199,8,"_this"],[156,19,199,12],[156,20,199,13,"server"],[156,26,199,19],[156,29,199,22,"TcpSocket"],[156,38,199,31],[156,39,199,32,"createServer"],[156,51,199,44],[156,52,199,45],[156,62,199,46,"socket"],[156,68,199,71],[156,70,199,76],[157,16,200,10,"logger"],[157,22,200,16],[157,23,200,17,"debug"],[157,28,200,22],[157,29,200,23],[157,63,200,57],[157,64,200,58],[158,16,202,10],[158,20,202,14,"requestData"],[158,31,202,25],[158,34,202,28],[158,36,202,30],[159,16,204,10,"socket"],[159,22,204,16],[159,23,204,17,"on"],[159,25,204,19],[159,26,204,20],[159,32,204,26],[160,18,204,26],[160,22,204,26,"_ref3"],[160,27,204,26],[160,34,204,26,"_asyncToGenerator2"],[160,52,204,26],[160,53,204,26,"default"],[160,60,204,26],[160,62,204,28],[160,73,204,35,"data"],[160,77,204,56],[160,79,204,61],[161,20,205,12,"requestData"],[161,31,205,23],[161,35,205,27,"data"],[161,39,205,31],[161,40,205,32,"toString"],[161,48,205,40],[161,49,205,41],[161,50,205,42],[163,20,207,12],[164,20,208,12],[164,24,208,16,"requestData"],[164,35,208,27],[164,36,208,28,"includes"],[164,44,208,36],[164,45,208,37],[164,55,208,47],[164,56,208,48],[164,58,208,50],[165,22,209,14],[165,26,209,18],[166,24,210,16],[166,28,210,22,"request"],[166,36,210,29],[166,39,210,32,"_this"],[166,44,210,36],[166,45,210,37,"parseHttpRequest"],[166,61,210,53],[166,62,210,54,"requestData"],[166,73,210,65],[166,74,210,66],[167,24,211,16],[167,28,211,20,"request"],[167,36,211,27],[167,40,211,31,"_this"],[167,45,211,35],[167,46,211,36,"requestHandler"],[167,60,211,50],[167,62,211,52],[168,26,212,18],[168,30,212,24,"response"],[168,38,212,32],[168,47,212,41,"_this"],[168,52,212,45],[168,53,212,46,"requestHandler"],[168,67,212,60],[168,68,212,61,"request"],[168,76,212,68],[168,77,212,69],[169,26,213,18],[169,30,213,24,"httpResponse"],[169,42,213,36],[169,45,213,39,"_this"],[169,50,213,43],[169,51,213,44,"formatHttpResponse"],[169,69,213,62],[169,70,213,63,"response"],[169,78,213,71],[169,79,213,72],[170,26,214,18,"socket"],[170,32,214,24],[170,33,214,25,"write"],[170,38,214,30],[170,39,214,31,"httpResponse"],[170,51,214,43],[170,52,214,44],[171,24,215,16],[171,25,215,17],[171,31,215,23],[172,26,216,18],[173,26,217,18],[173,30,217,24,"errorResponse"],[173,43,217,37],[173,46,217,40,"_this"],[173,51,217,44],[173,52,217,45,"formatHttpResponse"],[173,70,217,63],[173,71,217,64],[174,28,218,20,"statusCode"],[174,38,218,30],[174,40,218,32],[174,43,218,35],[175,28,219,20,"headers"],[175,35,219,27],[175,37,219,29],[176,30,219,31],[176,44,219,45],[176,46,219,47],[177,28,219,60],[177,29,219,61],[178,28,220,20,"body"],[178,32,220,24],[178,34,220,26],[179,26,221,18],[179,27,221,19],[179,28,221,20],[180,26,222,18,"socket"],[180,32,222,24],[180,33,222,25,"write"],[180,38,222,30],[180,39,222,31,"errorResponse"],[180,52,222,44],[180,53,222,45],[181,24,223,16],[182,22,224,14],[182,23,224,15],[182,24,224,16],[182,31,224,23,"error"],[182,36,224,28],[182,38,224,30],[183,24,225,16,"logger"],[183,30,225,22],[183,31,225,23,"info"],[183,35,225,27],[183,36,225,28],[183,77,225,69],[183,79,225,71,"error"],[183,84,225,76],[183,85,225,77],[184,24,226,16],[184,28,226,22,"errorResponse"],[184,42,226,35],[184,45,226,38,"_this"],[184,50,226,42],[184,51,226,43,"formatHttpResponse"],[184,69,226,61],[184,70,226,62],[185,26,227,18,"statusCode"],[185,36,227,28],[185,38,227,30],[185,41,227,33],[186,26,228,18,"headers"],[186,33,228,25],[186,35,228,27],[187,28,228,29],[187,42,228,43],[187,44,228,45],[188,26,228,58],[188,27,228,59],[189,26,229,18,"body"],[189,30,229,22],[189,32,229,24],[190,24,230,16],[190,25,230,17],[190,26,230,18],[191,24,231,16,"socket"],[191,30,231,22],[191,31,231,23,"write"],[191,36,231,28],[191,37,231,29,"errorResponse"],[191,51,231,42],[191,52,231,43],[192,22,232,14],[193,22,234,14,"socket"],[193,28,234,20],[193,29,234,21,"end"],[193,32,234,24],[193,33,234,25],[193,34,234,26],[194,22,235,14,"requestData"],[194,33,235,25],[194,36,235,28],[194,38,235,30],[195,20,236,12],[196,18,237,10],[196,19,237,11],[197,18,237,11],[197,35,237,11,"_x"],[197,37,237,11],[198,20,237,11],[198,27,237,11,"_ref3"],[198,32,237,11],[198,33,237,11,"apply"],[198,38,237,11],[198,45,237,11,"arguments"],[198,54,237,11],[199,18,237,11],[200,16,237,11],[200,20,237,12],[201,16,239,10,"socket"],[201,22,239,16],[201,23,239,17,"on"],[201,25,239,19],[201,26,239,20],[201,33,239,27],[201,35,239,29],[201,45,239,30,"error"],[201,50,239,42],[201,52,239,47],[202,18,240,12,"logger"],[202,24,240,18],[202,25,240,19,"info"],[202,29,240,23],[202,30,240,24],[202,61,240,55],[202,63,240,57,"error"],[202,68,240,62],[202,69,240,63],[203,16,241,10],[203,17,241,11],[203,18,241,12],[204,16,243,10,"socket"],[204,22,243,16],[204,23,243,17,"on"],[204,25,243,19],[204,26,243,20],[204,33,243,27],[204,35,243,29],[204,47,243,35],[205,18,244,12,"logger"],[205,24,244,18],[205,25,244,19,"debug"],[205,30,244,24],[205,31,244,25],[205,68,244,62],[205,69,244,63],[206,16,245,10],[206,17,245,11],[206,18,245,12],[207,14,246,8],[207,15,246,9],[207,16,246,10],[209,14,248,8],[210,14,249,8],[210,18,249,12],[210,19,249,13,"_this"],[210,24,249,17],[210,25,249,18,"server"],[210,31,249,24],[210,33,249,26],[211,16,250,10,"logger"],[211,22,250,16],[211,23,250,17,"error"],[211,28,250,22],[211,29,250,23],[211,70,250,64],[211,71,250,65],[212,16,251,10,"reject"],[212,22,251,16],[212,23,251,17],[212,27,251,21,"Error"],[212,32,251,26],[212,33,251,27],[212,44,251,38],[212,45,251,39],[212,46,251,40],[213,16,252,10],[214,14,253,8],[216,14,255,8],[217,14,256,8],[217,18,256,12],[217,19,256,13,"_this"],[217,24,256,17],[217,25,256,18,"server"],[217,31,256,24],[217,32,256,25,"listen"],[217,38,256,31],[217,42,256,35],[217,49,256,42,"_this"],[217,54,256,46],[217,55,256,47,"server"],[217,61,256,53],[217,62,256,54,"listen"],[217,68,256,60],[217,73,256,65],[217,83,256,75],[217,85,256,77],[218,16,257,10,"logger"],[218,22,257,16],[218,23,257,17,"error"],[218,28,257,22],[218,29,257,23],[218,102,257,96],[218,103,257,97],[219,16,258,10,"reject"],[219,22,258,16],[219,23,258,17],[219,27,258,21,"Error"],[219,32,258,26],[219,33,258,27],[219,45,258,39],[219,46,258,40],[219,47,258,41],[220,16,259,10],[221,14,260,8],[222,14,262,8,"_this"],[222,19,262,12],[222,20,262,13,"server"],[222,26,262,19],[222,27,262,20,"listen"],[222,33,262,26],[222,34,262,27],[223,16,262,29,"port"],[223,20,262,33],[223,22,262,35,"PORT"],[223,26,262,39],[224,16,262,41,"host"],[224,20,262,45],[224,22,262,47],[225,14,262,57],[225,15,262,58],[225,17,262,60],[225,29,262,66],[226,16,263,10,"logger"],[226,22,263,16],[226,23,263,17,"debug"],[226,28,263,22],[226,29,263,23],[226,68,263,62,"ipAddress"],[226,77,263,71],[226,81,263,75,"PORT"],[226,85,263,79],[226,87,263,81],[226,88,263,82],[227,16,264,10,"_this"],[227,21,264,14],[227,22,264,15,"isRunning"],[227,31,264,24],[227,34,264,27],[227,38,264,31],[228,16,265,10,"resolve"],[228,23,265,17],[228,24,265,18],[228,34,265,28,"ipAddress"],[228,43,265,37],[228,47,265,41,"PORT"],[228,51,265,45],[228,53,265,47],[228,54,265,48],[229,14,266,8],[229,15,266,9],[229,16,266,10],[230,14,268,8,"_this"],[230,19,268,12],[230,20,268,13,"server"],[230,26,268,19],[230,27,268,20,"on"],[230,29,268,22],[230,30,268,23],[230,37,268,30],[230,39,268,32],[230,49,268,33,"error"],[230,54,268,45],[230,56,268,50],[231,16,269,10,"logger"],[231,22,269,16],[231,23,269,17,"info"],[231,27,269,21],[231,28,269,22],[231,59,269,53],[231,61,269,55,"error"],[231,66,269,60],[231,67,269,61],[232,16,270,10,"_this"],[232,21,270,14],[232,22,270,15,"isRunning"],[232,31,270,24],[232,34,270,27],[232,39,270,32],[233,16,271,10],[234,16,272,10],[234,20,272,14,"error"],[234,25,272,19],[234,26,272,20,"message"],[234,33,272,27],[234,37,272,31,"error"],[234,42,272,36],[234,43,272,37,"message"],[234,50,272,44],[234,51,272,45,"includes"],[234,59,272,53],[234,60,272,54],[234,72,272,66],[234,73,272,67],[234,75,272,69],[235,18,273,12,"reject"],[235,24,273,18],[235,25,273,19],[235,29,273,23,"Error"],[235,34,273,28],[235,35,273,29],[235,55,273,49],[235,56,273,50],[235,57,273,51],[236,16,274,10],[236,17,274,11],[236,23,274,17],[237,18,275,12,"reject"],[237,24,275,18],[237,25,275,19,"error"],[237,30,275,24],[237,31,275,25],[238,16,276,10],[239,14,277,8],[239,15,277,9],[239,16,277,10],[240,12,279,6],[240,13,279,7],[240,14,279,8],[240,21,279,15,"error"],[240,26,279,20],[240,28,279,22],[241,14,280,8,"logger"],[241,20,280,14],[241,21,280,15,"info"],[241,25,280,19],[241,26,280,20],[241,67,280,61],[241,69,280,63,"error"],[241,74,280,68],[241,75,280,69],[242,14,281,8,"reject"],[242,20,281,14],[242,21,281,15,"error"],[242,26,281,20],[242,27,281,21],[243,12,282,6],[244,10,283,4],[244,11,283,5],[244,12,283,6],[245,8,284,2],[245,9,284,3],[246,8,284,3],[246,17,145,15,"start"],[246,22,145,20,"start"],[246,23,145,20],[247,10,145,20],[247,17,145,20,"_start"],[247,23,145,20],[247,24,145,20,"apply"],[247,29,145,20],[247,36,145,20,"arguments"],[247,45,145,20],[248,8,145,20],[249,8,145,20],[249,15,145,15,"start"],[249,20,145,20],[250,6,145,20],[251,4,145,20],[252,6,145,20,"key"],[252,9,145,20],[253,6,145,20,"value"],[253,11,145,20],[253,13,286,2],[253,22,286,9,"stop"],[253,26,286,13,"stop"],[253,27,286,13],[253,29,286,16],[254,8,287,4],[254,12,287,8],[255,10,288,6],[255,14,288,10],[255,18,288,14],[255,19,288,15,"server"],[255,25,288,21],[255,27,288,23],[256,12,289,8],[256,16,289,12],[256,17,289,13,"server"],[256,23,289,19],[256,24,289,20,"close"],[256,29,289,25],[256,30,289,26],[256,31,289,27],[257,12,290,8,"logger"],[257,18,290,14],[257,19,290,15,"debug"],[257,24,290,20],[257,25,290,21],[257,57,290,53],[257,58,290,54],[258,10,291,6],[259,8,292,4],[259,9,292,5],[259,10,292,6],[259,17,292,13,"error"],[259,22,292,18],[259,24,292,20],[260,10,293,6,"logger"],[260,16,293,12],[260,17,293,13,"info"],[260,21,293,17],[260,22,293,18],[260,62,293,58],[260,64,293,60,"error"],[260,69,293,65],[260,70,293,66],[261,8,294,4],[261,9,294,5],[261,18,294,14],[262,10,295,6],[262,14,295,10],[262,15,295,11,"isRunning"],[262,24,295,20],[262,27,295,23],[262,32,295,28],[263,10,296,6],[263,14,296,10],[263,15,296,11,"server"],[263,21,296,17],[263,24,296,20],[263,28,296,24],[264,8,297,4],[265,6,298,2],[266,4,298,3],[267,6,298,3,"key"],[267,9,298,3],[268,6,298,3,"value"],[268,11,298,3],[268,13,300,2],[268,22,300,9,"getIsRunning"],[268,34,300,21,"getIsRunning"],[268,35,300,21],[268,37,300,33],[269,8,301,4],[269,15,301,11],[269,19,301,15],[269,20,301,16,"isRunning"],[269,29,301,25],[270,6,302,2],[271,4,302,3],[272,2,302,3],[273,2,302,3],[273,6,302,3,"_default"],[273,14,302,3],[273,17,302,3,"exports"],[273,24,302,3],[273,25,302,3,"default"],[273,32,302,3],[273,35,305,15,"TCPHttpServer"],[273,48,305,28],[274,0,305,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;ACmE;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}