{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":303,"column":29,"index":9224}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":303,"column":29,"index":9224}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":303,"column":29,"index":9224}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":303,"column":29,"index":9224}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":303,"column":29,"index":9224}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"react-native","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":27,"column":0,"index":978},"end":{"line":27,"column":54,"index":1032}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":28,"column":0,"index":1033},"end":{"line":28,"column":36,"index":1069}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":26,"column":35,"index":942},"end":{"line":26,"column":69,"index":976}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[6], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[7], \"@/utils/Logger\"));\n  // 为TcpSocket创建完整的类型声明\n\n  // 导入并断言类型\n  var TcpSocket = require(_dependencyMap[8], \"react-native-tcp-socket\");\n  var logger = _Logger.default.withTag('TCPHttpServer');\n  var PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n  var TCPHttpServer = /*#__PURE__*/function () {\n    function TCPHttpServer() {\n      (0, _classCallCheck2.default)(this, TCPHttpServer);\n      this.server = null;\n      this.isRunning = false;\n      this.requestHandler = null;\n      this.server = null;\n    }\n    return (0, _createClass2.default)(TCPHttpServer, [{\n      key: \"parseHttpRequest\",\n      value: function parseHttpRequest(data) {\n        try {\n          var lines = data.split('\\r\\n');\n          var requestLine = lines[0].split(' ');\n          if (requestLine.length < 3) {\n            return null;\n          }\n          var method = requestLine[0];\n          var url = requestLine[1];\n          var headers = {};\n          var bodyStartIndex = -1;\n          for (var i = 1; i < lines.length; i++) {\n            var line = lines[i];\n            if (line === '') {\n              bodyStartIndex = i + 1;\n              break;\n            }\n            var colonIndex = line.indexOf(':');\n            if (colonIndex > 0) {\n              var key = line.substring(0, colonIndex).trim().toLowerCase();\n              var value = line.substring(colonIndex + 1).trim();\n              headers[key] = value;\n            }\n          }\n          var body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n          return {\n            method,\n            url,\n            headers,\n            body\n          };\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n          return null;\n        }\n      }\n    }, {\n      key: \"formatHttpResponse\",\n      value: function formatHttpResponse(response) {\n        var statusTexts = {\n          200: 'OK',\n          400: 'Bad Request',\n          404: 'Not Found',\n          500: 'Internal Server Error'\n        };\n        var statusText = statusTexts[response.statusCode] || 'Unknown';\n        var headers = {\n          'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n          'Connection': 'close',\n          ...response.headers\n        };\n        var httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n        for (var _ref of Object.entries(headers)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n          var key = _ref2[0];\n          var value = _ref2[1];\n          httpResponse += `${key}: ${value}\\r\\n`;\n        }\n        httpResponse += '\\r\\n';\n        httpResponse += response.body;\n        return httpResponse;\n      }\n    }, {\n      key: \"setRequestHandler\",\n      value: function setRequestHandler(handler) {\n        this.requestHandler = handler;\n      }\n    }, {\n      key: \"start\",\n      value: function () {\n        var _start = (0, _asyncToGenerator2.default)(function* () {\n          var _this = this;\n          // 确保之前的服务器实例已关闭\n          if (this.server && !this.isRunning) {\n            try {\n              this.server.close();\n              logger.debug('[TCPHttpServer] Old server instance closed');\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing old server:', error);\n            }\n            this.server = null;\n          }\n          var netState = yield _netinfo.default.fetch();\n          var ipAddress = null;\n          if (netState.type === 'wifi' || netState.type === 'ethernet') {\n            ipAddress = netState.details?.ipAddress ?? null;\n          }\n          if (!ipAddress) {\n            throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n          }\n          if (this.isRunning) {\n            logger.debug('[TCPHttpServer] Server is already running.');\n            return `http://${ipAddress}:${PORT}`;\n          }\n\n          // Web平台不支持TCP服务器\n          if (_reactNative.Platform.OS === 'web') {\n            logger.error('[TCPHttpServer] TCP server not supported on web platform');\n            throw new Error('Web平台不支持TCP服务器');\n          }\n          return new Promise(function (resolve, reject) {\n            try {\n              // 检查TcpSocket是否可用\n              if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n                logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n                reject(new Error('TCP服务器初始化失败'));\n                return;\n              }\n\n              // 确保在创建新服务器前，server为null\n              if (_this.server) {\n                try {\n                  _this.server.close();\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error closing previous server:', error);\n                }\n                _this.server = null;\n              }\n\n              // 创建服务器实例\n              _this.server = TcpSocket.createServer(function (socket) {\n                logger.debug('[TCPHttpServer] Client connected');\n                var requestData = '';\n                socket.on('data', /*#__PURE__*/function () {\n                  var _ref3 = (0, _asyncToGenerator2.default)(function* (data) {\n                    requestData += data.toString();\n\n                    // Check if we have a complete HTTP request\n                    if (requestData.includes('\\r\\n\\r\\n')) {\n                      try {\n                        var _request = _this.parseHttpRequest(requestData);\n                        if (_request && _this.requestHandler) {\n                          var response = yield _this.requestHandler(_request);\n                          var httpResponse = _this.formatHttpResponse(response);\n                          socket.write(httpResponse);\n                        } else {\n                          // Send 400 Bad Request for malformed requests\n                          var errorResponse = _this.formatHttpResponse({\n                            statusCode: 400,\n                            headers: {\n                              'Content-Type': 'text/plain'\n                            },\n                            body: 'Bad Request'\n                          });\n                          socket.write(errorResponse);\n                        }\n                      } catch (error) {\n                        logger.info('[TCPHttpServer] Error handling request:', error);\n                        var _errorResponse = _this.formatHttpResponse({\n                          statusCode: 500,\n                          headers: {\n                            'Content-Type': 'text/plain'\n                          },\n                          body: 'Internal Server Error'\n                        });\n                        socket.write(_errorResponse);\n                      }\n                      socket.end();\n                      requestData = '';\n                    }\n                  });\n                  return function (_x) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n                socket.on('error', function (error) {\n                  logger.info('[TCPHttpServer] Socket error:', error);\n                });\n                socket.on('close', function () {\n                  logger.debug('[TCPHttpServer] Client disconnected');\n                });\n              });\n\n              // 确保server不为null再调用listen\n              if (!_this.server) {\n                logger.error('[TCPHttpServer] Server instance is null');\n                reject(new Error('服务器实例创建失败'));\n                return;\n              }\n\n              // 添加错误处理，确保listen方法存在并且是函数\n              if (!_this.server.listen || typeof _this.server.listen !== 'function') {\n                logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n                reject(new Error('服务器监听方法不可用'));\n                return;\n              }\n              _this.server.listen({\n                port: PORT,\n                host: '0.0.0.0'\n              }, function () {\n                logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n                _this.isRunning = true;\n                resolve(`http://${ipAddress}:${PORT}`);\n              });\n              _this.server.on('error', function (error) {\n                logger.info('[TCPHttpServer] Server error:', error);\n                _this.isRunning = false;\n                // 针对端口占用的错误提供更友好的消息\n                if (error.message && error.message.includes('EADDRINUSE')) {\n                  reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n                } else {\n                  reject(error);\n                }\n              });\n            } catch (error) {\n              logger.info('[TCPHttpServer] Failed to start server:', error);\n              reject(error);\n            }\n          });\n        });\n        function start() {\n          return _start.apply(this, arguments);\n        }\n        return start;\n      }()\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        try {\n          if (this.server) {\n            this.server.close();\n            logger.debug('[TCPHttpServer] Server stopped');\n          }\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error stopping server:', error);\n        } finally {\n          this.isRunning = false;\n          this.server = null;\n        }\n      }\n    }, {\n      key: \"getIsRunning\",\n      value: function getIsRunning() {\n        return this.isRunning;\n      }\n    }]);\n  }();\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":272,"map":[[11,2,1,0],[11,6,1,0,"_reactNative"],[11,18,1,0],[11,21,1,0,"require"],[11,28,1,0],[11,29,1,0,"_dependencyMap"],[11,43,1,0],[12,2,27,0],[12,6,27,0,"_netinfo"],[12,14,27,0],[12,17,27,0,"_interopRequireDefault"],[12,39,27,0],[12,40,27,0,"require"],[12,47,27,0],[12,48,27,0,"_dependencyMap"],[12,62,27,0],[13,2,28,0],[13,6,28,0,"_Logger"],[13,13,28,0],[13,16,28,0,"_interopRequireDefault"],[13,38,28,0],[13,39,28,0,"require"],[13,46,28,0],[13,47,28,0,"_dependencyMap"],[13,61,28,0],[14,2,2,0],[16,2,25,0],[17,2,26,0],[17,6,26,6,"TcpSocket"],[17,15,26,32],[17,18,26,35,"require"],[17,25,26,42],[17,26,26,42,"_dependencyMap"],[17,40,26,42],[17,70,26,68],[17,71,26,69],[18,2,30,0],[18,6,30,6,"logger"],[18,12,30,12],[18,15,30,15,"Logger"],[18,30,30,21],[18,31,30,22,"withTag"],[18,38,30,29],[18,39,30,30],[18,54,30,45],[18,55,30,46],[19,2,32,0],[19,6,32,6,"PORT"],[19,10,32,10],[19,13,32,13],[19,18,32,18],[21,2,34,0],[23,2,41,0],[24,2,41,0],[24,6,66,6,"TCPHttpServer"],[24,19,66,19],[25,4,71,2],[25,13,71,2,"TCPHttpServer"],[25,27,71,2],[25,29,71,16],[26,6,71,16],[26,10,71,16,"_classCallCheck2"],[26,26,71,16],[26,27,71,16,"default"],[26,34,71,16],[26,42,71,16,"TCPHttpServer"],[26,55,71,16],[27,6,71,16],[27,11,67,10,"server"],[27,17,67,16],[27,20,67,44],[27,24,67,48],[28,6,67,48],[28,11,68,10,"isRunning"],[28,20,68,19],[28,23,68,22],[28,28,68,27],[29,6,68,27],[29,11,69,10,"requestHandler"],[29,25,69,24],[29,28,69,50],[29,32,69,54],[30,6,72,4],[30,10,72,8],[30,11,72,9,"server"],[30,17,72,15],[30,20,72,18],[30,24,72,22],[31,4,73,2],[32,4,73,3],[32,15,73,3,"_createClass2"],[32,28,73,3],[32,29,73,3,"default"],[32,36,73,3],[32,38,73,3,"TCPHttpServer"],[32,51,73,3],[33,6,73,3,"key"],[33,9,73,3],[34,6,73,3,"value"],[34,11,73,3],[34,13,75,2],[34,22,75,10,"parseHttpRequest"],[34,38,75,26,"parseHttpRequest"],[34,39,75,27,"data"],[34,43,75,39],[34,45,75,61],[35,8,76,4],[35,12,76,8],[36,10,77,6],[36,14,77,12,"lines"],[36,19,77,17],[36,22,77,20,"data"],[36,26,77,24],[36,27,77,25,"split"],[36,32,77,30],[36,33,77,31],[36,39,77,37],[36,40,77,38],[37,10,78,6],[37,14,78,12,"requestLine"],[37,25,78,23],[37,28,78,26,"lines"],[37,33,78,31],[37,34,78,32],[37,35,78,33],[37,36,78,34],[37,37,78,35,"split"],[37,42,78,40],[37,43,78,41],[37,46,78,44],[37,47,78,45],[38,10,80,6],[38,14,80,10,"requestLine"],[38,25,80,21],[38,26,80,22,"length"],[38,32,80,28],[38,35,80,31],[38,36,80,32],[38,38,80,34],[39,12,81,8],[39,19,81,15],[39,23,81,19],[40,10,82,6],[41,10,84,6],[41,14,84,12,"method"],[41,20,84,18],[41,23,84,21,"requestLine"],[41,34,84,32],[41,35,84,33],[41,36,84,34],[41,37,84,35],[42,10,85,6],[42,14,85,12,"url"],[42,17,85,15],[42,20,85,18,"requestLine"],[42,31,85,29],[42,32,85,30],[42,33,85,31],[42,34,85,32],[43,10,86,6],[43,14,86,12,"headers"],[43,21,86,46],[43,24,86,49],[43,25,86,50],[43,26,86,51],[44,10,88,6],[44,14,88,10,"bodyStartIndex"],[44,28,88,24],[44,31,88,27],[44,32,88,28],[44,33,88,29],[45,10,89,6],[45,15,89,11],[45,19,89,15,"i"],[45,20,89,16],[45,23,89,19],[45,24,89,20],[45,26,89,22,"i"],[45,27,89,23],[45,30,89,26,"lines"],[45,35,89,31],[45,36,89,32,"length"],[45,42,89,38],[45,44,89,40,"i"],[45,45,89,41],[45,47,89,43],[45,49,89,45],[46,12,90,8],[46,16,90,14,"line"],[46,20,90,18],[46,23,90,21,"lines"],[46,28,90,26],[46,29,90,27,"i"],[46,30,90,28],[46,31,90,29],[47,12,91,8],[47,16,91,12,"line"],[47,20,91,16],[47,25,91,21],[47,27,91,23],[47,29,91,25],[48,14,92,10,"bodyStartIndex"],[48,28,92,24],[48,31,92,27,"i"],[48,32,92,28],[48,35,92,31],[48,36,92,32],[49,14,93,10],[50,12,94,8],[51,12,95,8],[51,16,95,14,"colonIndex"],[51,26,95,24],[51,29,95,27,"line"],[51,33,95,31],[51,34,95,32,"indexOf"],[51,41,95,39],[51,42,95,40],[51,45,95,43],[51,46,95,44],[52,12,96,8],[52,16,96,12,"colonIndex"],[52,26,96,22],[52,29,96,25],[52,30,96,26],[52,32,96,28],[53,14,97,10],[53,18,97,16,"key"],[53,21,97,19],[53,24,97,22,"line"],[53,28,97,26],[53,29,97,27,"substring"],[53,38,97,36],[53,39,97,37],[53,40,97,38],[53,42,97,40,"colonIndex"],[53,52,97,50],[53,53,97,51],[53,54,97,52,"trim"],[53,58,97,56],[53,59,97,57],[53,60,97,58],[53,61,97,59,"toLowerCase"],[53,72,97,70],[53,73,97,71],[53,74,97,72],[54,14,98,10],[54,18,98,16,"value"],[54,23,98,21],[54,26,98,24,"line"],[54,30,98,28],[54,31,98,29,"substring"],[54,40,98,38],[54,41,98,39,"colonIndex"],[54,51,98,49],[54,54,98,52],[54,55,98,53],[54,56,98,54],[54,57,98,55,"trim"],[54,61,98,59],[54,62,98,60],[54,63,98,61],[55,14,99,10,"headers"],[55,21,99,17],[55,22,99,18,"key"],[55,25,99,21],[55,26,99,22],[55,29,99,25,"value"],[55,34,99,30],[56,12,100,8],[57,10,101,6],[58,10,103,6],[58,14,103,12,"body"],[58,18,103,16],[58,21,103,19,"bodyStartIndex"],[58,35,103,33],[58,38,103,36],[58,39,103,37],[58,42,103,40,"lines"],[58,47,103,45],[58,48,103,46,"slice"],[58,53,103,51],[58,54,103,52,"bodyStartIndex"],[58,68,103,66],[58,69,103,67],[58,70,103,68,"join"],[58,74,103,72],[58,75,103,73],[58,81,103,79],[58,82,103,80],[58,85,103,83],[58,87,103,85],[59,10,105,6],[59,17,105,13],[60,12,105,15,"method"],[60,18,105,21],[61,12,105,23,"url"],[61,15,105,26],[62,12,105,28,"headers"],[62,19,105,35],[63,12,105,37,"body"],[64,10,105,42],[64,11,105,43],[65,8,106,4],[65,9,106,5],[65,10,106,6],[65,17,106,13,"error"],[65,22,106,18],[65,24,106,20],[66,10,107,6,"logger"],[66,16,107,12],[66,17,107,13,"info"],[66,21,107,17],[66,22,107,18],[66,67,107,63],[66,69,107,65,"error"],[66,74,107,70],[66,75,107,71],[67,10,108,6],[67,17,108,13],[67,21,108,17],[68,8,109,4],[69,6,110,2],[70,4,110,3],[71,6,110,3,"key"],[71,9,110,3],[72,6,110,3,"value"],[72,11,110,3],[72,13,112,2],[72,22,112,10,"formatHttpResponse"],[72,40,112,28,"formatHttpResponse"],[72,41,112,29,"response"],[72,49,112,51],[72,51,112,61],[73,8,113,4],[73,12,113,10,"statusTexts"],[73,23,113,48],[73,26,113,51],[74,10,114,6],[74,13,114,9],[74,15,114,11],[74,19,114,15],[75,10,115,6],[75,13,115,9],[75,15,115,11],[75,28,115,24],[76,10,116,6],[76,13,116,9],[76,15,116,11],[76,26,116,22],[77,10,117,6],[77,13,117,9],[77,15,117,11],[78,8,118,4],[78,9,118,5],[79,8,120,4],[79,12,120,10,"statusText"],[79,22,120,20],[79,25,120,23,"statusTexts"],[79,36,120,34],[79,37,120,35,"response"],[79,45,120,43],[79,46,120,44,"statusCode"],[79,56,120,54],[79,57,120,55],[79,61,120,59],[79,70,120,68],[80,8,121,4],[80,12,121,10,"headers"],[80,19,121,17],[80,22,121,20],[81,10,122,6],[81,26,122,22],[81,28,122,24],[81,32,122,28,"TextEncoder"],[81,43,122,39],[81,44,122,40],[81,45,122,41],[81,46,122,42,"encode"],[81,52,122,48],[81,53,122,49,"response"],[81,61,122,57],[81,62,122,58,"body"],[81,66,122,62],[81,67,122,63],[81,68,122,64,"length"],[81,74,122,70],[81,75,122,71,"toString"],[81,83,122,79],[81,84,122,80],[81,85,122,81],[82,10,123,6],[82,22,123,18],[82,24,123,20],[82,31,123,27],[83,10,124,6],[83,13,124,9,"response"],[83,21,124,17],[83,22,124,18,"headers"],[84,8,125,4],[84,9,125,5],[85,8,127,4],[85,12,127,8,"httpResponse"],[85,24,127,20],[85,27,127,23],[85,39,127,35,"response"],[85,47,127,43],[85,48,127,44,"statusCode"],[85,58,127,54],[85,62,127,58,"statusText"],[85,72,127,68],[85,78,127,74],[86,8,129,4],[86,17,129,4,"_ref"],[86,21,129,4],[86,25,129,31,"Object"],[86,31,129,37],[86,32,129,38,"entries"],[86,39,129,45],[86,40,129,46,"headers"],[86,47,129,53],[86,48,129,54],[86,50,129,56],[87,10,129,56],[87,14,129,56,"_ref2"],[87,19,129,56],[87,26,129,56,"_slicedToArray2"],[87,41,129,56],[87,42,129,56,"default"],[87,49,129,56],[87,51,129,56,"_ref"],[87,55,129,56],[88,10,129,56],[88,14,129,16,"key"],[88,17,129,19],[88,20,129,19,"_ref2"],[88,25,129,19],[89,10,129,19],[89,14,129,21,"value"],[89,19,129,26],[89,22,129,26,"_ref2"],[89,27,129,26],[90,10,130,6,"httpResponse"],[90,22,130,18],[90,26,130,22],[90,29,130,25,"key"],[90,32,130,28],[90,37,130,33,"value"],[90,42,130,38],[90,48,130,44],[91,8,131,4],[92,8,133,4,"httpResponse"],[92,20,133,16],[92,24,133,20],[92,30,133,26],[93,8,134,4,"httpResponse"],[93,20,134,16],[93,24,134,20,"response"],[93,32,134,28],[93,33,134,29,"body"],[93,37,134,33],[94,8,136,4],[94,15,136,11,"httpResponse"],[94,27,136,23],[95,6,137,2],[96,4,137,3],[97,6,137,3,"key"],[97,9,137,3],[98,6,137,3,"value"],[98,11,137,3],[98,13,139,2],[98,22,139,9,"setRequestHandler"],[98,39,139,26,"setRequestHandler"],[98,40,139,27,"handler"],[98,47,139,50],[98,49,139,52],[99,8,140,4],[99,12,140,8],[99,13,140,9,"requestHandler"],[99,27,140,23],[99,30,140,26,"handler"],[99,37,140,33],[100,6,141,2],[101,4,141,3],[102,6,141,3,"key"],[102,9,141,3],[103,6,141,3,"value"],[103,11,141,3],[104,8,141,3],[104,12,141,3,"_start"],[104,18,141,3],[104,25,141,3,"_asyncToGenerator2"],[104,43,141,3],[104,44,141,3,"default"],[104,51,141,3],[104,53,143,2],[104,66,143,40],[105,10,143,40],[105,14,143,40,"_this"],[105,19,143,40],[106,10,144,4],[107,10,145,4],[107,14,145,8],[107,18,145,12],[107,19,145,13,"server"],[107,25,145,19],[107,29,145,23],[107,30,145,24],[107,34,145,28],[107,35,145,29,"isRunning"],[107,44,145,38],[107,46,145,40],[108,12,146,6],[108,16,146,10],[109,14,147,8],[109,18,147,12],[109,19,147,13,"server"],[109,25,147,19],[109,26,147,20,"close"],[109,31,147,25],[109,32,147,26],[109,33,147,27],[110,14,148,8,"logger"],[110,20,148,14],[110,21,148,15,"debug"],[110,26,148,20],[110,27,148,21],[110,71,148,65],[110,72,148,66],[111,12,149,6],[111,13,149,7],[111,14,149,8],[111,21,149,15,"error"],[111,26,149,20],[111,28,149,22],[112,14,150,8,"logger"],[112,20,150,14],[112,21,150,15,"info"],[112,25,150,19],[112,26,150,20],[112,69,150,63],[112,71,150,65,"error"],[112,76,150,70],[112,77,150,71],[113,12,151,6],[114,12,152,6],[114,16,152,10],[114,17,152,11,"server"],[114,23,152,17],[114,26,152,20],[114,30,152,24],[115,10,153,4],[116,10,155,4],[116,14,155,10,"netState"],[116,22,155,18],[116,31,155,27,"NetInfo"],[116,47,155,34],[116,48,155,35,"fetch"],[116,53,155,40],[116,54,155,41],[116,55,155,42],[117,10,156,4],[117,14,156,8,"ipAddress"],[117,23,156,32],[117,26,156,35],[117,30,156,39],[118,10,158,4],[118,14,158,8,"netState"],[118,22,158,16],[118,23,158,17,"type"],[118,27,158,21],[118,32,158,26],[118,38,158,32],[118,42,158,36,"netState"],[118,50,158,44],[118,51,158,45,"type"],[118,55,158,49],[118,60,158,54],[118,70,158,64],[118,72,158,66],[119,12,159,6,"ipAddress"],[119,21,159,15],[119,24,159,19,"netState"],[119,32,159,27],[119,33,159,28,"details"],[119,40,159,35],[119,42,159,45,"ipAddress"],[119,51,159,54],[119,55,159,58],[119,59,159,62],[120,10,160,4],[121,10,162,4],[121,14,162,8],[121,15,162,9,"ipAddress"],[121,24,162,18],[121,26,162,20],[122,12,163,6],[122,18,163,12],[122,22,163,16,"Error"],[122,27,163,21],[122,28,163,22],[122,57,163,51],[122,58,163,52],[123,10,164,4],[124,10,166,4],[124,14,166,8],[124,18,166,12],[124,19,166,13,"isRunning"],[124,28,166,22],[124,30,166,24],[125,12,167,6,"logger"],[125,18,167,12],[125,19,167,13,"debug"],[125,24,167,18],[125,25,167,19],[125,69,167,63],[125,70,167,64],[126,12,168,6],[126,19,168,13],[126,29,168,23,"ipAddress"],[126,38,168,32],[126,42,168,36,"PORT"],[126,46,168,40],[126,48,168,42],[127,10,169,4],[129,10,171,4],[130,10,172,4],[130,14,172,8,"Platform"],[130,35,172,16],[130,36,172,17,"OS"],[130,38,172,19],[130,43,172,24],[130,48,172,29],[130,50,172,31],[131,12,173,6,"logger"],[131,18,173,12],[131,19,173,13,"error"],[131,24,173,18],[131,25,173,19],[131,83,173,77],[131,84,173,78],[132,12,174,6],[132,18,174,12],[132,22,174,16,"Error"],[132,27,174,21],[132,28,174,22],[132,44,174,38],[132,45,174,39],[133,10,175,4],[134,10,177,4],[134,17,177,11],[134,21,177,15,"Promise"],[134,28,177,22],[134,29,177,23],[134,39,177,24,"resolve"],[134,46,177,31],[134,48,177,33,"reject"],[134,54,177,39],[134,56,177,44],[135,12,178,6],[135,16,178,10],[136,14,179,8],[137,14,180,8],[137,18,180,12],[137,19,180,13,"TcpSocket"],[137,28,180,22],[137,32,180,26],[137,39,180,33,"TcpSocket"],[137,48,180,42],[137,49,180,43,"createServer"],[137,61,180,55],[137,66,180,60],[137,76,180,70],[137,78,180,72],[138,16,181,10,"logger"],[138,22,181,16],[138,23,181,17,"error"],[138,28,181,22],[138,29,181,23],[138,97,181,91],[138,98,181,92],[139,16,182,10,"reject"],[139,22,182,16],[139,23,182,17],[139,27,182,21,"Error"],[139,32,182,26],[139,33,182,27],[139,46,182,40],[139,47,182,41],[139,48,182,42],[140,16,183,10],[141,14,184,8],[143,14,186,8],[144,14,187,8],[144,18,187,12,"_this"],[144,23,187,16],[144,24,187,17,"server"],[144,30,187,23],[144,32,187,25],[145,16,188,10],[145,20,188,14],[146,18,189,12,"_this"],[146,23,189,16],[146,24,189,17,"server"],[146,30,189,23],[146,31,189,24,"close"],[146,36,189,29],[146,37,189,30],[146,38,189,31],[147,16,190,10],[147,17,190,11],[147,18,190,12],[147,25,190,19,"error"],[147,30,190,24],[147,32,190,26],[148,18,191,12,"logger"],[148,24,191,18],[148,25,191,19,"info"],[148,29,191,23],[148,30,191,24],[148,78,191,72],[148,80,191,74,"error"],[148,85,191,79],[148,86,191,80],[149,16,192,10],[150,16,193,10,"_this"],[150,21,193,14],[150,22,193,15,"server"],[150,28,193,21],[150,31,193,24],[150,35,193,28],[151,14,194,8],[153,14,196,8],[154,14,197,8,"_this"],[154,19,197,12],[154,20,197,13,"server"],[154,26,197,19],[154,29,197,22,"TcpSocket"],[154,38,197,31],[154,39,197,32,"createServer"],[154,51,197,44],[154,52,197,45],[154,62,197,46,"socket"],[154,68,197,71],[154,70,197,76],[155,16,198,10,"logger"],[155,22,198,16],[155,23,198,17,"debug"],[155,28,198,22],[155,29,198,23],[155,63,198,57],[155,64,198,58],[156,16,200,10],[156,20,200,14,"requestData"],[156,31,200,25],[156,34,200,28],[156,36,200,30],[157,16,202,10,"socket"],[157,22,202,16],[157,23,202,17,"on"],[157,25,202,19],[157,26,202,20],[157,32,202,26],[158,18,202,26],[158,22,202,26,"_ref3"],[158,27,202,26],[158,34,202,26,"_asyncToGenerator2"],[158,52,202,26],[158,53,202,26,"default"],[158,60,202,26],[158,62,202,28],[158,73,202,35,"data"],[158,77,202,56],[158,79,202,61],[159,20,203,12,"requestData"],[159,31,203,23],[159,35,203,27,"data"],[159,39,203,31],[159,40,203,32,"toString"],[159,48,203,40],[159,49,203,41],[159,50,203,42],[161,20,205,12],[162,20,206,12],[162,24,206,16,"requestData"],[162,35,206,27],[162,36,206,28,"includes"],[162,44,206,36],[162,45,206,37],[162,55,206,47],[162,56,206,48],[162,58,206,50],[163,22,207,14],[163,26,207,18],[164,24,208,16],[164,28,208,22,"request"],[164,36,208,29],[164,39,208,32,"_this"],[164,44,208,36],[164,45,208,37,"parseHttpRequest"],[164,61,208,53],[164,62,208,54,"requestData"],[164,73,208,65],[164,74,208,66],[165,24,209,16],[165,28,209,20,"request"],[165,36,209,27],[165,40,209,31,"_this"],[165,45,209,35],[165,46,209,36,"requestHandler"],[165,60,209,50],[165,62,209,52],[166,26,210,18],[166,30,210,24,"response"],[166,38,210,32],[166,47,210,41,"_this"],[166,52,210,45],[166,53,210,46,"requestHandler"],[166,67,210,60],[166,68,210,61,"request"],[166,76,210,68],[166,77,210,69],[167,26,211,18],[167,30,211,24,"httpResponse"],[167,42,211,36],[167,45,211,39,"_this"],[167,50,211,43],[167,51,211,44,"formatHttpResponse"],[167,69,211,62],[167,70,211,63,"response"],[167,78,211,71],[167,79,211,72],[168,26,212,18,"socket"],[168,32,212,24],[168,33,212,25,"write"],[168,38,212,30],[168,39,212,31,"httpResponse"],[168,51,212,43],[168,52,212,44],[169,24,213,16],[169,25,213,17],[169,31,213,23],[170,26,214,18],[171,26,215,18],[171,30,215,24,"errorResponse"],[171,43,215,37],[171,46,215,40,"_this"],[171,51,215,44],[171,52,215,45,"formatHttpResponse"],[171,70,215,63],[171,71,215,64],[172,28,216,20,"statusCode"],[172,38,216,30],[172,40,216,32],[172,43,216,35],[173,28,217,20,"headers"],[173,35,217,27],[173,37,217,29],[174,30,217,31],[174,44,217,45],[174,46,217,47],[175,28,217,60],[175,29,217,61],[176,28,218,20,"body"],[176,32,218,24],[176,34,218,26],[177,26,219,18],[177,27,219,19],[177,28,219,20],[178,26,220,18,"socket"],[178,32,220,24],[178,33,220,25,"write"],[178,38,220,30],[178,39,220,31,"errorResponse"],[178,52,220,44],[178,53,220,45],[179,24,221,16],[180,22,222,14],[180,23,222,15],[180,24,222,16],[180,31,222,23,"error"],[180,36,222,28],[180,38,222,30],[181,24,223,16,"logger"],[181,30,223,22],[181,31,223,23,"info"],[181,35,223,27],[181,36,223,28],[181,77,223,69],[181,79,223,71,"error"],[181,84,223,76],[181,85,223,77],[182,24,224,16],[182,28,224,22,"errorResponse"],[182,42,224,35],[182,45,224,38,"_this"],[182,50,224,42],[182,51,224,43,"formatHttpResponse"],[182,69,224,61],[182,70,224,62],[183,26,225,18,"statusCode"],[183,36,225,28],[183,38,225,30],[183,41,225,33],[184,26,226,18,"headers"],[184,33,226,25],[184,35,226,27],[185,28,226,29],[185,42,226,43],[185,44,226,45],[186,26,226,58],[186,27,226,59],[187,26,227,18,"body"],[187,30,227,22],[187,32,227,24],[188,24,228,16],[188,25,228,17],[188,26,228,18],[189,24,229,16,"socket"],[189,30,229,22],[189,31,229,23,"write"],[189,36,229,28],[189,37,229,29,"errorResponse"],[189,51,229,42],[189,52,229,43],[190,22,230,14],[191,22,232,14,"socket"],[191,28,232,20],[191,29,232,21,"end"],[191,32,232,24],[191,33,232,25],[191,34,232,26],[192,22,233,14,"requestData"],[192,33,233,25],[192,36,233,28],[192,38,233,30],[193,20,234,12],[194,18,235,10],[194,19,235,11],[195,18,235,11],[195,35,235,11,"_x"],[195,37,235,11],[196,20,235,11],[196,27,235,11,"_ref3"],[196,32,235,11],[196,33,235,11,"apply"],[196,38,235,11],[196,45,235,11,"arguments"],[196,54,235,11],[197,18,235,11],[198,16,235,11],[198,20,235,12],[199,16,237,10,"socket"],[199,22,237,16],[199,23,237,17,"on"],[199,25,237,19],[199,26,237,20],[199,33,237,27],[199,35,237,29],[199,45,237,30,"error"],[199,50,237,42],[199,52,237,47],[200,18,238,12,"logger"],[200,24,238,18],[200,25,238,19,"info"],[200,29,238,23],[200,30,238,24],[200,61,238,55],[200,63,238,57,"error"],[200,68,238,62],[200,69,238,63],[201,16,239,10],[201,17,239,11],[201,18,239,12],[202,16,241,10,"socket"],[202,22,241,16],[202,23,241,17,"on"],[202,25,241,19],[202,26,241,20],[202,33,241,27],[202,35,241,29],[202,47,241,35],[203,18,242,12,"logger"],[203,24,242,18],[203,25,242,19,"debug"],[203,30,242,24],[203,31,242,25],[203,68,242,62],[203,69,242,63],[204,16,243,10],[204,17,243,11],[204,18,243,12],[205,14,244,8],[205,15,244,9],[205,16,244,10],[207,14,246,8],[208,14,247,8],[208,18,247,12],[208,19,247,13,"_this"],[208,24,247,17],[208,25,247,18,"server"],[208,31,247,24],[208,33,247,26],[209,16,248,10,"logger"],[209,22,248,16],[209,23,248,17,"error"],[209,28,248,22],[209,29,248,23],[209,70,248,64],[209,71,248,65],[210,16,249,10,"reject"],[210,22,249,16],[210,23,249,17],[210,27,249,21,"Error"],[210,32,249,26],[210,33,249,27],[210,44,249,38],[210,45,249,39],[210,46,249,40],[211,16,250,10],[212,14,251,8],[214,14,253,8],[215,14,254,8],[215,18,254,12],[215,19,254,13,"_this"],[215,24,254,17],[215,25,254,18,"server"],[215,31,254,24],[215,32,254,25,"listen"],[215,38,254,31],[215,42,254,35],[215,49,254,42,"_this"],[215,54,254,46],[215,55,254,47,"server"],[215,61,254,53],[215,62,254,54,"listen"],[215,68,254,60],[215,73,254,65],[215,83,254,75],[215,85,254,77],[216,16,255,10,"logger"],[216,22,255,16],[216,23,255,17,"error"],[216,28,255,22],[216,29,255,23],[216,102,255,96],[216,103,255,97],[217,16,256,10,"reject"],[217,22,256,16],[217,23,256,17],[217,27,256,21,"Error"],[217,32,256,26],[217,33,256,27],[217,45,256,39],[217,46,256,40],[217,47,256,41],[218,16,257,10],[219,14,258,8],[220,14,260,8,"_this"],[220,19,260,12],[220,20,260,13,"server"],[220,26,260,19],[220,27,260,20,"listen"],[220,33,260,26],[220,34,260,27],[221,16,260,29,"port"],[221,20,260,33],[221,22,260,35,"PORT"],[221,26,260,39],[222,16,260,41,"host"],[222,20,260,45],[222,22,260,47],[223,14,260,57],[223,15,260,58],[223,17,260,60],[223,29,260,66],[224,16,261,10,"logger"],[224,22,261,16],[224,23,261,17,"debug"],[224,28,261,22],[224,29,261,23],[224,68,261,62,"ipAddress"],[224,77,261,71],[224,81,261,75,"PORT"],[224,85,261,79],[224,87,261,81],[224,88,261,82],[225,16,262,10,"_this"],[225,21,262,14],[225,22,262,15,"isRunning"],[225,31,262,24],[225,34,262,27],[225,38,262,31],[226,16,263,10,"resolve"],[226,23,263,17],[226,24,263,18],[226,34,263,28,"ipAddress"],[226,43,263,37],[226,47,263,41,"PORT"],[226,51,263,45],[226,53,263,47],[226,54,263,48],[227,14,264,8],[227,15,264,9],[227,16,264,10],[228,14,266,8,"_this"],[228,19,266,12],[228,20,266,13,"server"],[228,26,266,19],[228,27,266,20,"on"],[228,29,266,22],[228,30,266,23],[228,37,266,30],[228,39,266,32],[228,49,266,33,"error"],[228,54,266,45],[228,56,266,50],[229,16,267,10,"logger"],[229,22,267,16],[229,23,267,17,"info"],[229,27,267,21],[229,28,267,22],[229,59,267,53],[229,61,267,55,"error"],[229,66,267,60],[229,67,267,61],[230,16,268,10,"_this"],[230,21,268,14],[230,22,268,15,"isRunning"],[230,31,268,24],[230,34,268,27],[230,39,268,32],[231,16,269,10],[232,16,270,10],[232,20,270,14,"error"],[232,25,270,19],[232,26,270,20,"message"],[232,33,270,27],[232,37,270,31,"error"],[232,42,270,36],[232,43,270,37,"message"],[232,50,270,44],[232,51,270,45,"includes"],[232,59,270,53],[232,60,270,54],[232,72,270,66],[232,73,270,67],[232,75,270,69],[233,18,271,12,"reject"],[233,24,271,18],[233,25,271,19],[233,29,271,23,"Error"],[233,34,271,28],[233,35,271,29],[233,55,271,49],[233,56,271,50],[233,57,271,51],[234,16,272,10],[234,17,272,11],[234,23,272,17],[235,18,273,12,"reject"],[235,24,273,18],[235,25,273,19,"error"],[235,30,273,24],[235,31,273,25],[236,16,274,10],[237,14,275,8],[237,15,275,9],[237,16,275,10],[238,12,277,6],[238,13,277,7],[238,14,277,8],[238,21,277,15,"error"],[238,26,277,20],[238,28,277,22],[239,14,278,8,"logger"],[239,20,278,14],[239,21,278,15,"info"],[239,25,278,19],[239,26,278,20],[239,67,278,61],[239,69,278,63,"error"],[239,74,278,68],[239,75,278,69],[240,14,279,8,"reject"],[240,20,279,14],[240,21,279,15,"error"],[240,26,279,20],[240,27,279,21],[241,12,280,6],[242,10,281,4],[242,11,281,5],[242,12,281,6],[243,8,282,2],[243,9,282,3],[244,8,282,3],[244,17,143,15,"start"],[244,22,143,20,"start"],[244,23,143,20],[245,10,143,20],[245,17,143,20,"_start"],[245,23,143,20],[245,24,143,20,"apply"],[245,29,143,20],[245,36,143,20,"arguments"],[245,45,143,20],[246,8,143,20],[247,8,143,20],[247,15,143,15,"start"],[247,20,143,20],[248,6,143,20],[249,4,143,20],[250,6,143,20,"key"],[250,9,143,20],[251,6,143,20,"value"],[251,11,143,20],[251,13,284,2],[251,22,284,9,"stop"],[251,26,284,13,"stop"],[251,27,284,13],[251,29,284,16],[252,8,285,4],[252,12,285,8],[253,10,286,6],[253,14,286,10],[253,18,286,14],[253,19,286,15,"server"],[253,25,286,21],[253,27,286,23],[254,12,287,8],[254,16,287,12],[254,17,287,13,"server"],[254,23,287,19],[254,24,287,20,"close"],[254,29,287,25],[254,30,287,26],[254,31,287,27],[255,12,288,8,"logger"],[255,18,288,14],[255,19,288,15,"debug"],[255,24,288,20],[255,25,288,21],[255,57,288,53],[255,58,288,54],[256,10,289,6],[257,8,290,4],[257,9,290,5],[257,10,290,6],[257,17,290,13,"error"],[257,22,290,18],[257,24,290,20],[258,10,291,6,"logger"],[258,16,291,12],[258,17,291,13,"info"],[258,21,291,17],[258,22,291,18],[258,62,291,58],[258,64,291,60,"error"],[258,69,291,65],[258,70,291,66],[259,8,292,4],[259,9,292,5],[259,18,292,14],[260,10,293,6],[260,14,293,10],[260,15,293,11,"isRunning"],[260,24,293,20],[260,27,293,23],[260,32,293,28],[261,10,294,6],[261,14,294,10],[261,15,294,11,"server"],[261,21,294,17],[261,24,294,20],[261,28,294,24],[262,8,295,4],[263,6,296,2],[264,4,296,3],[265,6,296,3,"key"],[265,9,296,3],[266,6,296,3,"value"],[266,11,296,3],[266,13,298,2],[266,22,298,9,"getIsRunning"],[266,34,298,21,"getIsRunning"],[266,35,298,21],[266,37,298,33],[267,8,299,4],[267,15,299,11],[267,19,299,15],[267,20,299,16,"isRunning"],[267,29,299,25],[268,6,300,2],[269,4,300,3],[270,2,300,3],[271,2,300,3],[271,6,300,3,"_default"],[271,14,300,3],[271,17,300,3,"exports"],[271,24,300,3],[271,25,300,3,"default"],[271,32,300,3],[271,35,303,15,"TCPHttpServer"],[271,48,303,28],[272,0,303,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;ACiE;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}