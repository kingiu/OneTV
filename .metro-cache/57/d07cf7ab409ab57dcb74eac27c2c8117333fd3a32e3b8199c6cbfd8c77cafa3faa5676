{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":268,"column":29,"index":7733}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":268,"column":29,"index":7733}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":268,"column":29,"index":7733}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":268,"column":29,"index":7733}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":268,"column":29,"index":7733}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"react-native","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":131},"end":{"line":5,"column":54,"index":185}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0,"index":186},"end":{"line":6,"column":36,"index":222}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":18,"index":95},"end":{"line":4,"column":52,"index":129}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[6], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[7], \"@/utils/Logger\"));\n  // 直接使用require并忽略类型检查\n  // @ts-ignore\n  var TcpSocket = require(_dependencyMap[8], \"react-native-tcp-socket\");\n  var logger = _Logger.default.withTag('TCPHttpServer');\n  var PORT = 12346;\n\n  // 类型定义\n  var TCPHttpServer = /*#__PURE__*/function () {\n    function TCPHttpServer() {\n      (0, _classCallCheck2.default)(this, TCPHttpServer);\n      this.server = null;\n      this.isRunning = false;\n      this.requestHandler = null;\n      this.server = null;\n    }\n    return (0, _createClass2.default)(TCPHttpServer, [{\n      key: \"parseHttpRequest\",\n      value: function parseHttpRequest(data) {\n        try {\n          var lines = data.split('\\r\\n');\n          var requestLine = lines[0].split(' ');\n          if (requestLine.length < 3) {\n            return null;\n          }\n          var method = requestLine[0];\n          var url = requestLine[1];\n          var headers = {};\n          var bodyStartIndex = -1;\n          for (var i = 1; i < lines.length; i++) {\n            var line = lines[i];\n            if (line === '') {\n              bodyStartIndex = i + 1;\n              break;\n            }\n            var colonIndex = line.indexOf(':');\n            if (colonIndex > 0) {\n              var key = line.substring(0, colonIndex).trim().toLowerCase();\n              var value = line.substring(colonIndex + 1).trim();\n              headers[key] = value;\n            }\n          }\n          var body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n          return {\n            method,\n            url,\n            headers,\n            body\n          };\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n          return null;\n        }\n      }\n    }, {\n      key: \"formatHttpResponse\",\n      value: function formatHttpResponse(response) {\n        var statusTexts = {\n          200: 'OK',\n          400: 'Bad Request',\n          404: 'Not Found',\n          500: 'Internal Server Error'\n        };\n        var statusText = statusTexts[response.statusCode] || 'Unknown';\n        var headers = {\n          'Content-Length': new TextEncoder().encode(response.body || '').length.toString(),\n          'Connection': 'close',\n          ...response.headers\n        };\n        var httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n        for (var _ref of Object.entries(headers)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n          var key = _ref2[0];\n          var value = _ref2[1];\n          httpResponse += `${key}: ${value}\\r\\n`;\n        }\n        httpResponse += '\\r\\n';\n        httpResponse += response.body || '';\n        return httpResponse;\n      }\n    }, {\n      key: \"handleConnection\",\n      value: function handleConnection(socket) {\n        var _this = this;\n        logger.debug('[TCPHttpServer] Client connected');\n        var requestData = '';\n        socket.on('data', /*#__PURE__*/function () {\n          var _ref3 = (0, _asyncToGenerator2.default)(function* (data) {\n            requestData += data.toString();\n\n            // Check if we have a complete HTTP request\n            if (requestData.includes('\\r\\n\\r\\n')) {\n              try {\n                var _request = _this.parseHttpRequest(requestData);\n                if (_request && _this.requestHandler) {\n                  var response = yield _this.requestHandler(_request);\n                  var httpResponse = _this.formatHttpResponse(response);\n                  socket.write(httpResponse);\n                } else {\n                  // Send 400 Bad Request for malformed requests\n                  var errorResponse = _this.formatHttpResponse({\n                    statusCode: 400,\n                    headers: {\n                      'Content-Type': 'text/plain'\n                    },\n                    body: 'Bad Request'\n                  });\n                  socket.write(errorResponse);\n                }\n              } catch (error) {\n                logger.info('[TCPHttpServer] Error handling request:', error);\n                var _errorResponse = _this.formatHttpResponse({\n                  statusCode: 500,\n                  headers: {\n                    'Content-Type': 'text/plain'\n                  },\n                  body: 'Internal Server Error'\n                });\n                socket.write(_errorResponse);\n              }\n              socket.end();\n              requestData = '';\n            }\n          });\n          return function (_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }());\n        socket.on('error', function (error) {\n          logger.info('[TCPHttpServer] Socket error:', error);\n        });\n        socket.on('close', function () {\n          logger.debug('[TCPHttpServer] Client disconnected');\n        });\n      }\n    }, {\n      key: \"setRequestHandler\",\n      value: function setRequestHandler(handler) {\n        this.requestHandler = handler;\n      }\n    }, {\n      key: \"start\",\n      value: function () {\n        var _start = (0, _asyncToGenerator2.default)(function* () {\n          var _this2 = this;\n          // 确保之前的服务器实例已关闭\n          if (this.server && !this.isRunning) {\n            try {\n              this.server.close();\n              logger.debug('[TCPHttpServer] Old server instance closed');\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing old server:', error);\n            }\n            this.server = null;\n          }\n          var netState = yield _netinfo.default.fetch();\n          var ipAddress = null;\n          if (netState.type === 'wifi' || netState.type === 'ethernet') {\n            ipAddress = netState.details?.ipAddress ?? null;\n          }\n          if (!ipAddress) {\n            throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n          }\n          if (this.isRunning) {\n            logger.debug('[TCPHttpServer] Server is already running.');\n            return `http://${ipAddress}:${PORT}`;\n          }\n\n          // Web平台不支持TCP服务器\n          if (_reactNative.Platform.OS === 'web') {\n            logger.error('[TCPHttpServer] TCP server not supported on web platform');\n            throw new Error('Web平台不支持TCP服务器');\n          }\n          return new Promise(function (resolve, reject) {\n            try {\n              // 检查TcpSocket是否可用\n              if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n                logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n                reject(new Error('TCP服务器初始化失败'));\n                return;\n              }\n\n              // 确保在创建新服务器前，server为null\n              if (_this2.server) {\n                try {\n                  _this2.server.close();\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error closing previous server:', error);\n                }\n                _this2.server = null;\n              }\n\n              // 创建服务器实例\n              _this2.server = TcpSocket.createServer(function (socket) {\n                _this2.handleConnection(socket);\n              });\n\n              // 确保server不为null再调用listen\n              if (!_this2.server) {\n                logger.error('[TCPHttpServer] Server instance is null');\n                reject(new Error('服务器实例创建失败'));\n                return;\n              }\n\n              // 添加错误处理，确保listen方法存在并且是函数\n              if (!_this2.server.listen || typeof _this2.server.listen !== 'function') {\n                logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n                reject(new Error('服务器监听方法不可用'));\n                return;\n              }\n              _this2.server.listen({\n                port: PORT,\n                host: '0.0.0.0'\n              }, function () {\n                logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n                _this2.isRunning = true;\n                resolve(`http://${ipAddress}:${PORT}`);\n              });\n              _this2.server.on('error', function (error) {\n                logger.info('[TCPHttpServer] Server error:', error);\n                _this2.isRunning = false;\n                // 针对端口占用的错误提供更友好的消息\n                if (error.message && error.message.includes('EADDRINUSE')) {\n                  reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n                } else {\n                  reject(error);\n                }\n              });\n            } catch (error) {\n              logger.info('[TCPHttpServer] Failed to start server:', error);\n              reject(error);\n            }\n          });\n        });\n        function start() {\n          return _start.apply(this, arguments);\n        }\n        return start;\n      }()\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        try {\n          if (this.server) {\n            this.server.close();\n            logger.debug('[TCPHttpServer] Server stopped');\n          }\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error stopping server:', error);\n        } finally {\n          this.isRunning = false;\n          this.server = null;\n        }\n      }\n    }, {\n      key: \"getIsRunning\",\n      value: function getIsRunning() {\n        return this.isRunning;\n      }\n    }]);\n  }();\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":275,"map":[[11,2,1,0],[11,6,1,0,"_reactNative"],[11,18,1,0],[11,21,1,0,"require"],[11,28,1,0],[11,29,1,0,"_dependencyMap"],[11,43,1,0],[12,2,5,0],[12,6,5,0,"_netinfo"],[12,14,5,0],[12,17,5,0,"_interopRequireDefault"],[12,39,5,0],[12,40,5,0,"require"],[12,47,5,0],[12,48,5,0,"_dependencyMap"],[12,62,5,0],[13,2,6,0],[13,6,6,0,"_Logger"],[13,13,6,0],[13,16,6,0,"_interopRequireDefault"],[13,38,6,0],[13,39,6,0,"require"],[13,46,6,0],[13,47,6,0,"_dependencyMap"],[13,61,6,0],[14,2,2,0],[15,2,3,0],[16,2,4,0],[16,6,4,6,"TcpSocket"],[16,15,4,15],[16,18,4,18,"require"],[16,25,4,25],[16,26,4,25,"_dependencyMap"],[16,40,4,25],[16,70,4,51],[16,71,4,52],[17,2,8,0],[17,6,8,6,"logger"],[17,12,8,12],[17,15,8,15,"Logger"],[17,30,8,21],[17,31,8,22,"withTag"],[17,38,8,29],[17,39,8,30],[17,54,8,45],[17,55,8,46],[18,2,9,0],[18,6,9,6,"PORT"],[18,10,9,10],[18,13,9,13],[18,18,9,18],[20,2,11,0],[21,2,11,0],[21,6,27,6,"TCPHttpServer"],[21,19,27,19],[22,4,32,2],[22,13,32,2,"TCPHttpServer"],[22,27,32,2],[22,29,32,16],[23,6,32,16],[23,10,32,16,"_classCallCheck2"],[23,26,32,16],[23,27,32,16,"default"],[23,34,32,16],[23,42,32,16,"TCPHttpServer"],[23,55,32,16],[24,6,32,16],[24,11,28,10,"server"],[24,17,28,16],[24,20,28,31],[24,24,28,35],[25,6,28,35],[25,11,29,10,"isRunning"],[25,20,29,19],[25,23,29,22],[25,28,29,27],[26,6,29,27],[26,11,30,10,"requestHandler"],[26,25,30,24],[26,28,30,50],[26,32,30,54],[27,6,33,4],[27,10,33,8],[27,11,33,9,"server"],[27,17,33,15],[27,20,33,18],[27,24,33,22],[28,4,34,2],[29,4,34,3],[29,15,34,3,"_createClass2"],[29,28,34,3],[29,29,34,3,"default"],[29,36,34,3],[29,38,34,3,"TCPHttpServer"],[29,51,34,3],[30,6,34,3,"key"],[30,9,34,3],[31,6,34,3,"value"],[31,11,34,3],[31,13,36,2],[31,22,36,10,"parseHttpRequest"],[31,38,36,26,"parseHttpRequest"],[31,39,36,27,"data"],[31,43,36,39],[31,45,36,61],[32,8,37,4],[32,12,37,8],[33,10,38,6],[33,14,38,12,"lines"],[33,19,38,17],[33,22,38,20,"data"],[33,26,38,24],[33,27,38,25,"split"],[33,32,38,30],[33,33,38,31],[33,39,38,37],[33,40,38,38],[34,10,39,6],[34,14,39,12,"requestLine"],[34,25,39,23],[34,28,39,26,"lines"],[34,33,39,31],[34,34,39,32],[34,35,39,33],[34,36,39,34],[34,37,39,35,"split"],[34,42,39,40],[34,43,39,41],[34,46,39,44],[34,47,39,45],[35,10,41,6],[35,14,41,10,"requestLine"],[35,25,41,21],[35,26,41,22,"length"],[35,32,41,28],[35,35,41,31],[35,36,41,32],[35,38,41,34],[36,12,42,8],[36,19,42,15],[36,23,42,19],[37,10,43,6],[38,10,45,6],[38,14,45,12,"method"],[38,20,45,18],[38,23,45,21,"requestLine"],[38,34,45,32],[38,35,45,33],[38,36,45,34],[38,37,45,35],[39,10,46,6],[39,14,46,12,"url"],[39,17,46,15],[39,20,46,18,"requestLine"],[39,31,46,29],[39,32,46,30],[39,33,46,31],[39,34,46,32],[40,10,47,6],[40,14,47,12,"headers"],[40,21,47,43],[40,24,47,46],[40,25,47,47],[40,26,47,48],[41,10,49,6],[41,14,49,10,"bodyStartIndex"],[41,28,49,24],[41,31,49,27],[41,32,49,28],[41,33,49,29],[42,10,50,6],[42,15,50,11],[42,19,50,15,"i"],[42,20,50,16],[42,23,50,19],[42,24,50,20],[42,26,50,22,"i"],[42,27,50,23],[42,30,50,26,"lines"],[42,35,50,31],[42,36,50,32,"length"],[42,42,50,38],[42,44,50,40,"i"],[42,45,50,41],[42,47,50,43],[42,49,50,45],[43,12,51,8],[43,16,51,14,"line"],[43,20,51,18],[43,23,51,21,"lines"],[43,28,51,26],[43,29,51,27,"i"],[43,30,51,28],[43,31,51,29],[44,12,52,8],[44,16,52,12,"line"],[44,20,52,16],[44,25,52,21],[44,27,52,23],[44,29,52,25],[45,14,53,10,"bodyStartIndex"],[45,28,53,24],[45,31,53,27,"i"],[45,32,53,28],[45,35,53,31],[45,36,53,32],[46,14,54,10],[47,12,55,8],[48,12,56,8],[48,16,56,14,"colonIndex"],[48,26,56,24],[48,29,56,27,"line"],[48,33,56,31],[48,34,56,32,"indexOf"],[48,41,56,39],[48,42,56,40],[48,45,56,43],[48,46,56,44],[49,12,57,8],[49,16,57,12,"colonIndex"],[49,26,57,22],[49,29,57,25],[49,30,57,26],[49,32,57,28],[50,14,58,10],[50,18,58,16,"key"],[50,21,58,19],[50,24,58,22,"line"],[50,28,58,26],[50,29,58,27,"substring"],[50,38,58,36],[50,39,58,37],[50,40,58,38],[50,42,58,40,"colonIndex"],[50,52,58,50],[50,53,58,51],[50,54,58,52,"trim"],[50,58,58,56],[50,59,58,57],[50,60,58,58],[50,61,58,59,"toLowerCase"],[50,72,58,70],[50,73,58,71],[50,74,58,72],[51,14,59,10],[51,18,59,16,"value"],[51,23,59,21],[51,26,59,24,"line"],[51,30,59,28],[51,31,59,29,"substring"],[51,40,59,38],[51,41,59,39,"colonIndex"],[51,51,59,49],[51,54,59,52],[51,55,59,53],[51,56,59,54],[51,57,59,55,"trim"],[51,61,59,59],[51,62,59,60],[51,63,59,61],[52,14,60,10,"headers"],[52,21,60,17],[52,22,60,18,"key"],[52,25,60,21],[52,26,60,22],[52,29,60,25,"value"],[52,34,60,30],[53,12,61,8],[54,10,62,6],[55,10,64,6],[55,14,64,12,"body"],[55,18,64,16],[55,21,64,19,"bodyStartIndex"],[55,35,64,33],[55,38,64,36],[55,39,64,37],[55,42,64,40,"lines"],[55,47,64,45],[55,48,64,46,"slice"],[55,53,64,51],[55,54,64,52,"bodyStartIndex"],[55,68,64,66],[55,69,64,67],[55,70,64,68,"join"],[55,74,64,72],[55,75,64,73],[55,81,64,79],[55,82,64,80],[55,85,64,83],[55,87,64,85],[56,10,66,6],[56,17,66,13],[57,12,66,15,"method"],[57,18,66,21],[58,12,66,23,"url"],[58,15,66,26],[59,12,66,28,"headers"],[59,19,66,35],[60,12,66,37,"body"],[61,10,66,42],[61,11,66,43],[62,8,67,4],[62,9,67,5],[62,10,67,6],[62,17,67,13,"error"],[62,22,67,18],[62,24,67,20],[63,10,68,6,"logger"],[63,16,68,12],[63,17,68,13,"info"],[63,21,68,17],[63,22,68,18],[63,67,68,63],[63,69,68,65,"error"],[63,74,68,70],[63,75,68,71],[64,10,69,6],[64,17,69,13],[64,21,69,17],[65,8,70,4],[66,6,71,2],[67,4,71,3],[68,6,71,3,"key"],[68,9,71,3],[69,6,71,3,"value"],[69,11,71,3],[69,13,73,2],[69,22,73,10,"formatHttpResponse"],[69,40,73,28,"formatHttpResponse"],[69,41,73,29,"response"],[69,49,73,51],[69,51,73,61],[70,8,74,4],[70,12,74,10,"statusTexts"],[70,23,74,45],[70,26,74,48],[71,10,75,6],[71,13,75,9],[71,15,75,11],[71,19,75,15],[72,10,76,6],[72,13,76,9],[72,15,76,11],[72,28,76,24],[73,10,77,6],[73,13,77,9],[73,15,77,11],[73,26,77,22],[74,10,78,6],[74,13,78,9],[74,15,78,11],[75,8,79,4],[75,9,79,5],[76,8,81,4],[76,12,81,10,"statusText"],[76,22,81,20],[76,25,81,23,"statusTexts"],[76,36,81,34],[76,37,81,35,"response"],[76,45,81,43],[76,46,81,44,"statusCode"],[76,56,81,54],[76,57,81,55],[76,61,81,59],[76,70,81,68],[77,8,82,4],[77,12,82,10,"headers"],[77,19,82,17],[77,22,82,20],[78,10,83,6],[78,26,83,22],[78,28,83,24],[78,32,83,28,"TextEncoder"],[78,43,83,39],[78,44,83,40],[78,45,83,41],[78,46,83,42,"encode"],[78,52,83,48],[78,53,83,49,"response"],[78,61,83,57],[78,62,83,58,"body"],[78,66,83,62],[78,70,83,66],[78,72,83,68],[78,73,83,69],[78,74,83,70,"length"],[78,80,83,76],[78,81,83,77,"toString"],[78,89,83,85],[78,90,83,86],[78,91,83,87],[79,10,84,6],[79,22,84,18],[79,24,84,20],[79,31,84,27],[80,10,85,6],[80,13,85,9,"response"],[80,21,85,17],[80,22,85,18,"headers"],[81,8,86,4],[81,9,86,5],[82,8,88,4],[82,12,88,8,"httpResponse"],[82,24,88,20],[82,27,88,23],[82,39,88,35,"response"],[82,47,88,43],[82,48,88,44,"statusCode"],[82,58,88,54],[82,62,88,58,"statusText"],[82,72,88,68],[82,78,88,74],[83,8,90,4],[83,17,90,4,"_ref"],[83,21,90,4],[83,25,90,31,"Object"],[83,31,90,37],[83,32,90,38,"entries"],[83,39,90,45],[83,40,90,46,"headers"],[83,47,90,53],[83,48,90,54],[83,50,90,56],[84,10,90,56],[84,14,90,56,"_ref2"],[84,19,90,56],[84,26,90,56,"_slicedToArray2"],[84,41,90,56],[84,42,90,56,"default"],[84,49,90,56],[84,51,90,56,"_ref"],[84,55,90,56],[85,10,90,56],[85,14,90,16,"key"],[85,17,90,19],[85,20,90,19,"_ref2"],[85,25,90,19],[86,10,90,19],[86,14,90,21,"value"],[86,19,90,26],[86,22,90,26,"_ref2"],[86,27,90,26],[87,10,91,6,"httpResponse"],[87,22,91,18],[87,26,91,22],[87,29,91,25,"key"],[87,32,91,28],[87,37,91,33,"value"],[87,42,91,38],[87,48,91,44],[88,8,92,4],[89,8,94,4,"httpResponse"],[89,20,94,16],[89,24,94,20],[89,30,94,26],[90,8,95,4,"httpResponse"],[90,20,95,16],[90,24,95,20,"response"],[90,32,95,28],[90,33,95,29,"body"],[90,37,95,33],[90,41,95,37],[90,43,95,39],[91,8,97,4],[91,15,97,11,"httpResponse"],[91,27,97,23],[92,6,98,2],[93,4,98,3],[94,6,98,3,"key"],[94,9,98,3],[95,6,98,3,"value"],[95,11,98,3],[95,13,100,2],[95,22,100,10,"handleConnection"],[95,38,100,26,"handleConnection"],[95,39,100,27,"socket"],[95,45,100,38],[95,47,100,40],[96,8,100,40],[96,12,100,40,"_this"],[96,17,100,40],[97,8,101,4,"logger"],[97,14,101,10],[97,15,101,11,"debug"],[97,20,101,16],[97,21,101,17],[97,55,101,51],[97,56,101,52],[98,8,103,4],[98,12,103,8,"requestData"],[98,23,103,19],[98,26,103,22],[98,28,103,24],[99,8,105,4,"socket"],[99,14,105,10],[99,15,105,11,"on"],[99,17,105,13],[99,18,105,14],[99,24,105,20],[100,10,105,20],[100,14,105,20,"_ref3"],[100,19,105,20],[100,26,105,20,"_asyncToGenerator2"],[100,44,105,20],[100,45,105,20,"default"],[100,52,105,20],[100,54,105,22],[100,65,105,29,"data"],[100,69,105,38],[100,71,105,43],[101,12,106,6,"requestData"],[101,23,106,17],[101,27,106,21,"data"],[101,31,106,25],[101,32,106,26,"toString"],[101,40,106,34],[101,41,106,35],[101,42,106,36],[103,12,108,6],[104,12,109,6],[104,16,109,10,"requestData"],[104,27,109,21],[104,28,109,22,"includes"],[104,36,109,30],[104,37,109,31],[104,47,109,41],[104,48,109,42],[104,50,109,44],[105,14,110,8],[105,18,110,12],[106,16,111,10],[106,20,111,16,"request"],[106,28,111,23],[106,31,111,26,"_this"],[106,36,111,30],[106,37,111,31,"parseHttpRequest"],[106,53,111,47],[106,54,111,48,"requestData"],[106,65,111,59],[106,66,111,60],[107,16,112,10],[107,20,112,14,"request"],[107,28,112,21],[107,32,112,25,"_this"],[107,37,112,29],[107,38,112,30,"requestHandler"],[107,52,112,44],[107,54,112,46],[108,18,113,12],[108,22,113,18,"response"],[108,30,113,26],[108,39,113,35,"_this"],[108,44,113,39],[108,45,113,40,"requestHandler"],[108,59,113,54],[108,60,113,55,"request"],[108,68,113,62],[108,69,113,63],[109,18,114,12],[109,22,114,18,"httpResponse"],[109,34,114,30],[109,37,114,33,"_this"],[109,42,114,37],[109,43,114,38,"formatHttpResponse"],[109,61,114,56],[109,62,114,57,"response"],[109,70,114,65],[109,71,114,66],[110,18,115,12,"socket"],[110,24,115,18],[110,25,115,19,"write"],[110,30,115,24],[110,31,115,25,"httpResponse"],[110,43,115,37],[110,44,115,38],[111,16,116,10],[111,17,116,11],[111,23,116,17],[112,18,117,12],[113,18,118,12],[113,22,118,18,"errorResponse"],[113,35,118,31],[113,38,118,34,"_this"],[113,43,118,38],[113,44,118,39,"formatHttpResponse"],[113,62,118,57],[113,63,118,58],[114,20,119,14,"statusCode"],[114,30,119,24],[114,32,119,26],[114,35,119,29],[115,20,120,14,"headers"],[115,27,120,21],[115,29,120,23],[116,22,120,25],[116,36,120,39],[116,38,120,41],[117,20,120,54],[117,21,120,55],[118,20,121,14,"body"],[118,24,121,18],[118,26,121,20],[119,18,122,12],[119,19,122,13],[119,20,122,14],[120,18,123,12,"socket"],[120,24,123,18],[120,25,123,19,"write"],[120,30,123,24],[120,31,123,25,"errorResponse"],[120,44,123,38],[120,45,123,39],[121,16,124,10],[122,14,125,8],[122,15,125,9],[122,16,125,10],[122,23,125,17,"error"],[122,28,125,22],[122,30,125,24],[123,16,126,10,"logger"],[123,22,126,16],[123,23,126,17,"info"],[123,27,126,21],[123,28,126,22],[123,69,126,63],[123,71,126,65,"error"],[123,76,126,70],[123,77,126,71],[124,16,127,10],[124,20,127,16,"errorResponse"],[124,34,127,29],[124,37,127,32,"_this"],[124,42,127,36],[124,43,127,37,"formatHttpResponse"],[124,61,127,55],[124,62,127,56],[125,18,128,12,"statusCode"],[125,28,128,22],[125,30,128,24],[125,33,128,27],[126,18,129,12,"headers"],[126,25,129,19],[126,27,129,21],[127,20,129,23],[127,34,129,37],[127,36,129,39],[128,18,129,52],[128,19,129,53],[129,18,130,12,"body"],[129,22,130,16],[129,24,130,18],[130,16,131,10],[130,17,131,11],[130,18,131,12],[131,16,132,10,"socket"],[131,22,132,16],[131,23,132,17,"write"],[131,28,132,22],[131,29,132,23,"errorResponse"],[131,43,132,36],[131,44,132,37],[132,14,133,8],[133,14,135,8,"socket"],[133,20,135,14],[133,21,135,15,"end"],[133,24,135,18],[133,25,135,19],[133,26,135,20],[134,14,136,8,"requestData"],[134,25,136,19],[134,28,136,22],[134,30,136,24],[135,12,137,6],[136,10,138,4],[136,11,138,5],[137,10,138,5],[137,27,138,5,"_x"],[137,29,138,5],[138,12,138,5],[138,19,138,5,"_ref3"],[138,24,138,5],[138,25,138,5,"apply"],[138,30,138,5],[138,37,138,5,"arguments"],[138,46,138,5],[139,10,138,5],[140,8,138,5],[140,12,138,6],[141,8,140,4,"socket"],[141,14,140,10],[141,15,140,11,"on"],[141,17,140,13],[141,18,140,14],[141,25,140,21],[141,27,140,23],[141,37,140,24,"error"],[141,42,140,36],[141,44,140,41],[142,10,141,6,"logger"],[142,16,141,12],[142,17,141,13,"info"],[142,21,141,17],[142,22,141,18],[142,53,141,49],[142,55,141,51,"error"],[142,60,141,56],[142,61,141,57],[143,8,142,4],[143,9,142,5],[143,10,142,6],[144,8,144,4,"socket"],[144,14,144,10],[144,15,144,11,"on"],[144,17,144,13],[144,18,144,14],[144,25,144,21],[144,27,144,23],[144,39,144,29],[145,10,145,6,"logger"],[145,16,145,12],[145,17,145,13,"debug"],[145,22,145,18],[145,23,145,19],[145,60,145,56],[145,61,145,57],[146,8,146,4],[146,9,146,5],[146,10,146,6],[147,6,147,2],[148,4,147,3],[149,6,147,3,"key"],[149,9,147,3],[150,6,147,3,"value"],[150,11,147,3],[150,13,149,2],[150,22,149,9,"setRequestHandler"],[150,39,149,26,"setRequestHandler"],[150,40,149,27,"handler"],[150,47,149,50],[150,49,149,52],[151,8,150,4],[151,12,150,8],[151,13,150,9,"requestHandler"],[151,27,150,23],[151,30,150,26,"handler"],[151,37,150,33],[152,6,151,2],[153,4,151,3],[154,6,151,3,"key"],[154,9,151,3],[155,6,151,3,"value"],[155,11,151,3],[156,8,151,3],[156,12,151,3,"_start"],[156,18,151,3],[156,25,151,3,"_asyncToGenerator2"],[156,43,151,3],[156,44,151,3,"default"],[156,51,151,3],[156,53,153,2],[156,66,153,40],[157,10,153,40],[157,14,153,40,"_this2"],[157,20,153,40],[158,10,154,4],[159,10,155,4],[159,14,155,8],[159,18,155,12],[159,19,155,13,"server"],[159,25,155,19],[159,29,155,23],[159,30,155,24],[159,34,155,28],[159,35,155,29,"isRunning"],[159,44,155,38],[159,46,155,40],[160,12,156,6],[160,16,156,10],[161,14,157,8],[161,18,157,12],[161,19,157,13,"server"],[161,25,157,19],[161,26,157,20,"close"],[161,31,157,25],[161,32,157,26],[161,33,157,27],[162,14,158,8,"logger"],[162,20,158,14],[162,21,158,15,"debug"],[162,26,158,20],[162,27,158,21],[162,71,158,65],[162,72,158,66],[163,12,159,6],[163,13,159,7],[163,14,159,8],[163,21,159,15,"error"],[163,26,159,20],[163,28,159,22],[164,14,160,8,"logger"],[164,20,160,14],[164,21,160,15,"info"],[164,25,160,19],[164,26,160,20],[164,69,160,63],[164,71,160,65,"error"],[164,76,160,70],[164,77,160,71],[165,12,161,6],[166,12,162,6],[166,16,162,10],[166,17,162,11,"server"],[166,23,162,17],[166,26,162,20],[166,30,162,24],[167,10,163,4],[168,10,165,4],[168,14,165,10,"netState"],[168,22,165,18],[168,31,165,27,"NetInfo"],[168,47,165,34],[168,48,165,35,"fetch"],[168,53,165,40],[168,54,165,41],[168,55,165,42],[169,10,166,4],[169,14,166,8,"ipAddress"],[169,23,166,32],[169,26,166,35],[169,30,166,39],[170,10,168,4],[170,14,168,8,"netState"],[170,22,168,16],[170,23,168,17,"type"],[170,27,168,21],[170,32,168,26],[170,38,168,32],[170,42,168,36,"netState"],[170,50,168,44],[170,51,168,45,"type"],[170,55,168,49],[170,60,168,54],[170,70,168,64],[170,72,168,66],[171,12,169,6,"ipAddress"],[171,21,169,15],[171,24,169,19,"netState"],[171,32,169,27],[171,33,169,28,"details"],[171,40,169,35],[171,42,169,45,"ipAddress"],[171,51,169,54],[171,55,169,58],[171,59,169,62],[172,10,170,4],[173,10,172,4],[173,14,172,8],[173,15,172,9,"ipAddress"],[173,24,172,18],[173,26,172,20],[174,12,173,6],[174,18,173,12],[174,22,173,16,"Error"],[174,27,173,21],[174,28,173,22],[174,57,173,51],[174,58,173,52],[175,10,174,4],[176,10,176,4],[176,14,176,8],[176,18,176,12],[176,19,176,13,"isRunning"],[176,28,176,22],[176,30,176,24],[177,12,177,6,"logger"],[177,18,177,12],[177,19,177,13,"debug"],[177,24,177,18],[177,25,177,19],[177,69,177,63],[177,70,177,64],[178,12,178,6],[178,19,178,13],[178,29,178,23,"ipAddress"],[178,38,178,32],[178,42,178,36,"PORT"],[178,46,178,40],[178,48,178,42],[179,10,179,4],[181,10,181,4],[182,10,182,4],[182,14,182,8,"Platform"],[182,35,182,16],[182,36,182,17,"OS"],[182,38,182,19],[182,43,182,24],[182,48,182,29],[182,50,182,31],[183,12,183,6,"logger"],[183,18,183,12],[183,19,183,13,"error"],[183,24,183,18],[183,25,183,19],[183,83,183,77],[183,84,183,78],[184,12,184,6],[184,18,184,12],[184,22,184,16,"Error"],[184,27,184,21],[184,28,184,22],[184,44,184,38],[184,45,184,39],[185,10,185,4],[186,10,187,4],[186,17,187,11],[186,21,187,15,"Promise"],[186,28,187,22],[186,29,187,23],[186,39,187,24,"resolve"],[186,46,187,31],[186,48,187,33,"reject"],[186,54,187,39],[186,56,187,44],[187,12,188,6],[187,16,188,10],[188,14,189,8],[189,14,190,8],[189,18,190,12],[189,19,190,13,"TcpSocket"],[189,28,190,22],[189,32,190,26],[189,39,190,33,"TcpSocket"],[189,48,190,42],[189,49,190,43,"createServer"],[189,61,190,55],[189,66,190,60],[189,76,190,70],[189,78,190,72],[190,16,191,10,"logger"],[190,22,191,16],[190,23,191,17,"error"],[190,28,191,22],[190,29,191,23],[190,97,191,91],[190,98,191,92],[191,16,192,10,"reject"],[191,22,192,16],[191,23,192,17],[191,27,192,21,"Error"],[191,32,192,26],[191,33,192,27],[191,46,192,40],[191,47,192,41],[191,48,192,42],[192,16,193,10],[193,14,194,8],[195,14,196,8],[196,14,197,8],[196,18,197,12,"_this2"],[196,24,197,16],[196,25,197,17,"server"],[196,31,197,23],[196,33,197,25],[197,16,198,10],[197,20,198,14],[198,18,199,12,"_this2"],[198,24,199,16],[198,25,199,17,"server"],[198,31,199,23],[198,32,199,24,"close"],[198,37,199,29],[198,38,199,30],[198,39,199,31],[199,16,200,10],[199,17,200,11],[199,18,200,12],[199,25,200,19,"error"],[199,30,200,24],[199,32,200,26],[200,18,201,12,"logger"],[200,24,201,18],[200,25,201,19,"info"],[200,29,201,23],[200,30,201,24],[200,78,201,72],[200,80,201,74,"error"],[200,85,201,79],[200,86,201,80],[201,16,202,10],[202,16,203,10,"_this2"],[202,22,203,14],[202,23,203,15,"server"],[202,29,203,21],[202,32,203,24],[202,36,203,28],[203,14,204,8],[205,14,206,8],[206,14,207,8,"_this2"],[206,20,207,12],[206,21,207,13,"server"],[206,27,207,19],[206,30,207,22,"TcpSocket"],[206,39,207,31],[206,40,207,32,"createServer"],[206,52,207,44],[206,53,207,45],[206,63,207,46,"socket"],[206,69,207,57],[206,71,207,62],[207,16,208,10,"_this2"],[207,22,208,14],[207,23,208,15,"handleConnection"],[207,39,208,31],[207,40,208,32,"socket"],[207,46,208,38],[207,47,208,39],[208,14,209,8],[208,15,209,9],[208,16,209,10],[210,14,211,8],[211,14,212,8],[211,18,212,12],[211,19,212,13,"_this2"],[211,25,212,17],[211,26,212,18,"server"],[211,32,212,24],[211,34,212,26],[212,16,213,10,"logger"],[212,22,213,16],[212,23,213,17,"error"],[212,28,213,22],[212,29,213,23],[212,70,213,64],[212,71,213,65],[213,16,214,10,"reject"],[213,22,214,16],[213,23,214,17],[213,27,214,21,"Error"],[213,32,214,26],[213,33,214,27],[213,44,214,38],[213,45,214,39],[213,46,214,40],[214,16,215,10],[215,14,216,8],[217,14,218,8],[218,14,219,8],[218,18,219,12],[218,19,219,13,"_this2"],[218,25,219,17],[218,26,219,18,"server"],[218,32,219,24],[218,33,219,25,"listen"],[218,39,219,31],[218,43,219,35],[218,50,219,42,"_this2"],[218,56,219,46],[218,57,219,47,"server"],[218,63,219,53],[218,64,219,54,"listen"],[218,70,219,60],[218,75,219,65],[218,85,219,75],[218,87,219,77],[219,16,220,10,"logger"],[219,22,220,16],[219,23,220,17,"error"],[219,28,220,22],[219,29,220,23],[219,102,220,96],[219,103,220,97],[220,16,221,10,"reject"],[220,22,221,16],[220,23,221,17],[220,27,221,21,"Error"],[220,32,221,26],[220,33,221,27],[220,45,221,39],[220,46,221,40],[220,47,221,41],[221,16,222,10],[222,14,223,8],[223,14,225,8,"_this2"],[223,20,225,12],[223,21,225,13,"server"],[223,27,225,19],[223,28,225,20,"listen"],[223,34,225,26],[223,35,225,27],[224,16,225,29,"port"],[224,20,225,33],[224,22,225,35,"PORT"],[224,26,225,39],[225,16,225,41,"host"],[225,20,225,45],[225,22,225,47],[226,14,225,57],[226,15,225,58],[226,17,225,60],[226,29,225,66],[227,16,226,10,"logger"],[227,22,226,16],[227,23,226,17,"debug"],[227,28,226,22],[227,29,226,23],[227,68,226,62,"ipAddress"],[227,77,226,71],[227,81,226,75,"PORT"],[227,85,226,79],[227,87,226,81],[227,88,226,82],[228,16,227,10,"_this2"],[228,22,227,14],[228,23,227,15,"isRunning"],[228,32,227,24],[228,35,227,27],[228,39,227,31],[229,16,228,10,"resolve"],[229,23,228,17],[229,24,228,18],[229,34,228,28,"ipAddress"],[229,43,228,37],[229,47,228,41,"PORT"],[229,51,228,45],[229,53,228,47],[229,54,228,48],[230,14,229,8],[230,15,229,9],[230,16,229,10],[231,14,231,8,"_this2"],[231,20,231,12],[231,21,231,13,"server"],[231,27,231,19],[231,28,231,20,"on"],[231,30,231,22],[231,31,231,23],[231,38,231,30],[231,40,231,32],[231,50,231,33,"error"],[231,55,231,45],[231,57,231,50],[232,16,232,10,"logger"],[232,22,232,16],[232,23,232,17,"info"],[232,27,232,21],[232,28,232,22],[232,59,232,53],[232,61,232,55,"error"],[232,66,232,60],[232,67,232,61],[233,16,233,10,"_this2"],[233,22,233,14],[233,23,233,15,"isRunning"],[233,32,233,24],[233,35,233,27],[233,40,233,32],[234,16,234,10],[235,16,235,10],[235,20,235,14,"error"],[235,25,235,19],[235,26,235,20,"message"],[235,33,235,27],[235,37,235,31,"error"],[235,42,235,36],[235,43,235,37,"message"],[235,50,235,44],[235,51,235,45,"includes"],[235,59,235,53],[235,60,235,54],[235,72,235,66],[235,73,235,67],[235,75,235,69],[236,18,236,12,"reject"],[236,24,236,18],[236,25,236,19],[236,29,236,23,"Error"],[236,34,236,28],[236,35,236,29],[236,55,236,49],[236,56,236,50],[236,57,236,51],[237,16,237,10],[237,17,237,11],[237,23,237,17],[238,18,238,12,"reject"],[238,24,238,18],[238,25,238,19,"error"],[238,30,238,24],[238,31,238,25],[239,16,239,10],[240,14,240,8],[240,15,240,9],[240,16,240,10],[241,12,242,6],[241,13,242,7],[241,14,242,8],[241,21,242,15,"error"],[241,26,242,20],[241,28,242,22],[242,14,243,8,"logger"],[242,20,243,14],[242,21,243,15,"info"],[242,25,243,19],[242,26,243,20],[242,67,243,61],[242,69,243,63,"error"],[242,74,243,68],[242,75,243,69],[243,14,244,8,"reject"],[243,20,244,14],[243,21,244,15,"error"],[243,26,244,20],[243,27,244,21],[244,12,245,6],[245,10,246,4],[245,11,246,5],[245,12,246,6],[246,8,247,2],[246,9,247,3],[247,8,247,3],[247,17,153,15,"start"],[247,22,153,20,"start"],[247,23,153,20],[248,10,153,20],[248,17,153,20,"_start"],[248,23,153,20],[248,24,153,20,"apply"],[248,29,153,20],[248,36,153,20,"arguments"],[248,45,153,20],[249,8,153,20],[250,8,153,20],[250,15,153,15,"start"],[250,20,153,20],[251,6,153,20],[252,4,153,20],[253,6,153,20,"key"],[253,9,153,20],[254,6,153,20,"value"],[254,11,153,20],[254,13,249,2],[254,22,249,9,"stop"],[254,26,249,13,"stop"],[254,27,249,13],[254,29,249,16],[255,8,250,4],[255,12,250,8],[256,10,251,6],[256,14,251,10],[256,18,251,14],[256,19,251,15,"server"],[256,25,251,21],[256,27,251,23],[257,12,252,8],[257,16,252,12],[257,17,252,13,"server"],[257,23,252,19],[257,24,252,20,"close"],[257,29,252,25],[257,30,252,26],[257,31,252,27],[258,12,253,8,"logger"],[258,18,253,14],[258,19,253,15,"debug"],[258,24,253,20],[258,25,253,21],[258,57,253,53],[258,58,253,54],[259,10,254,6],[260,8,255,4],[260,9,255,5],[260,10,255,6],[260,17,255,13,"error"],[260,22,255,18],[260,24,255,20],[261,10,256,6,"logger"],[261,16,256,12],[261,17,256,13,"info"],[261,21,256,17],[261,22,256,18],[261,62,256,58],[261,64,256,60,"error"],[261,69,256,65],[261,70,256,66],[262,8,257,4],[262,9,257,5],[262,18,257,14],[263,10,258,6],[263,14,258,10],[263,15,258,11,"isRunning"],[263,24,258,20],[263,27,258,23],[263,32,258,28],[264,10,259,6],[264,14,259,10],[264,15,259,11,"server"],[264,21,259,17],[264,24,259,20],[264,28,259,24],[265,8,260,4],[266,6,261,2],[267,4,261,3],[268,6,261,3,"key"],[268,9,261,3],[269,6,261,3,"value"],[269,11,261,3],[269,13,263,2],[269,22,263,9,"getIsRunning"],[269,34,263,21,"getIsRunning"],[269,35,263,21],[269,37,263,33],[270,8,264,4],[270,15,264,11],[270,19,264,15],[270,20,264,16,"isRunning"],[270,29,264,25],[271,6,265,2],[272,4,265,3],[273,2,265,3],[274,2,265,3],[274,6,265,3,"_default"],[274,14,265,3],[274,17,265,3,"exports"],[274,24,265,3],[274,25,265,3,"default"],[274,32,265,3],[274,35,268,15,"TCPHttpServer"],[274,48,268,28],[275,0,268,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#handleConnection","socket.on$argument_1","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;AC0B;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;sBCK;KDiC;uBCE;KDE;uBCE;KDE;GJC;EME;GNE;EOE;uBCkC;6CCoB;SDE;4DEgB;SFI;gCGE;SHS;KDM;GPC;EYE;GZY;EaE;GbE;CDC"}},"type":"js/module"}]}