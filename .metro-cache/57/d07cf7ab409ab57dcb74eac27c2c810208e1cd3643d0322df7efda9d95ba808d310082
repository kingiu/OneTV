{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":315,"column":29,"index":9543}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":315,"column":29,"index":9543}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":315,"column":29,"index":9543}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":315,"column":29,"index":9543}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":315,"column":29,"index":9543}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"react-native","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":39,"column":0,"index":1296},"end":{"line":39,"column":54,"index":1350}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":40,"column":0,"index":1351},"end":{"line":40,"column":36,"index":1387}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":38,"column":35,"index":1260},"end":{"line":38,"column":69,"index":1294}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[6], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[7], \"@/utils/Logger\"));\n  // 为Buffer添加类型声明\n\n  // 为TcpSocket创建完整的类型声明\n\n  // 导入并断言类型\n  var TcpSocket = require(_dependencyMap[8], \"react-native-tcp-socket\");\n  var logger = _Logger.default.withTag('TCPHttpServer');\n  var PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n  var TCPHttpServer = /*#__PURE__*/function () {\n    function TCPHttpServer() {\n      (0, _classCallCheck2.default)(this, TCPHttpServer);\n      this.server = null;\n      this.isRunning = false;\n      this.requestHandler = null;\n      this.server = null;\n    }\n    return (0, _createClass2.default)(TCPHttpServer, [{\n      key: \"parseHttpRequest\",\n      value: function parseHttpRequest(data) {\n        try {\n          var lines = data.split('\\r\\n');\n          var requestLine = lines[0].split(' ');\n          if (requestLine.length < 3) {\n            return null;\n          }\n          var method = requestLine[0];\n          var url = requestLine[1];\n          var headers = {};\n          var bodyStartIndex = -1;\n          for (var i = 1; i < lines.length; i++) {\n            var line = lines[i];\n            if (line === '') {\n              bodyStartIndex = i + 1;\n              break;\n            }\n            var colonIndex = line.indexOf(':');\n            if (colonIndex > 0) {\n              var key = line.substring(0, colonIndex).trim().toLowerCase();\n              var value = line.substring(colonIndex + 1).trim();\n              headers[key] = value;\n            }\n          }\n          var body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n          return {\n            method,\n            url,\n            headers,\n            body\n          };\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n          return null;\n        }\n      }\n    }, {\n      key: \"formatHttpResponse\",\n      value: function formatHttpResponse(response) {\n        var statusTexts = {\n          200: 'OK',\n          400: 'Bad Request',\n          404: 'Not Found',\n          500: 'Internal Server Error'\n        };\n        var statusText = statusTexts[response.statusCode] || 'Unknown';\n        var headers = {\n          'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n          'Connection': 'close',\n          ...response.headers\n        };\n        var httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n        for (var _ref of Object.entries(headers)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n          var key = _ref2[0];\n          var value = _ref2[1];\n          httpResponse += `${key}: ${value}\\r\\n`;\n        }\n        httpResponse += '\\r\\n';\n        httpResponse += response.body;\n        return httpResponse;\n      }\n    }, {\n      key: \"setRequestHandler\",\n      value: function setRequestHandler(handler) {\n        this.requestHandler = handler;\n      }\n    }, {\n      key: \"start\",\n      value: function () {\n        var _start = (0, _asyncToGenerator2.default)(function* () {\n          var _this = this;\n          // 确保之前的服务器实例已关闭\n          if (this.server && !this.isRunning) {\n            try {\n              this.server.close();\n              logger.debug('[TCPHttpServer] Old server instance closed');\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing old server:', error);\n            }\n            this.server = null;\n          }\n          var netState = yield _netinfo.default.fetch();\n          var ipAddress = null;\n          if (netState.type === 'wifi' || netState.type === 'ethernet') {\n            ipAddress = netState.details?.ipAddress ?? null;\n          }\n          if (!ipAddress) {\n            throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n          }\n          if (this.isRunning) {\n            logger.debug('[TCPHttpServer] Server is already running.');\n            return `http://${ipAddress}:${PORT}`;\n          }\n\n          // Web平台不支持TCP服务器\n          if (_reactNative.Platform.OS === 'web') {\n            logger.error('[TCPHttpServer] TCP server not supported on web platform');\n            throw new Error('Web平台不支持TCP服务器');\n          }\n          return new Promise(function (resolve, reject) {\n            try {\n              // 检查TcpSocket是否可用\n              if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n                logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n                reject(new Error('TCP服务器初始化失败'));\n                return;\n              }\n\n              // 确保在创建新服务器前，server为null\n              if (_this.server) {\n                try {\n                  _this.server.close();\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error closing previous server:', error);\n                }\n                _this.server = null;\n              }\n\n              // 创建服务器实例\n              _this.server = TcpSocket.createServer(function (socket) {\n                logger.debug('[TCPHttpServer] Client connected');\n                var requestData = '';\n                socket.on('data', /*#__PURE__*/function () {\n                  var _ref3 = (0, _asyncToGenerator2.default)(function* (data) {\n                    requestData += data.toString();\n\n                    // Check if we have a complete HTTP request\n                    if (requestData.includes('\\r\\n\\r\\n')) {\n                      try {\n                        var _request = _this.parseHttpRequest(requestData);\n                        if (_request && _this.requestHandler) {\n                          var response = yield _this.requestHandler(_request);\n                          var httpResponse = _this.formatHttpResponse(response);\n                          socket.write(httpResponse);\n                        } else {\n                          // Send 400 Bad Request for malformed requests\n                          var errorResponse = _this.formatHttpResponse({\n                            statusCode: 400,\n                            headers: {\n                              'Content-Type': 'text/plain'\n                            },\n                            body: 'Bad Request'\n                          });\n                          socket.write(errorResponse);\n                        }\n                      } catch (error) {\n                        logger.info('[TCPHttpServer] Error handling request:', error);\n                        var _errorResponse = _this.formatHttpResponse({\n                          statusCode: 500,\n                          headers: {\n                            'Content-Type': 'text/plain'\n                          },\n                          body: 'Internal Server Error'\n                        });\n                        socket.write(_errorResponse);\n                      }\n                      socket.end();\n                      requestData = '';\n                    }\n                  });\n                  return function (_x) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n                socket.on('error', function (error) {\n                  logger.info('[TCPHttpServer] Socket error:', error);\n                });\n                socket.on('close', function () {\n                  logger.debug('[TCPHttpServer] Client disconnected');\n                });\n              });\n\n              // 确保server不为null再调用listen\n              if (!_this.server) {\n                logger.error('[TCPHttpServer] Server instance is null');\n                reject(new Error('服务器实例创建失败'));\n                return;\n              }\n\n              // 添加错误处理，确保listen方法存在并且是函数\n              if (!_this.server.listen || typeof _this.server.listen !== 'function') {\n                logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n                reject(new Error('服务器监听方法不可用'));\n                return;\n              }\n              _this.server.listen({\n                port: PORT,\n                host: '0.0.0.0'\n              }, function () {\n                logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n                _this.isRunning = true;\n                resolve(`http://${ipAddress}:${PORT}`);\n              });\n              _this.server.on('error', function (error) {\n                logger.info('[TCPHttpServer] Server error:', error);\n                _this.isRunning = false;\n                // 针对端口占用的错误提供更友好的消息\n                if (error.message && error.message.includes('EADDRINUSE')) {\n                  reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n                } else {\n                  reject(error);\n                }\n              });\n            } catch (error) {\n              logger.info('[TCPHttpServer] Failed to start server:', error);\n              reject(error);\n            }\n          });\n        });\n        function start() {\n          return _start.apply(this, arguments);\n        }\n        return start;\n      }()\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        try {\n          if (this.server) {\n            this.server.close();\n            logger.debug('[TCPHttpServer] Server stopped');\n          }\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error stopping server:', error);\n        } finally {\n          this.isRunning = false;\n          this.server = null;\n        }\n      }\n    }, {\n      key: \"getIsRunning\",\n      value: function getIsRunning() {\n        return this.isRunning;\n      }\n    }]);\n  }();\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":274,"map":[[11,2,1,0],[11,6,1,0,"_reactNative"],[11,18,1,0],[11,21,1,0,"require"],[11,28,1,0],[11,29,1,0,"_dependencyMap"],[11,43,1,0],[12,2,39,0],[12,6,39,0,"_netinfo"],[12,14,39,0],[12,17,39,0,"_interopRequireDefault"],[12,39,39,0],[12,40,39,0,"require"],[12,47,39,0],[12,48,39,0,"_dependencyMap"],[12,62,39,0],[13,2,40,0],[13,6,40,0,"_Logger"],[13,13,40,0],[13,16,40,0,"_interopRequireDefault"],[13,38,40,0],[13,39,40,0,"require"],[13,46,40,0],[13,47,40,0,"_dependencyMap"],[13,61,40,0],[14,2,2,0],[16,2,14,0],[18,2,37,0],[19,2,38,0],[19,6,38,6,"TcpSocket"],[19,15,38,32],[19,18,38,35,"require"],[19,25,38,42],[19,26,38,42,"_dependencyMap"],[19,40,38,42],[19,70,38,68],[19,71,38,69],[20,2,42,0],[20,6,42,6,"logger"],[20,12,42,12],[20,15,42,15,"Logger"],[20,30,42,21],[20,31,42,22,"withTag"],[20,38,42,29],[20,39,42,30],[20,54,42,45],[20,55,42,46],[21,2,44,0],[21,6,44,6,"PORT"],[21,10,44,10],[21,13,44,13],[21,18,44,18],[23,2,46,0],[25,2,53,0],[26,2,53,0],[26,6,78,6,"TCPHttpServer"],[26,19,78,19],[27,4,83,2],[27,13,83,2,"TCPHttpServer"],[27,27,83,2],[27,29,83,16],[28,6,83,16],[28,10,83,16,"_classCallCheck2"],[28,26,83,16],[28,27,83,16,"default"],[28,34,83,16],[28,42,83,16,"TCPHttpServer"],[28,55,83,16],[29,6,83,16],[29,11,79,10,"server"],[29,17,79,16],[29,20,79,45],[29,24,79,49],[30,6,79,49],[30,11,80,10,"isRunning"],[30,20,80,19],[30,23,80,22],[30,28,80,27],[31,6,80,27],[31,11,81,10,"requestHandler"],[31,25,81,24],[31,28,81,50],[31,32,81,54],[32,6,84,4],[32,10,84,8],[32,11,84,9,"server"],[32,17,84,15],[32,20,84,18],[32,24,84,22],[33,4,85,2],[34,4,85,3],[34,15,85,3,"_createClass2"],[34,28,85,3],[34,29,85,3,"default"],[34,36,85,3],[34,38,85,3,"TCPHttpServer"],[34,51,85,3],[35,6,85,3,"key"],[35,9,85,3],[36,6,85,3,"value"],[36,11,85,3],[36,13,87,2],[36,22,87,10,"parseHttpRequest"],[36,38,87,26,"parseHttpRequest"],[36,39,87,27,"data"],[36,43,87,39],[36,45,87,61],[37,8,88,4],[37,12,88,8],[38,10,89,6],[38,14,89,12,"lines"],[38,19,89,17],[38,22,89,20,"data"],[38,26,89,24],[38,27,89,25,"split"],[38,32,89,30],[38,33,89,31],[38,39,89,37],[38,40,89,38],[39,10,90,6],[39,14,90,12,"requestLine"],[39,25,90,23],[39,28,90,26,"lines"],[39,33,90,31],[39,34,90,32],[39,35,90,33],[39,36,90,34],[39,37,90,35,"split"],[39,42,90,40],[39,43,90,41],[39,46,90,44],[39,47,90,45],[40,10,92,6],[40,14,92,10,"requestLine"],[40,25,92,21],[40,26,92,22,"length"],[40,32,92,28],[40,35,92,31],[40,36,92,32],[40,38,92,34],[41,12,93,8],[41,19,93,15],[41,23,93,19],[42,10,94,6],[43,10,96,6],[43,14,96,12,"method"],[43,20,96,18],[43,23,96,21,"requestLine"],[43,34,96,32],[43,35,96,33],[43,36,96,34],[43,37,96,35],[44,10,97,6],[44,14,97,12,"url"],[44,17,97,15],[44,20,97,18,"requestLine"],[44,31,97,29],[44,32,97,30],[44,33,97,31],[44,34,97,32],[45,10,98,6],[45,14,98,12,"headers"],[45,21,98,46],[45,24,98,49],[45,25,98,50],[45,26,98,51],[46,10,100,6],[46,14,100,10,"bodyStartIndex"],[46,28,100,24],[46,31,100,27],[46,32,100,28],[46,33,100,29],[47,10,101,6],[47,15,101,11],[47,19,101,15,"i"],[47,20,101,16],[47,23,101,19],[47,24,101,20],[47,26,101,22,"i"],[47,27,101,23],[47,30,101,26,"lines"],[47,35,101,31],[47,36,101,32,"length"],[47,42,101,38],[47,44,101,40,"i"],[47,45,101,41],[47,47,101,43],[47,49,101,45],[48,12,102,8],[48,16,102,14,"line"],[48,20,102,18],[48,23,102,21,"lines"],[48,28,102,26],[48,29,102,27,"i"],[48,30,102,28],[48,31,102,29],[49,12,103,8],[49,16,103,12,"line"],[49,20,103,16],[49,25,103,21],[49,27,103,23],[49,29,103,25],[50,14,104,10,"bodyStartIndex"],[50,28,104,24],[50,31,104,27,"i"],[50,32,104,28],[50,35,104,31],[50,36,104,32],[51,14,105,10],[52,12,106,8],[53,12,107,8],[53,16,107,14,"colonIndex"],[53,26,107,24],[53,29,107,27,"line"],[53,33,107,31],[53,34,107,32,"indexOf"],[53,41,107,39],[53,42,107,40],[53,45,107,43],[53,46,107,44],[54,12,108,8],[54,16,108,12,"colonIndex"],[54,26,108,22],[54,29,108,25],[54,30,108,26],[54,32,108,28],[55,14,109,10],[55,18,109,16,"key"],[55,21,109,19],[55,24,109,22,"line"],[55,28,109,26],[55,29,109,27,"substring"],[55,38,109,36],[55,39,109,37],[55,40,109,38],[55,42,109,40,"colonIndex"],[55,52,109,50],[55,53,109,51],[55,54,109,52,"trim"],[55,58,109,56],[55,59,109,57],[55,60,109,58],[55,61,109,59,"toLowerCase"],[55,72,109,70],[55,73,109,71],[55,74,109,72],[56,14,110,10],[56,18,110,16,"value"],[56,23,110,21],[56,26,110,24,"line"],[56,30,110,28],[56,31,110,29,"substring"],[56,40,110,38],[56,41,110,39,"colonIndex"],[56,51,110,49],[56,54,110,52],[56,55,110,53],[56,56,110,54],[56,57,110,55,"trim"],[56,61,110,59],[56,62,110,60],[56,63,110,61],[57,14,111,10,"headers"],[57,21,111,17],[57,22,111,18,"key"],[57,25,111,21],[57,26,111,22],[57,29,111,25,"value"],[57,34,111,30],[58,12,112,8],[59,10,113,6],[60,10,115,6],[60,14,115,12,"body"],[60,18,115,16],[60,21,115,19,"bodyStartIndex"],[60,35,115,33],[60,38,115,36],[60,39,115,37],[60,42,115,40,"lines"],[60,47,115,45],[60,48,115,46,"slice"],[60,53,115,51],[60,54,115,52,"bodyStartIndex"],[60,68,115,66],[60,69,115,67],[60,70,115,68,"join"],[60,74,115,72],[60,75,115,73],[60,81,115,79],[60,82,115,80],[60,85,115,83],[60,87,115,85],[61,10,117,6],[61,17,117,13],[62,12,117,15,"method"],[62,18,117,21],[63,12,117,23,"url"],[63,15,117,26],[64,12,117,28,"headers"],[64,19,117,35],[65,12,117,37,"body"],[66,10,117,42],[66,11,117,43],[67,8,118,4],[67,9,118,5],[67,10,118,6],[67,17,118,13,"error"],[67,22,118,18],[67,24,118,20],[68,10,119,6,"logger"],[68,16,119,12],[68,17,119,13,"info"],[68,21,119,17],[68,22,119,18],[68,67,119,63],[68,69,119,65,"error"],[68,74,119,70],[68,75,119,71],[69,10,120,6],[69,17,120,13],[69,21,120,17],[70,8,121,4],[71,6,122,2],[72,4,122,3],[73,6,122,3,"key"],[73,9,122,3],[74,6,122,3,"value"],[74,11,122,3],[74,13,124,2],[74,22,124,10,"formatHttpResponse"],[74,40,124,28,"formatHttpResponse"],[74,41,124,29,"response"],[74,49,124,51],[74,51,124,61],[75,8,125,4],[75,12,125,10,"statusTexts"],[75,23,125,48],[75,26,125,51],[76,10,126,6],[76,13,126,9],[76,15,126,11],[76,19,126,15],[77,10,127,6],[77,13,127,9],[77,15,127,11],[77,28,127,24],[78,10,128,6],[78,13,128,9],[78,15,128,11],[78,26,128,22],[79,10,129,6],[79,13,129,9],[79,15,129,11],[80,8,130,4],[80,9,130,5],[81,8,132,4],[81,12,132,10,"statusText"],[81,22,132,20],[81,25,132,23,"statusTexts"],[81,36,132,34],[81,37,132,35,"response"],[81,45,132,43],[81,46,132,44,"statusCode"],[81,56,132,54],[81,57,132,55],[81,61,132,59],[81,70,132,68],[82,8,133,4],[82,12,133,10,"headers"],[82,19,133,17],[82,22,133,20],[83,10,134,6],[83,26,134,22],[83,28,134,24],[83,32,134,28,"TextEncoder"],[83,43,134,39],[83,44,134,40],[83,45,134,41],[83,46,134,42,"encode"],[83,52,134,48],[83,53,134,49,"response"],[83,61,134,57],[83,62,134,58,"body"],[83,66,134,62],[83,67,134,63],[83,68,134,64,"length"],[83,74,134,70],[83,75,134,71,"toString"],[83,83,134,79],[83,84,134,80],[83,85,134,81],[84,10,135,6],[84,22,135,18],[84,24,135,20],[84,31,135,27],[85,10,136,6],[85,13,136,9,"response"],[85,21,136,17],[85,22,136,18,"headers"],[86,8,137,4],[86,9,137,5],[87,8,139,4],[87,12,139,8,"httpResponse"],[87,24,139,20],[87,27,139,23],[87,39,139,35,"response"],[87,47,139,43],[87,48,139,44,"statusCode"],[87,58,139,54],[87,62,139,58,"statusText"],[87,72,139,68],[87,78,139,74],[88,8,141,4],[88,17,141,4,"_ref"],[88,21,141,4],[88,25,141,31,"Object"],[88,31,141,37],[88,32,141,38,"entries"],[88,39,141,45],[88,40,141,46,"headers"],[88,47,141,53],[88,48,141,54],[88,50,141,56],[89,10,141,56],[89,14,141,56,"_ref2"],[89,19,141,56],[89,26,141,56,"_slicedToArray2"],[89,41,141,56],[89,42,141,56,"default"],[89,49,141,56],[89,51,141,56,"_ref"],[89,55,141,56],[90,10,141,56],[90,14,141,16,"key"],[90,17,141,19],[90,20,141,19,"_ref2"],[90,25,141,19],[91,10,141,19],[91,14,141,21,"value"],[91,19,141,26],[91,22,141,26,"_ref2"],[91,27,141,26],[92,10,142,6,"httpResponse"],[92,22,142,18],[92,26,142,22],[92,29,142,25,"key"],[92,32,142,28],[92,37,142,33,"value"],[92,42,142,38],[92,48,142,44],[93,8,143,4],[94,8,145,4,"httpResponse"],[94,20,145,16],[94,24,145,20],[94,30,145,26],[95,8,146,4,"httpResponse"],[95,20,146,16],[95,24,146,20,"response"],[95,32,146,28],[95,33,146,29,"body"],[95,37,146,33],[96,8,148,4],[96,15,148,11,"httpResponse"],[96,27,148,23],[97,6,149,2],[98,4,149,3],[99,6,149,3,"key"],[99,9,149,3],[100,6,149,3,"value"],[100,11,149,3],[100,13,151,2],[100,22,151,9,"setRequestHandler"],[100,39,151,26,"setRequestHandler"],[100,40,151,27,"handler"],[100,47,151,50],[100,49,151,52],[101,8,152,4],[101,12,152,8],[101,13,152,9,"requestHandler"],[101,27,152,23],[101,30,152,26,"handler"],[101,37,152,33],[102,6,153,2],[103,4,153,3],[104,6,153,3,"key"],[104,9,153,3],[105,6,153,3,"value"],[105,11,153,3],[106,8,153,3],[106,12,153,3,"_start"],[106,18,153,3],[106,25,153,3,"_asyncToGenerator2"],[106,43,153,3],[106,44,153,3,"default"],[106,51,153,3],[106,53,155,2],[106,66,155,40],[107,10,155,40],[107,14,155,40,"_this"],[107,19,155,40],[108,10,156,4],[109,10,157,4],[109,14,157,8],[109,18,157,12],[109,19,157,13,"server"],[109,25,157,19],[109,29,157,23],[109,30,157,24],[109,34,157,28],[109,35,157,29,"isRunning"],[109,44,157,38],[109,46,157,40],[110,12,158,6],[110,16,158,10],[111,14,159,8],[111,18,159,12],[111,19,159,13,"server"],[111,25,159,19],[111,26,159,20,"close"],[111,31,159,25],[111,32,159,26],[111,33,159,27],[112,14,160,8,"logger"],[112,20,160,14],[112,21,160,15,"debug"],[112,26,160,20],[112,27,160,21],[112,71,160,65],[112,72,160,66],[113,12,161,6],[113,13,161,7],[113,14,161,8],[113,21,161,15,"error"],[113,26,161,20],[113,28,161,22],[114,14,162,8,"logger"],[114,20,162,14],[114,21,162,15,"info"],[114,25,162,19],[114,26,162,20],[114,69,162,63],[114,71,162,65,"error"],[114,76,162,70],[114,77,162,71],[115,12,163,6],[116,12,164,6],[116,16,164,10],[116,17,164,11,"server"],[116,23,164,17],[116,26,164,20],[116,30,164,24],[117,10,165,4],[118,10,167,4],[118,14,167,10,"netState"],[118,22,167,18],[118,31,167,27,"NetInfo"],[118,47,167,34],[118,48,167,35,"fetch"],[118,53,167,40],[118,54,167,41],[118,55,167,42],[119,10,168,4],[119,14,168,8,"ipAddress"],[119,23,168,32],[119,26,168,35],[119,30,168,39],[120,10,170,4],[120,14,170,8,"netState"],[120,22,170,16],[120,23,170,17,"type"],[120,27,170,21],[120,32,170,26],[120,38,170,32],[120,42,170,36,"netState"],[120,50,170,44],[120,51,170,45,"type"],[120,55,170,49],[120,60,170,54],[120,70,170,64],[120,72,170,66],[121,12,171,6,"ipAddress"],[121,21,171,15],[121,24,171,19,"netState"],[121,32,171,27],[121,33,171,28,"details"],[121,40,171,35],[121,42,171,45,"ipAddress"],[121,51,171,54],[121,55,171,58],[121,59,171,62],[122,10,172,4],[123,10,174,4],[123,14,174,8],[123,15,174,9,"ipAddress"],[123,24,174,18],[123,26,174,20],[124,12,175,6],[124,18,175,12],[124,22,175,16,"Error"],[124,27,175,21],[124,28,175,22],[124,57,175,51],[124,58,175,52],[125,10,176,4],[126,10,178,4],[126,14,178,8],[126,18,178,12],[126,19,178,13,"isRunning"],[126,28,178,22],[126,30,178,24],[127,12,179,6,"logger"],[127,18,179,12],[127,19,179,13,"debug"],[127,24,179,18],[127,25,179,19],[127,69,179,63],[127,70,179,64],[128,12,180,6],[128,19,180,13],[128,29,180,23,"ipAddress"],[128,38,180,32],[128,42,180,36,"PORT"],[128,46,180,40],[128,48,180,42],[129,10,181,4],[131,10,183,4],[132,10,184,4],[132,14,184,8,"Platform"],[132,35,184,16],[132,36,184,17,"OS"],[132,38,184,19],[132,43,184,24],[132,48,184,29],[132,50,184,31],[133,12,185,6,"logger"],[133,18,185,12],[133,19,185,13,"error"],[133,24,185,18],[133,25,185,19],[133,83,185,77],[133,84,185,78],[134,12,186,6],[134,18,186,12],[134,22,186,16,"Error"],[134,27,186,21],[134,28,186,22],[134,44,186,38],[134,45,186,39],[135,10,187,4],[136,10,189,4],[136,17,189,11],[136,21,189,15,"Promise"],[136,28,189,22],[136,29,189,23],[136,39,189,24,"resolve"],[136,46,189,31],[136,48,189,33,"reject"],[136,54,189,39],[136,56,189,44],[137,12,190,6],[137,16,190,10],[138,14,191,8],[139,14,192,8],[139,18,192,12],[139,19,192,13,"TcpSocket"],[139,28,192,22],[139,32,192,26],[139,39,192,33,"TcpSocket"],[139,48,192,42],[139,49,192,43,"createServer"],[139,61,192,55],[139,66,192,60],[139,76,192,70],[139,78,192,72],[140,16,193,10,"logger"],[140,22,193,16],[140,23,193,17,"error"],[140,28,193,22],[140,29,193,23],[140,97,193,91],[140,98,193,92],[141,16,194,10,"reject"],[141,22,194,16],[141,23,194,17],[141,27,194,21,"Error"],[141,32,194,26],[141,33,194,27],[141,46,194,40],[141,47,194,41],[141,48,194,42],[142,16,195,10],[143,14,196,8],[145,14,198,8],[146,14,199,8],[146,18,199,12,"_this"],[146,23,199,16],[146,24,199,17,"server"],[146,30,199,23],[146,32,199,25],[147,16,200,10],[147,20,200,14],[148,18,201,12,"_this"],[148,23,201,16],[148,24,201,17,"server"],[148,30,201,23],[148,31,201,24,"close"],[148,36,201,29],[148,37,201,30],[148,38,201,31],[149,16,202,10],[149,17,202,11],[149,18,202,12],[149,25,202,19,"error"],[149,30,202,24],[149,32,202,26],[150,18,203,12,"logger"],[150,24,203,18],[150,25,203,19,"info"],[150,29,203,23],[150,30,203,24],[150,78,203,72],[150,80,203,74,"error"],[150,85,203,79],[150,86,203,80],[151,16,204,10],[152,16,205,10,"_this"],[152,21,205,14],[152,22,205,15,"server"],[152,28,205,21],[152,31,205,24],[152,35,205,28],[153,14,206,8],[155,14,208,8],[156,14,209,8,"_this"],[156,19,209,12],[156,20,209,13,"server"],[156,26,209,19],[156,29,209,22,"TcpSocket"],[156,38,209,31],[156,39,209,32,"createServer"],[156,51,209,44],[156,52,209,45],[156,62,209,46,"socket"],[156,68,209,71],[156,70,209,76],[157,16,210,10,"logger"],[157,22,210,16],[157,23,210,17,"debug"],[157,28,210,22],[157,29,210,23],[157,63,210,57],[157,64,210,58],[158,16,212,10],[158,20,212,14,"requestData"],[158,31,212,25],[158,34,212,28],[158,36,212,30],[159,16,214,10,"socket"],[159,22,214,16],[159,23,214,17,"on"],[159,25,214,19],[159,26,214,20],[159,32,214,26],[160,18,214,26],[160,22,214,26,"_ref3"],[160,27,214,26],[160,34,214,26,"_asyncToGenerator2"],[160,52,214,26],[160,53,214,26,"default"],[160,60,214,26],[160,62,214,28],[160,73,214,35,"data"],[160,77,214,56],[160,79,214,61],[161,20,215,12,"requestData"],[161,31,215,23],[161,35,215,27,"data"],[161,39,215,31],[161,40,215,32,"toString"],[161,48,215,40],[161,49,215,41],[161,50,215,42],[163,20,217,12],[164,20,218,12],[164,24,218,16,"requestData"],[164,35,218,27],[164,36,218,28,"includes"],[164,44,218,36],[164,45,218,37],[164,55,218,47],[164,56,218,48],[164,58,218,50],[165,22,219,14],[165,26,219,18],[166,24,220,16],[166,28,220,22,"request"],[166,36,220,29],[166,39,220,32,"_this"],[166,44,220,36],[166,45,220,37,"parseHttpRequest"],[166,61,220,53],[166,62,220,54,"requestData"],[166,73,220,65],[166,74,220,66],[167,24,221,16],[167,28,221,20,"request"],[167,36,221,27],[167,40,221,31,"_this"],[167,45,221,35],[167,46,221,36,"requestHandler"],[167,60,221,50],[167,62,221,52],[168,26,222,18],[168,30,222,24,"response"],[168,38,222,32],[168,47,222,41,"_this"],[168,52,222,45],[168,53,222,46,"requestHandler"],[168,67,222,60],[168,68,222,61,"request"],[168,76,222,68],[168,77,222,69],[169,26,223,18],[169,30,223,24,"httpResponse"],[169,42,223,36],[169,45,223,39,"_this"],[169,50,223,43],[169,51,223,44,"formatHttpResponse"],[169,69,223,62],[169,70,223,63,"response"],[169,78,223,71],[169,79,223,72],[170,26,224,18,"socket"],[170,32,224,24],[170,33,224,25,"write"],[170,38,224,30],[170,39,224,31,"httpResponse"],[170,51,224,43],[170,52,224,44],[171,24,225,16],[171,25,225,17],[171,31,225,23],[172,26,226,18],[173,26,227,18],[173,30,227,24,"errorResponse"],[173,43,227,37],[173,46,227,40,"_this"],[173,51,227,44],[173,52,227,45,"formatHttpResponse"],[173,70,227,63],[173,71,227,64],[174,28,228,20,"statusCode"],[174,38,228,30],[174,40,228,32],[174,43,228,35],[175,28,229,20,"headers"],[175,35,229,27],[175,37,229,29],[176,30,229,31],[176,44,229,45],[176,46,229,47],[177,28,229,60],[177,29,229,61],[178,28,230,20,"body"],[178,32,230,24],[178,34,230,26],[179,26,231,18],[179,27,231,19],[179,28,231,20],[180,26,232,18,"socket"],[180,32,232,24],[180,33,232,25,"write"],[180,38,232,30],[180,39,232,31,"errorResponse"],[180,52,232,44],[180,53,232,45],[181,24,233,16],[182,22,234,14],[182,23,234,15],[182,24,234,16],[182,31,234,23,"error"],[182,36,234,28],[182,38,234,30],[183,24,235,16,"logger"],[183,30,235,22],[183,31,235,23,"info"],[183,35,235,27],[183,36,235,28],[183,77,235,69],[183,79,235,71,"error"],[183,84,235,76],[183,85,235,77],[184,24,236,16],[184,28,236,22,"errorResponse"],[184,42,236,35],[184,45,236,38,"_this"],[184,50,236,42],[184,51,236,43,"formatHttpResponse"],[184,69,236,61],[184,70,236,62],[185,26,237,18,"statusCode"],[185,36,237,28],[185,38,237,30],[185,41,237,33],[186,26,238,18,"headers"],[186,33,238,25],[186,35,238,27],[187,28,238,29],[187,42,238,43],[187,44,238,45],[188,26,238,58],[188,27,238,59],[189,26,239,18,"body"],[189,30,239,22],[189,32,239,24],[190,24,240,16],[190,25,240,17],[190,26,240,18],[191,24,241,16,"socket"],[191,30,241,22],[191,31,241,23,"write"],[191,36,241,28],[191,37,241,29,"errorResponse"],[191,51,241,42],[191,52,241,43],[192,22,242,14],[193,22,244,14,"socket"],[193,28,244,20],[193,29,244,21,"end"],[193,32,244,24],[193,33,244,25],[193,34,244,26],[194,22,245,14,"requestData"],[194,33,245,25],[194,36,245,28],[194,38,245,30],[195,20,246,12],[196,18,247,10],[196,19,247,11],[197,18,247,11],[197,35,247,11,"_x"],[197,37,247,11],[198,20,247,11],[198,27,247,11,"_ref3"],[198,32,247,11],[198,33,247,11,"apply"],[198,38,247,11],[198,45,247,11,"arguments"],[198,54,247,11],[199,18,247,11],[200,16,247,11],[200,20,247,12],[201,16,249,10,"socket"],[201,22,249,16],[201,23,249,17,"on"],[201,25,249,19],[201,26,249,20],[201,33,249,27],[201,35,249,29],[201,45,249,30,"error"],[201,50,249,42],[201,52,249,47],[202,18,250,12,"logger"],[202,24,250,18],[202,25,250,19,"info"],[202,29,250,23],[202,30,250,24],[202,61,250,55],[202,63,250,57,"error"],[202,68,250,62],[202,69,250,63],[203,16,251,10],[203,17,251,11],[203,18,251,12],[204,16,253,10,"socket"],[204,22,253,16],[204,23,253,17,"on"],[204,25,253,19],[204,26,253,20],[204,33,253,27],[204,35,253,29],[204,47,253,35],[205,18,254,12,"logger"],[205,24,254,18],[205,25,254,19,"debug"],[205,30,254,24],[205,31,254,25],[205,68,254,62],[205,69,254,63],[206,16,255,10],[206,17,255,11],[206,18,255,12],[207,14,256,8],[207,15,256,9],[207,16,256,10],[209,14,258,8],[210,14,259,8],[210,18,259,12],[210,19,259,13,"_this"],[210,24,259,17],[210,25,259,18,"server"],[210,31,259,24],[210,33,259,26],[211,16,260,10,"logger"],[211,22,260,16],[211,23,260,17,"error"],[211,28,260,22],[211,29,260,23],[211,70,260,64],[211,71,260,65],[212,16,261,10,"reject"],[212,22,261,16],[212,23,261,17],[212,27,261,21,"Error"],[212,32,261,26],[212,33,261,27],[212,44,261,38],[212,45,261,39],[212,46,261,40],[213,16,262,10],[214,14,263,8],[216,14,265,8],[217,14,266,8],[217,18,266,12],[217,19,266,13,"_this"],[217,24,266,17],[217,25,266,18,"server"],[217,31,266,24],[217,32,266,25,"listen"],[217,38,266,31],[217,42,266,35],[217,49,266,42,"_this"],[217,54,266,46],[217,55,266,47,"server"],[217,61,266,53],[217,62,266,54,"listen"],[217,68,266,60],[217,73,266,65],[217,83,266,75],[217,85,266,77],[218,16,267,10,"logger"],[218,22,267,16],[218,23,267,17,"error"],[218,28,267,22],[218,29,267,23],[218,102,267,96],[218,103,267,97],[219,16,268,10,"reject"],[219,22,268,16],[219,23,268,17],[219,27,268,21,"Error"],[219,32,268,26],[219,33,268,27],[219,45,268,39],[219,46,268,40],[219,47,268,41],[220,16,269,10],[221,14,270,8],[222,14,272,8,"_this"],[222,19,272,12],[222,20,272,13,"server"],[222,26,272,19],[222,27,272,20,"listen"],[222,33,272,26],[222,34,272,27],[223,16,272,29,"port"],[223,20,272,33],[223,22,272,35,"PORT"],[223,26,272,39],[224,16,272,41,"host"],[224,20,272,45],[224,22,272,47],[225,14,272,57],[225,15,272,58],[225,17,272,60],[225,29,272,66],[226,16,273,10,"logger"],[226,22,273,16],[226,23,273,17,"debug"],[226,28,273,22],[226,29,273,23],[226,68,273,62,"ipAddress"],[226,77,273,71],[226,81,273,75,"PORT"],[226,85,273,79],[226,87,273,81],[226,88,273,82],[227,16,274,10,"_this"],[227,21,274,14],[227,22,274,15,"isRunning"],[227,31,274,24],[227,34,274,27],[227,38,274,31],[228,16,275,10,"resolve"],[228,23,275,17],[228,24,275,18],[228,34,275,28,"ipAddress"],[228,43,275,37],[228,47,275,41,"PORT"],[228,51,275,45],[228,53,275,47],[228,54,275,48],[229,14,276,8],[229,15,276,9],[229,16,276,10],[230,14,278,8,"_this"],[230,19,278,12],[230,20,278,13,"server"],[230,26,278,19],[230,27,278,20,"on"],[230,29,278,22],[230,30,278,23],[230,37,278,30],[230,39,278,32],[230,49,278,33,"error"],[230,54,278,45],[230,56,278,50],[231,16,279,10,"logger"],[231,22,279,16],[231,23,279,17,"info"],[231,27,279,21],[231,28,279,22],[231,59,279,53],[231,61,279,55,"error"],[231,66,279,60],[231,67,279,61],[232,16,280,10,"_this"],[232,21,280,14],[232,22,280,15,"isRunning"],[232,31,280,24],[232,34,280,27],[232,39,280,32],[233,16,281,10],[234,16,282,10],[234,20,282,14,"error"],[234,25,282,19],[234,26,282,20,"message"],[234,33,282,27],[234,37,282,31,"error"],[234,42,282,36],[234,43,282,37,"message"],[234,50,282,44],[234,51,282,45,"includes"],[234,59,282,53],[234,60,282,54],[234,72,282,66],[234,73,282,67],[234,75,282,69],[235,18,283,12,"reject"],[235,24,283,18],[235,25,283,19],[235,29,283,23,"Error"],[235,34,283,28],[235,35,283,29],[235,55,283,49],[235,56,283,50],[235,57,283,51],[236,16,284,10],[236,17,284,11],[236,23,284,17],[237,18,285,12,"reject"],[237,24,285,18],[237,25,285,19,"error"],[237,30,285,24],[237,31,285,25],[238,16,286,10],[239,14,287,8],[239,15,287,9],[239,16,287,10],[240,12,289,6],[240,13,289,7],[240,14,289,8],[240,21,289,15,"error"],[240,26,289,20],[240,28,289,22],[241,14,290,8,"logger"],[241,20,290,14],[241,21,290,15,"info"],[241,25,290,19],[241,26,290,20],[241,67,290,61],[241,69,290,63,"error"],[241,74,290,68],[241,75,290,69],[242,14,291,8,"reject"],[242,20,291,14],[242,21,291,15,"error"],[242,26,291,20],[242,27,291,21],[243,12,292,6],[244,10,293,4],[244,11,293,5],[244,12,293,6],[245,8,294,2],[245,9,294,3],[246,8,294,3],[246,17,155,15,"start"],[246,22,155,20,"start"],[246,23,155,20],[247,10,155,20],[247,17,155,20,"_start"],[247,23,155,20],[247,24,155,20,"apply"],[247,29,155,20],[247,36,155,20,"arguments"],[247,45,155,20],[248,8,155,20],[249,8,155,20],[249,15,155,15,"start"],[249,20,155,20],[250,6,155,20],[251,4,155,20],[252,6,155,20,"key"],[252,9,155,20],[253,6,155,20,"value"],[253,11,155,20],[253,13,296,2],[253,22,296,9,"stop"],[253,26,296,13,"stop"],[253,27,296,13],[253,29,296,16],[254,8,297,4],[254,12,297,8],[255,10,298,6],[255,14,298,10],[255,18,298,14],[255,19,298,15,"server"],[255,25,298,21],[255,27,298,23],[256,12,299,8],[256,16,299,12],[256,17,299,13,"server"],[256,23,299,19],[256,24,299,20,"close"],[256,29,299,25],[256,30,299,26],[256,31,299,27],[257,12,300,8,"logger"],[257,18,300,14],[257,19,300,15,"debug"],[257,24,300,20],[257,25,300,21],[257,57,300,53],[257,58,300,54],[258,10,301,6],[259,8,302,4],[259,9,302,5],[259,10,302,6],[259,17,302,13,"error"],[259,22,302,18],[259,24,302,20],[260,10,303,6,"logger"],[260,16,303,12],[260,17,303,13,"info"],[260,21,303,17],[260,22,303,18],[260,62,303,58],[260,64,303,60,"error"],[260,69,303,65],[260,70,303,66],[261,8,304,4],[261,9,304,5],[261,18,304,14],[262,10,305,6],[262,14,305,10],[262,15,305,11,"isRunning"],[262,24,305,20],[262,27,305,23],[262,32,305,28],[263,10,306,6],[263,14,306,10],[263,15,306,11,"server"],[263,21,306,17],[263,24,306,20],[263,28,306,24],[264,8,307,4],[265,6,308,2],[266,4,308,3],[267,6,308,3,"key"],[267,9,308,3],[268,6,308,3,"value"],[268,11,308,3],[268,13,310,2],[268,22,310,9,"getIsRunning"],[268,34,310,21,"getIsRunning"],[268,35,310,21],[268,37,310,33],[269,8,311,4],[269,15,311,11],[269,19,311,15],[269,20,311,16,"isRunning"],[269,29,311,25],[270,6,312,2],[271,4,312,3],[272,2,312,3],[273,2,312,3],[273,6,312,3,"_default"],[273,14,312,3],[273,17,312,3,"exports"],[273,24,312,3],[273,25,312,3,"default"],[273,32,312,3],[273,35,315,15,"TCPHttpServer"],[273,48,315,28],[274,0,315,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;AC6E;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}