{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":45,"index":2922}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":66,"index":98}}],"key":"y9eQQdj9MvCs7akL60igi3d/dsI="}},{"name":"./NavigationStateContext","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":62,"index":161}}],"key":"TdfjuPPN8UAMLY+O68wyv7/xOLM="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _NavigationBuilderContext = _interopRequireDefault(require(_dependencyMap[2], \"./NavigationBuilderContext\"));\n  var _NavigationStateContext = _interopRequireDefault(require(_dependencyMap[3], \"./NavigationStateContext\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  function useOptionsGetters(_ref) {\n    let {\n      key,\n      options,\n      navigation\n    } = _ref;\n    const optionsRef = React.useRef(options);\n    const optionsGettersFromChildRef = React.useRef({});\n    const {\n      onOptionsChange\n    } = React.useContext(_NavigationBuilderContext.default);\n    const {\n      addOptionsGetter: parentAddOptionsGetter\n    } = React.useContext(_NavigationStateContext.default);\n    const optionsChangeListener = React.useCallback(() => {\n      const isFocused = (navigation === null || navigation === void 0 ? void 0 : navigation.isFocused()) ?? true;\n      const hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation === null || navigation === void 0 ? void 0 : navigation.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    const getOptionsFromListener = React.useCallback(() => {\n      for (let key in optionsGettersFromChildRef.current) {\n        if (optionsGettersFromChildRef.current.hasOwnProperty(key)) {\n          var _optionsGettersFromCh, _optionsGettersFromCh2;\n          const result = (_optionsGettersFromCh = (_optionsGettersFromCh2 = optionsGettersFromChildRef.current)[key]) === null || _optionsGettersFromCh === void 0 ? void 0 : _optionsGettersFromCh.call(_optionsGettersFromCh2);\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    const getCurrentOptions = React.useCallback(() => {\n      const isFocused = (navigation === null || navigation === void 0 ? void 0 : navigation.isFocused()) ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      const optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter === null || parentAddOptionsGetter === void 0 ? void 0 : parentAddOptionsGetter(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    const addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":79,"map":[[7,2,1,0],[7,6,1,0,"React"],[7,11,1,0],[7,14,1,0,"_interopRequireWildcard"],[7,37,1,0],[7,38,1,0,"require"],[7,45,1,0],[7,46,1,0,"_dependencyMap"],[7,60,1,0],[8,2,2,0],[8,6,2,0,"_NavigationBuilderContext"],[8,31,2,0],[8,34,2,0,"_interopRequireDefault"],[8,56,2,0],[8,57,2,0,"require"],[8,64,2,0],[8,65,2,0,"_dependencyMap"],[8,79,2,0],[9,2,3,0],[9,6,3,0,"_NavigationStateContext"],[9,29,3,0],[9,32,3,0,"_interopRequireDefault"],[9,54,3,0],[9,55,3,0,"require"],[9,62,3,0],[9,63,3,0,"_dependencyMap"],[9,77,3,0],[10,2,3,62],[10,11,3,62,"_interopRequireWildcard"],[10,35,3,62,"e"],[10,36,3,62],[10,38,3,62,"t"],[10,39,3,62],[10,68,3,62,"WeakMap"],[10,75,3,62],[10,81,3,62,"r"],[10,82,3,62],[10,89,3,62,"WeakMap"],[10,96,3,62],[10,100,3,62,"n"],[10,101,3,62],[10,108,3,62,"WeakMap"],[10,115,3,62],[10,127,3,62,"_interopRequireWildcard"],[10,150,3,62],[10,162,3,62,"_interopRequireWildcard"],[10,163,3,62,"e"],[10,164,3,62],[10,166,3,62,"t"],[10,167,3,62],[10,176,3,62,"t"],[10,177,3,62],[10,181,3,62,"e"],[10,182,3,62],[10,186,3,62,"e"],[10,187,3,62],[10,188,3,62,"__esModule"],[10,198,3,62],[10,207,3,62,"e"],[10,208,3,62],[10,214,3,62,"o"],[10,215,3,62],[10,217,3,62,"i"],[10,218,3,62],[10,220,3,62,"f"],[10,221,3,62],[10,226,3,62,"__proto__"],[10,235,3,62],[10,243,3,62,"default"],[10,250,3,62],[10,252,3,62,"e"],[10,253,3,62],[10,270,3,62,"e"],[10,271,3,62],[10,294,3,62,"e"],[10,295,3,62],[10,320,3,62,"e"],[10,321,3,62],[10,330,3,62,"f"],[10,331,3,62],[10,337,3,62,"o"],[10,338,3,62],[10,341,3,62,"t"],[10,342,3,62],[10,345,3,62,"n"],[10,346,3,62],[10,349,3,62,"r"],[10,350,3,62],[10,358,3,62,"o"],[10,359,3,62],[10,360,3,62,"has"],[10,363,3,62],[10,364,3,62,"e"],[10,365,3,62],[10,375,3,62,"o"],[10,376,3,62],[10,377,3,62,"get"],[10,380,3,62],[10,381,3,62,"e"],[10,382,3,62],[10,385,3,62,"o"],[10,386,3,62],[10,387,3,62,"set"],[10,390,3,62],[10,391,3,62,"e"],[10,392,3,62],[10,394,3,62,"f"],[10,395,3,62],[10,411,3,62,"t"],[10,412,3,62],[10,416,3,62,"e"],[10,417,3,62],[10,433,3,62,"t"],[10,434,3,62],[10,441,3,62,"hasOwnProperty"],[10,455,3,62],[10,456,3,62,"call"],[10,460,3,62],[10,461,3,62,"e"],[10,462,3,62],[10,464,3,62,"t"],[10,465,3,62],[10,472,3,62,"i"],[10,473,3,62],[10,477,3,62,"o"],[10,478,3,62],[10,481,3,62,"Object"],[10,487,3,62],[10,488,3,62,"defineProperty"],[10,502,3,62],[10,507,3,62,"Object"],[10,513,3,62],[10,514,3,62,"getOwnPropertyDescriptor"],[10,538,3,62],[10,539,3,62,"e"],[10,540,3,62],[10,542,3,62,"t"],[10,543,3,62],[10,550,3,62,"i"],[10,551,3,62],[10,552,3,62,"get"],[10,555,3,62],[10,559,3,62,"i"],[10,560,3,62],[10,561,3,62,"set"],[10,564,3,62],[10,568,3,62,"o"],[10,569,3,62],[10,570,3,62,"f"],[10,571,3,62],[10,573,3,62,"t"],[10,574,3,62],[10,576,3,62,"i"],[10,577,3,62],[10,581,3,62,"f"],[10,582,3,62],[10,583,3,62,"t"],[10,584,3,62],[10,588,3,62,"e"],[10,589,3,62],[10,590,3,62,"t"],[10,591,3,62],[10,602,3,62,"f"],[10,603,3,62],[10,608,3,62,"e"],[10,609,3,62],[10,611,3,62,"t"],[10,612,3,62],[11,2,4,15],[11,11,4,24,"useOptionsGetters"],[11,28,4,41,"useOptionsGetters"],[11,29,4,42,"_ref"],[11,33,4,46],[11,35,4,48],[12,4,5,2],[12,8,5,6],[13,6,6,4,"key"],[13,9,6,7],[14,6,7,4,"options"],[14,13,7,11],[15,6,8,4,"navigation"],[16,4,9,2],[16,5,9,3],[16,8,9,6,"_ref"],[16,12,9,10],[17,4,10,2],[17,10,10,8,"optionsRef"],[17,20,10,18],[17,23,10,21,"React"],[17,28,10,26],[17,29,10,27,"useRef"],[17,35,10,33],[17,36,10,34,"options"],[17,43,10,41],[17,44,10,42],[18,4,11,2],[18,10,11,8,"optionsGettersFromChildRef"],[18,36,11,34],[18,39,11,37,"React"],[18,44,11,42],[18,45,11,43,"useRef"],[18,51,11,49],[18,52,11,50],[18,53,11,51],[18,54,11,52],[18,55,11,53],[19,4,12,2],[19,10,12,8],[20,6,13,4,"onOptionsChange"],[21,4,14,2],[21,5,14,3],[21,8,14,6,"React"],[21,13,14,11],[21,14,14,12,"useContext"],[21,24,14,22],[21,25,14,23,"NavigationBuilderContext"],[21,58,14,47],[21,59,14,48],[22,4,15,2],[22,10,15,8],[23,6,16,4,"addOptionsGetter"],[23,22,16,20],[23,24,16,22,"parentAddOptionsGetter"],[24,4,17,2],[24,5,17,3],[24,8,17,6,"React"],[24,13,17,11],[24,14,17,12,"useContext"],[24,24,17,22],[24,25,17,23,"NavigationStateContext"],[24,56,17,45],[24,57,17,46],[25,4,18,2],[25,10,18,8,"optionsChangeListener"],[25,31,18,29],[25,34,18,32,"React"],[25,39,18,37],[25,40,18,38,"useCallback"],[25,51,18,49],[25,52,18,50],[25,58,18,56],[26,6,19,4],[26,12,19,10,"isFocused"],[26,21,19,19],[26,24,19,22],[26,25,19,23,"navigation"],[26,35,19,33],[26,40,19,38],[26,44,19,42],[26,48,19,46,"navigation"],[26,58,19,56],[26,63,19,61],[26,68,19,66],[26,69,19,67],[26,72,19,70],[26,77,19,75],[26,78,19,76],[26,81,19,79,"navigation"],[26,91,19,89],[26,92,19,90,"isFocused"],[26,101,19,99],[26,102,19,100],[26,103,19,101],[26,108,19,106],[26,112,19,110],[27,6,20,4],[27,12,20,10,"hasChildren"],[27,23,20,21],[27,26,20,24,"Object"],[27,32,20,30],[27,33,20,31,"keys"],[27,37,20,35],[27,38,20,36,"optionsGettersFromChildRef"],[27,64,20,62],[27,65,20,63,"current"],[27,72,20,70],[27,73,20,71],[27,74,20,72,"length"],[27,80,20,78],[28,6,21,4],[28,10,21,8,"isFocused"],[28,19,21,17],[28,23,21,21],[28,24,21,22,"hasChildren"],[28,35,21,33],[28,37,21,35],[29,8,22,6,"onOptionsChange"],[29,23,22,21],[29,24,22,22,"optionsRef"],[29,34,22,32],[29,35,22,33,"current"],[29,42,22,40],[29,46,22,44],[29,47,22,45],[29,48,22,46],[29,49,22,47],[30,6,23,4],[31,4,24,2],[31,5,24,3],[31,7,24,5],[31,8,24,6,"navigation"],[31,18,24,16],[31,20,24,18,"onOptionsChange"],[31,35,24,33],[31,36,24,34],[31,37,24,35],[32,4,25,2,"React"],[32,9,25,7],[32,10,25,8,"useEffect"],[32,19,25,17],[32,20,25,18],[32,26,25,24],[33,6,26,4,"optionsRef"],[33,16,26,14],[33,17,26,15,"current"],[33,24,26,22],[33,27,26,25,"options"],[33,34,26,32],[34,6,27,4,"optionsChangeListener"],[34,27,27,25],[34,28,27,26],[34,29,27,27],[35,6,28,4],[35,13,28,11,"navigation"],[35,23,28,21],[35,28,28,26],[35,32,28,30],[35,36,28,34,"navigation"],[35,46,28,44],[35,51,28,49],[35,56,28,54],[35,57,28,55],[35,60,28,58],[35,65,28,63],[35,66,28,64],[35,69,28,67,"navigation"],[35,79,28,77],[35,80,28,78,"addListener"],[35,91,28,89],[35,92,28,90],[35,99,28,97],[35,101,28,99,"optionsChangeListener"],[35,122,28,120],[35,123,28,121],[36,4,29,2],[36,5,29,3],[36,7,29,5],[36,8,29,6,"navigation"],[36,18,29,16],[36,20,29,18,"options"],[36,27,29,25],[36,29,29,27,"optionsChangeListener"],[36,50,29,48],[36,51,29,49],[36,52,29,50],[37,4,30,2],[37,10,30,8,"getOptionsFromListener"],[37,32,30,30],[37,35,30,33,"React"],[37,40,30,38],[37,41,30,39,"useCallback"],[37,52,30,50],[37,53,30,51],[37,59,30,57],[38,6,31,4],[38,11,31,9],[38,15,31,13,"key"],[38,18,31,16],[38,22,31,20,"optionsGettersFromChildRef"],[38,48,31,46],[38,49,31,47,"current"],[38,56,31,54],[38,58,31,56],[39,8,32,6],[39,12,32,10,"optionsGettersFromChildRef"],[39,38,32,36],[39,39,32,37,"current"],[39,46,32,44],[39,47,32,45,"hasOwnProperty"],[39,61,32,59],[39,62,32,60,"key"],[39,65,32,63],[39,66,32,64],[39,68,32,66],[40,10,33,8],[40,14,33,12,"_optionsGettersFromCh"],[40,35,33,33],[40,37,33,35,"_optionsGettersFromCh2"],[40,59,33,57],[41,10,34,8],[41,16,34,14,"result"],[41,22,34,20],[41,25,34,23],[41,26,34,24,"_optionsGettersFromCh"],[41,47,34,45],[41,50,34,48],[41,51,34,49,"_optionsGettersFromCh2"],[41,73,34,71],[41,76,34,74,"optionsGettersFromChildRef"],[41,102,34,100],[41,103,34,101,"current"],[41,110,34,108],[41,112,34,110,"key"],[41,115,34,113],[41,116,34,114],[41,122,34,120],[41,126,34,124],[41,130,34,128,"_optionsGettersFromCh"],[41,151,34,149],[41,156,34,154],[41,161,34,159],[41,162,34,160],[41,165,34,163],[41,170,34,168],[41,171,34,169],[41,174,34,172,"_optionsGettersFromCh"],[41,195,34,193],[41,196,34,194,"call"],[41,200,34,198],[41,201,34,199,"_optionsGettersFromCh2"],[41,223,34,221],[41,224,34,222],[43,10,36,8],[44,10,37,8],[44,14,37,12,"result"],[44,20,37,18],[44,25,37,23],[44,29,37,27],[44,31,37,29],[45,12,38,10],[45,19,38,17,"result"],[45,25,38,23],[46,10,39,8],[47,8,40,6],[48,6,41,4],[49,6,42,4],[49,13,42,11],[49,17,42,15],[50,4,43,2],[50,5,43,3],[50,7,43,5],[50,9,43,7],[50,10,43,8],[51,4,44,2],[51,10,44,8,"getCurrentOptions"],[51,27,44,25],[51,30,44,28,"React"],[51,35,44,33],[51,36,44,34,"useCallback"],[51,47,44,45],[51,48,44,46],[51,54,44,52],[52,6,45,4],[52,12,45,10,"isFocused"],[52,21,45,19],[52,24,45,22],[52,25,45,23,"navigation"],[52,35,45,33],[52,40,45,38],[52,44,45,42],[52,48,45,46,"navigation"],[52,58,45,56],[52,63,45,61],[52,68,45,66],[52,69,45,67],[52,72,45,70],[52,77,45,75],[52,78,45,76],[52,81,45,79,"navigation"],[52,91,45,89],[52,92,45,90,"isFocused"],[52,101,45,99],[52,102,45,100],[52,103,45,101],[52,108,45,106],[52,112,45,110],[53,6,46,4],[53,10,46,8],[53,11,46,9,"isFocused"],[53,20,46,18],[53,22,46,20],[54,8,47,6],[54,15,47,13],[54,19,47,17],[55,6,48,4],[56,6,49,4],[56,12,49,10,"optionsFromListener"],[56,31,49,29],[56,34,49,32,"getOptionsFromListener"],[56,56,49,54],[56,57,49,55],[56,58,49,56],[57,6,50,4],[57,10,50,8,"optionsFromListener"],[57,29,50,27],[57,34,50,32],[57,38,50,36],[57,40,50,38],[58,8,51,6],[58,15,51,13,"optionsFromListener"],[58,34,51,32],[59,6,52,4],[60,6,53,4],[60,13,53,11,"optionsRef"],[60,23,53,21],[60,24,53,22,"current"],[60,31,53,29],[61,4,54,2],[61,5,54,3],[61,7,54,5],[61,8,54,6,"navigation"],[61,18,54,16],[61,20,54,18,"getOptionsFromListener"],[61,42,54,40],[61,43,54,41],[61,44,54,42],[62,4,55,2,"React"],[62,9,55,7],[62,10,55,8,"useEffect"],[62,19,55,17],[62,20,55,18],[62,26,55,24],[63,6,56,4],[63,13,56,11,"parentAddOptionsGetter"],[63,35,56,33],[63,40,56,38],[63,44,56,42],[63,48,56,46,"parentAddOptionsGetter"],[63,70,56,68],[63,75,56,73],[63,80,56,78],[63,81,56,79],[63,84,56,82],[63,89,56,87],[63,90,56,88],[63,93,56,91,"parentAddOptionsGetter"],[63,115,56,113],[63,116,56,114,"key"],[63,119,56,117],[63,121,56,119,"getCurrentOptions"],[63,138,56,136],[63,139,56,137],[64,4,57,2],[64,5,57,3],[64,7,57,5],[64,8,57,6,"getCurrentOptions"],[64,25,57,23],[64,27,57,25,"parentAddOptionsGetter"],[64,49,57,47],[64,51,57,49,"key"],[64,54,57,52],[64,55,57,53],[64,56,57,54],[65,4,58,2],[65,10,58,8,"addOptionsGetter"],[65,26,58,24],[65,29,58,27,"React"],[65,34,58,32],[65,35,58,33,"useCallback"],[65,46,58,44],[65,47,58,45],[65,48,58,46,"key"],[65,51,58,49],[65,53,58,51,"getter"],[65,59,58,57],[65,64,58,62],[66,6,59,4,"optionsGettersFromChildRef"],[66,32,59,30],[66,33,59,31,"current"],[66,40,59,38],[66,41,59,39,"key"],[66,44,59,42],[66,45,59,43],[66,48,59,46,"getter"],[66,54,59,52],[67,6,60,4,"optionsChangeListener"],[67,27,60,25],[67,28,60,26],[67,29,60,27],[68,6,61,4],[68,13,61,11],[68,19,61,17],[69,8,62,6],[70,8,63,6],[70,15,63,13,"optionsGettersFromChildRef"],[70,41,63,39],[70,42,63,40,"current"],[70,49,63,47],[70,50,63,48,"key"],[70,53,63,51],[70,54,63,52],[71,8,64,6,"optionsChangeListener"],[71,29,64,27],[71,30,64,28],[71,31,64,29],[72,6,65,4],[72,7,65,5],[73,4,66,2],[73,5,66,3],[73,7,66,5],[73,8,66,6,"optionsChangeListener"],[73,29,66,27],[73,30,66,28],[73,31,66,29],[74,4,67,2],[74,11,67,9],[75,6,68,4,"addOptionsGetter"],[75,22,68,20],[76,6,69,4,"getCurrentOptions"],[77,4,70,2],[77,5,70,3],[78,2,71,0],[79,0,71,1]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;eCG;kDCc;GDM;kBEC;GFI;mDGC;GHa;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"}},"type":"js/module"}]}