{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":43,"index":1950}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":43,"index":1950}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":43,"index":1950}}],"key":"l9ek7s8G7hY7pJY4P1vxwsk0NPM="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":43,"index":1950}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":50},"end":{"line":3,"column":65,"index":115}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  // Copyright Â© 2024 650 Industries.\n  'use client';\n\n  var _interopRequireDefault = require(_dependencyMap[0]);\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createPermissionHook = createPermissionHook;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1]));\n  var _objectWithoutProperties2 = _interopRequireDefault(require(_dependencyMap[2]));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[3]));\n  var _react = require(_dependencyMap[4]);\n  var _excluded = [\"get\", \"request\"];\n  /**\n   * Get or request permission for protected functionality within the app.\n   * It uses separate permission requesters to interact with a single permission.\n   * By default, the hook will only retrieve the permission status.\n   */\n  function usePermission(methods, options) {\n    var isMounted = (0, _react.useRef)(true);\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n    var _ref = options || {},\n      _ref$get = _ref.get,\n      get = _ref$get === undefined ? true : _ref$get,\n      _ref$request = _ref.request,\n      request = _ref$request === undefined ? false : _ref$request,\n      permissionOptions = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n    var getPermission = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator2.default)(function* () {\n      var response = yield methods.getMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.getMethod]);\n    var requestPermission = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator2.default)(function* () {\n      var response = yield methods.requestMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.requestMethod]);\n    (0, _react.useEffect)(function runMethods() {\n      if (request) requestPermission();\n      if (!request && get) getPermission();\n    }, [get, request, requestPermission, getPermission]);\n    // Workaround for unmounting components receiving state updates\n    (0, _react.useEffect)(function didMount() {\n      isMounted.current = true;\n      return function () {\n        isMounted.current = false;\n      };\n    }, []);\n    return [status, requestPermission, getPermission];\n  }\n  /**\n   * Create a new permission hook with the permission methods built-in.\n   * This can be used to quickly create specific permission hooks in every module.\n   */\n  function createPermissionHook(methods) {\n    return function (options) {\n      return usePermission(methods, options);\n    };\n  }\n});","lineCount":64,"map":[[2,2,1,0],[3,2,2,0],[3,14,2,12],[5,2,2,13],[5,6,2,13,"_interopRequireDefault"],[5,28,2,13],[5,31,2,13,"require"],[5,38,2,13],[5,39,2,13,"_dependencyMap"],[5,53,2,13],[6,2,2,13,"Object"],[6,8,2,13],[6,9,2,13,"defineProperty"],[6,23,2,13],[6,24,2,13,"exports"],[6,31,2,13],[7,4,2,13,"value"],[7,9,2,13],[8,2,2,13],[9,2,2,13,"exports"],[9,9,2,13],[9,10,2,13,"createPermissionHook"],[9,30,2,13],[9,33,2,13,"createPermissionHook"],[9,53,2,13],[10,2,2,13],[10,6,2,13,"_asyncToGenerator2"],[10,24,2,13],[10,27,2,13,"_interopRequireDefault"],[10,49,2,13],[10,50,2,13,"require"],[10,57,2,13],[10,58,2,13,"_dependencyMap"],[10,72,2,13],[11,2,2,13],[11,6,2,13,"_objectWithoutProperties2"],[11,31,2,13],[11,34,2,13,"_interopRequireDefault"],[11,56,2,13],[11,57,2,13,"require"],[11,64,2,13],[11,65,2,13,"_dependencyMap"],[11,79,2,13],[12,2,2,13],[12,6,2,13,"_slicedToArray2"],[12,21,2,13],[12,24,2,13,"_interopRequireDefault"],[12,46,2,13],[12,47,2,13,"require"],[12,54,2,13],[12,55,2,13,"_dependencyMap"],[12,69,2,13],[13,2,3,0],[13,6,3,0,"_react"],[13,12,3,0],[13,15,3,0,"require"],[13,22,3,0],[13,23,3,0,"_dependencyMap"],[13,37,3,0],[14,2,3,65],[14,6,3,65,"_excluded"],[14,15,3,65],[15,2,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,2,9,0],[20,11,9,9,"usePermission"],[20,24,9,22,"usePermission"],[20,25,9,23,"methods"],[20,32,9,30],[20,34,9,32,"options"],[20,41,9,39],[20,43,9,41],[21,4,10,4],[21,8,10,10,"isMounted"],[21,17,10,19],[21,20,10,22],[21,24,10,22,"useRef"],[21,37,10,28],[21,39,10,29],[21,43,10,33],[21,44,10,34],[22,4,11,4],[22,8,11,4,"_useState"],[22,17,11,4],[22,20,11,32],[22,24,11,32,"useState"],[22,39,11,40],[22,41,11,41],[22,45,11,45],[22,46,11,46],[23,6,11,46,"_useState2"],[23,16,11,46],[23,23,11,46,"_slicedToArray2"],[23,38,11,46],[23,39,11,46,"default"],[23,46,11,46],[23,48,11,46,"_useState"],[23,57,11,46],[24,6,11,11,"status"],[24,12,11,17],[24,15,11,17,"_useState2"],[24,25,11,17],[25,6,11,19,"setStatus"],[25,15,11,28],[25,18,11,28,"_useState2"],[25,28,11,28],[26,4,12,4],[26,8,12,4,"_ref"],[26,12,12,4],[26,15,12,66,"options"],[26,22,12,73],[26,26,12,77],[26,27,12,78],[26,28,12,79],[27,6,12,79,"_ref$get"],[27,14,12,79],[27,17,12,79,"_ref"],[27,21,12,79],[27,22,12,12,"get"],[27,25,12,15],[28,6,12,12,"get"],[28,9,12,15],[28,12,12,15,"_ref$get"],[28,20,12,15],[28,25,12,15,"undefined"],[28,34,12,15],[28,37,12,18],[28,41,12,22],[28,44,12,22,"_ref$get"],[28,52,12,22],[29,6,12,22,"_ref$request"],[29,18,12,22],[29,21,12,22,"_ref"],[29,25,12,22],[29,26,12,24,"request"],[29,33,12,31],[30,6,12,24,"request"],[30,13,12,31],[30,16,12,31,"_ref$request"],[30,28,12,31],[30,33,12,31,"undefined"],[30,42,12,31],[30,45,12,34],[30,50,12,39],[30,53,12,39,"_ref$request"],[30,65,12,39],[31,6,12,44,"permissionOptions"],[31,23,12,61],[31,30,12,61,"_objectWithoutProperties2"],[31,55,12,61],[31,56,12,61,"default"],[31,63,12,61],[31,65,12,61,"_ref"],[31,69,12,61],[31,71,12,61,"_excluded"],[31,80,12,61],[32,4,13,4],[32,8,13,10,"getPermission"],[32,21,13,23],[32,24,13,26],[32,28,13,26,"useCallback"],[32,46,13,37],[32,65,13,37,"_asyncToGenerator2"],[32,83,13,37],[32,84,13,37,"default"],[32,91,13,37],[32,93,13,38],[32,106,13,50],[33,6,14,8],[33,10,14,14,"response"],[33,18,14,22],[33,27,14,31,"methods"],[33,34,14,38],[33,35,14,39,"getMethod"],[33,44,14,48],[33,45,14,49,"Object"],[33,51,14,55],[33,52,14,56,"keys"],[33,56,14,60],[33,57,14,61,"permissionOptions"],[33,74,14,78],[33,75,14,79],[33,76,14,80,"length"],[33,82,14,86],[33,85,14,89],[33,86,14,90],[33,89,14,93,"permissionOptions"],[33,106,14,110],[33,109,14,113,"undefined"],[33,118,14,122],[33,119,14,123],[34,6,15,8],[34,10,15,12,"isMounted"],[34,19,15,21],[34,20,15,22,"current"],[34,27,15,29],[34,29,16,12,"setStatus"],[34,38,16,21],[34,39,16,22,"response"],[34,47,16,30],[34,48,16,31],[35,6,17,8],[35,13,17,15,"response"],[35,21,17,23],[36,4,18,4],[36,5,18,5],[36,8,18,7],[36,9,18,8,"methods"],[36,16,18,15],[36,17,18,16,"getMethod"],[36,26,18,25],[36,27,18,26],[36,28,18,27],[37,4,19,4],[37,8,19,10,"requestPermission"],[37,25,19,27],[37,28,19,30],[37,32,19,30,"useCallback"],[37,50,19,41],[37,69,19,41,"_asyncToGenerator2"],[37,87,19,41],[37,88,19,41,"default"],[37,95,19,41],[37,97,19,42],[37,110,19,54],[38,6,20,8],[38,10,20,14,"response"],[38,18,20,22],[38,27,20,31,"methods"],[38,34,20,38],[38,35,20,39,"requestMethod"],[38,48,20,52],[38,49,20,53,"Object"],[38,55,20,59],[38,56,20,60,"keys"],[38,60,20,64],[38,61,20,65,"permissionOptions"],[38,78,20,82],[38,79,20,83],[38,80,20,84,"length"],[38,86,20,90],[38,89,20,93],[38,90,20,94],[38,93,20,97,"permissionOptions"],[38,110,20,114],[38,113,20,117,"undefined"],[38,122,20,126],[38,123,20,127],[39,6,21,8],[39,10,21,12,"isMounted"],[39,19,21,21],[39,20,21,22,"current"],[39,27,21,29],[39,29,22,12,"setStatus"],[39,38,22,21],[39,39,22,22,"response"],[39,47,22,30],[39,48,22,31],[40,6,23,8],[40,13,23,15,"response"],[40,21,23,23],[41,4,24,4],[41,5,24,5],[41,8,24,7],[41,9,24,8,"methods"],[41,16,24,15],[41,17,24,16,"requestMethod"],[41,30,24,29],[41,31,24,30],[41,32,24,31],[42,4,25,4],[42,8,25,4,"useEffect"],[42,24,25,13],[42,26,25,14],[42,35,25,23,"runMethods"],[42,45,25,33,"runMethods"],[42,46,25,33],[42,48,25,36],[43,6,26,8],[43,10,26,12,"request"],[43,17,26,19],[43,19,27,12,"requestPermission"],[43,36,27,29],[43,37,27,30],[43,38,27,31],[44,6,28,8],[44,10,28,12],[44,11,28,13,"request"],[44,18,28,20],[44,22,28,24,"get"],[44,25,28,27],[44,27,29,12,"getPermission"],[44,40,29,25],[44,41,29,26],[44,42,29,27],[45,4,30,4],[45,5,30,5],[45,7,30,7],[45,8,30,8,"get"],[45,11,30,11],[45,13,30,13,"request"],[45,20,30,20],[45,22,30,22,"requestPermission"],[45,39,30,39],[45,41,30,41,"getPermission"],[45,54,30,54],[45,55,30,55],[45,56,30,56],[46,4,31,4],[47,4,32,4],[47,8,32,4,"useEffect"],[47,24,32,13],[47,26,32,14],[47,35,32,23,"didMount"],[47,43,32,31,"didMount"],[47,44,32,31],[47,46,32,34],[48,6,33,8,"isMounted"],[48,15,33,17],[48,16,33,18,"current"],[48,23,33,25],[48,26,33,28],[48,30,33,32],[49,6,34,8],[49,13,34,15],[49,25,34,21],[50,8,35,12,"isMounted"],[50,17,35,21],[50,18,35,22,"current"],[50,25,35,29],[50,28,35,32],[50,33,35,37],[51,6,36,8],[51,7,36,9],[52,4,37,4],[52,5,37,5],[52,7,37,7],[52,9,37,9],[52,10,37,10],[53,4,38,4],[53,11,38,11],[53,12,38,12,"status"],[53,18,38,18],[53,20,38,20,"requestPermission"],[53,37,38,37],[53,39,38,39,"getPermission"],[53,52,38,52],[53,53,38,53],[54,2,39,0],[55,2,40,0],[56,0,41,0],[57,0,42,0],[58,0,43,0],[59,2,44,7],[59,11,44,16,"createPermissionHook"],[59,31,44,36,"createPermissionHook"],[59,32,44,37,"methods"],[59,39,44,44],[59,41,44,46],[60,4,45,4],[60,11,45,11],[60,21,45,12,"options"],[60,28,45,19],[61,6,45,19],[61,13,45,24,"usePermission"],[61,26,45,37],[61,27,45,38,"methods"],[61,34,45,45],[61,36,45,47,"options"],[61,43,45,54],[61,44,45,55],[62,4,45,55],[63,2,46,0],[64,0,46,1]],"functionMap":{"names":["<global>","usePermission","getPermission","requestPermission","runMethods","didMount","<anonymous>","createPermissionHook"],"mappings":"AAA;ACQ;sCCI;KDK;0CEC;KFK;cGC;KHK;cIE;eCE;SDE;KJC;CDE;OOK;WDC,4CC;CPC"}},"type":"js/module"}]}