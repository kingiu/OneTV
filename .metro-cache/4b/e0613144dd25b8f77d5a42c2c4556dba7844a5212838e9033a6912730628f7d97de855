{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":155,"column":0,"index":3910}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":155,"column":0,"index":3910}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  function getActionFromState(state, options) {\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === normalizedConfig?.initialRouteName && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[state.index ?? state.routes.length - 1];\n    var current = route?.state;\n    var config = normalizedConfig?.screens?.[route?.name];\n    var params = {\n      ...route.params\n    };\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n    while (current) {\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === config?.initialRouteName && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = {\n          ..._route.params\n        };\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = config?.screens?.[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  var createNormalizedConfigItem = function (config) {\n    return typeof config === 'object' && config != null ? {\n      initialRouteName: config.initialRouteName,\n      screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n    } : {};\n  };\n  var createNormalizedConfigs = function (options) {\n    return Object.entries(options).reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        k = _ref2[0],\n        v = _ref2[1];\n      acc[k] = createNormalizedConfigItem(v);\n      return acc;\n    }, {});\n  };\n});","lineCount":94,"map":[[8,2,31,15],[8,11,31,24,"getActionFromState"],[8,29,31,42,"getActionFromState"],[8,30,32,2,"state"],[8,35,32,38],[8,37,33,2,"options"],[8,44,33,19],[8,46,34,70],[9,4,35,2],[10,4,36,2],[10,8,36,8,"normalizedConfig"],[10,24,36,24],[10,27,36,27,"options"],[10,34,36,34],[10,37,37,6,"createNormalizedConfigItem"],[10,63,37,32],[10,64,37,33,"options"],[10,71,37,71],[10,72,37,72],[10,75,38,6],[10,76,38,7],[10,77,38,8],[11,4,40,2],[11,8,40,8,"routes"],[11,14,40,14],[11,17,41,4,"state"],[11,22,41,9],[11,23,41,10,"index"],[11,28,41,15],[11,32,41,19],[11,36,41,23],[11,39,41,26,"state"],[11,44,41,31],[11,45,41,32,"routes"],[11,51,41,38],[11,52,41,39,"slice"],[11,57,41,44],[11,58,41,45],[11,59,41,46],[11,61,41,48,"state"],[11,66,41,53],[11,67,41,54,"index"],[11,72,41,59],[11,75,41,62],[11,76,41,63],[11,77,41,64],[11,80,41,67,"state"],[11,85,41,72],[11,86,41,73,"routes"],[11,92,41,79],[12,4,43,2],[12,8,43,6,"routes"],[12,14,43,12],[12,15,43,13,"length"],[12,21,43,19],[12,26,43,24],[12,27,43,25],[12,29,43,27],[13,6,44,4],[13,13,44,11,"undefined"],[13,22,44,20],[14,4,45,2],[15,4,47,2],[15,8,48,4],[15,10,49,7,"routes"],[15,16,49,13],[15,17,49,14,"length"],[15,23,49,20],[15,28,49,25],[15,29,49,26],[15,33,49,30,"routes"],[15,39,49,36],[15,40,49,37],[15,41,49,38],[15,42,49,39],[15,43,49,40,"key"],[15,46,49,43],[15,51,49,48,"undefined"],[15,60,49,57],[15,64,50,7,"routes"],[15,70,50,13],[15,71,50,14,"length"],[15,77,50,20],[15,82,50,25],[15,83,50,26],[15,87,51,8,"routes"],[15,93,51,14],[15,94,51,15],[15,95,51,16],[15,96,51,17],[15,97,51,18,"key"],[15,100,51,21],[15,105,51,26,"undefined"],[15,114,51,35],[15,118,52,8,"routes"],[15,124,52,14],[15,125,52,15],[15,126,52,16],[15,127,52,17],[15,128,52,18,"name"],[15,132,52,22],[15,137,52,27,"normalizedConfig"],[15,153,52,43],[15,155,52,45,"initialRouteName"],[15,171,52,61],[15,175,53,8,"routes"],[15,181,53,14],[15,182,53,15],[15,183,53,16],[15,184,53,17],[15,185,53,18,"key"],[15,188,53,21],[15,193,53,26,"undefined"],[15,202,53,36],[15,203,54,5],[15,205,55,4],[16,6,56,4],[16,13,56,11],[17,8,57,6,"type"],[17,12,57,10],[17,14,57,12],[17,21,57,19],[18,8,58,6,"payload"],[18,15,58,13],[18,17,58,15,"state"],[19,6,59,4],[19,7,59,5],[20,4,60,2],[21,4,62,2],[21,8,62,8,"route"],[21,13,62,13],[21,16,62,16,"state"],[21,21,62,21],[21,22,62,22,"routes"],[21,28,62,28],[21,29,62,29,"state"],[21,34,62,34],[21,35,62,35,"index"],[21,40,62,40],[21,44,62,44,"state"],[21,49,62,49],[21,50,62,50,"routes"],[21,56,62,56],[21,57,62,57,"length"],[21,63,62,63],[21,66,62,66],[21,67,62,67],[21,68,62,68],[22,4,64,2],[22,8,64,6,"current"],[22,15,64,56],[22,18,64,59,"route"],[22,23,64,64],[22,25,64,66,"state"],[22,30,64,71],[23,4,65,2],[23,8,65,6,"config"],[23,14,65,36],[23,17,65,39,"normalizedConfig"],[23,33,65,55],[23,35,65,57,"screens"],[23,42,65,64],[23,45,65,67,"route"],[23,50,65,72],[23,52,65,74,"name"],[23,56,65,78],[23,57,65,79],[24,4,66,2],[24,8,66,6,"params"],[24,14,66,12],[24,17,66,15],[25,6,66,17],[25,9,66,20,"route"],[25,14,66,25],[25,15,66,26,"params"],[26,4,66,33],[26,5,69,3],[27,4,71,2],[27,8,71,6,"payload"],[27,15,71,13],[27,18,71,16,"route"],[27,23,71,21],[27,26,72,6],[28,6,72,8,"name"],[28,10,72,12],[28,12,72,14,"route"],[28,17,72,19],[28,18,72,20,"name"],[28,22,72,24],[29,6,72,26,"path"],[29,10,72,30],[29,12,72,32,"route"],[29,17,72,37],[29,18,72,38,"path"],[29,22,72,42],[30,6,72,44,"params"],[31,4,72,51],[31,5,72,52],[31,8,73,6,"undefined"],[31,17,73,15],[32,4,75,2],[32,11,75,9,"current"],[32,18,75,16],[32,20,75,18],[33,6,76,4],[33,10,76,8,"current"],[33,17,76,15],[33,18,76,16,"routes"],[33,24,76,22],[33,25,76,23,"length"],[33,31,76,29],[33,36,76,34],[33,37,76,35],[33,39,76,37],[34,8,77,6],[34,15,77,13,"undefined"],[34,24,77,22],[35,6,78,4],[36,6,80,4],[36,10,80,10,"routes"],[36,17,80,16],[36,20,81,6,"current"],[36,27,81,13],[36,28,81,14,"index"],[36,33,81,19],[36,37,81,23],[36,41,81,27],[36,44,82,10,"current"],[36,51,82,17],[36,52,82,18,"routes"],[36,58,82,24],[36,59,82,25,"slice"],[36,64,82,30],[36,65,82,31],[36,66,82,32],[36,68,82,34,"current"],[36,75,82,41],[36,76,82,42,"index"],[36,81,82,47],[36,84,82,50],[36,85,82,51],[36,86,82,52],[36,89,83,10,"current"],[36,96,83,17],[36,97,83,18,"routes"],[36,103,83,24],[37,6,85,4],[37,10,85,10,"route"],[37,16,85,60],[37,19,86,6,"routes"],[37,26,86,12],[37,27,86,13,"routes"],[37,34,86,19],[37,35,86,20,"length"],[37,41,86,26],[37,44,86,29],[37,45,86,30],[37,46,86,31],[39,6,88,4],[40,6,89,4,"Object"],[40,12,89,10],[40,13,89,11,"assign"],[40,19,89,17],[40,20,89,18,"params"],[40,26,89,24],[40,28,89,26],[41,8,90,6,"initial"],[41,15,90,13],[41,17,90,15,"undefined"],[41,26,90,24],[42,8,91,6,"screen"],[42,14,91,12],[42,16,91,14,"undefined"],[42,25,91,23],[43,8,92,6,"params"],[43,14,92,12],[43,16,92,14,"undefined"],[43,25,92,23],[44,8,93,6,"state"],[44,13,93,11],[44,15,93,13,"undefined"],[45,6,94,4],[45,7,94,5],[45,8,94,6],[46,6,96,4],[46,10,96,8,"routes"],[46,17,96,14],[46,18,96,15,"length"],[46,24,96,21],[46,29,96,26],[46,30,96,27],[46,34,96,31,"routes"],[46,41,96,37],[46,42,96,38],[46,43,96,39],[46,44,96,40],[46,45,96,41,"key"],[46,48,96,44],[46,53,96,49,"undefined"],[46,62,96,58],[46,64,96,60],[47,8,97,6,"params"],[47,14,97,12],[47,15,97,13,"initial"],[47,22,97,20],[47,25,97,23],[47,29,97,27],[48,8,98,6,"params"],[48,14,98,12],[48,15,98,13,"screen"],[48,21,98,19],[48,24,98,22,"route"],[48,30,98,27],[48,31,98,28,"name"],[48,35,98,32],[49,6,99,4],[49,7,99,5],[49,13,99,11],[49,17,100,6,"routes"],[49,24,100,12],[49,25,100,13,"length"],[49,31,100,19],[49,36,100,24],[49,37,100,25],[49,41,101,6,"routes"],[49,48,101,12],[49,49,101,13],[49,50,101,14],[49,51,101,15],[49,52,101,16,"key"],[49,55,101,19],[49,60,101,24,"undefined"],[49,69,101,33],[49,73,102,6,"routes"],[49,80,102,12],[49,81,102,13],[49,82,102,14],[49,83,102,15],[49,84,102,16,"name"],[49,88,102,20],[49,93,102,25,"config"],[49,99,102,31],[49,101,102,33,"initialRouteName"],[49,117,102,49],[49,121,103,6,"routes"],[49,128,103,12],[49,129,103,13],[49,130,103,14],[49,131,103,15],[49,132,103,16,"key"],[49,135,103,19],[49,140,103,24,"undefined"],[49,149,103,33],[49,151,104,6],[50,8,105,6,"params"],[50,14,105,12],[50,15,105,13,"initial"],[50,22,105,20],[50,25,105,23],[50,30,105,28],[51,8,106,6,"params"],[51,14,106,12],[51,15,106,13,"screen"],[51,21,106,19],[51,24,106,22,"route"],[51,30,106,27],[51,31,106,28,"name"],[51,35,106,32],[52,6,107,4],[52,7,107,5],[52,13,107,11],[53,8,108,6,"params"],[53,14,108,12],[53,15,108,13,"state"],[53,20,108,18],[53,23,108,21,"current"],[53,30,108,28],[54,8,109,6],[55,6,110,4],[56,6,112,4],[56,10,112,8,"route"],[56,16,112,13],[56,17,112,14,"state"],[56,22,112,19],[56,24,112,21],[57,8,113,6,"params"],[57,14,113,12],[57,15,113,13,"params"],[57,21,113,19],[57,24,113,22],[58,10,113,24],[58,13,113,27,"route"],[58,19,113,32],[58,20,113,33,"params"],[59,8,113,40],[59,9,113,41],[60,8,114,6,"params"],[60,14,114,12],[60,17,114,15,"params"],[60,23,114,21],[60,24,114,22,"params"],[60,30,117,7],[61,6,118,4],[61,7,118,5],[61,13,118,11],[62,8,119,6,"params"],[62,14,119,12],[62,15,119,13,"path"],[62,19,119,17],[62,22,119,20,"route"],[62,28,119,25],[62,29,119,26,"path"],[62,33,119,30],[63,8,120,6,"params"],[63,14,120,12],[63,15,120,13,"params"],[63,21,120,19],[63,24,120,22,"route"],[63,30,120,27],[63,31,120,28,"params"],[63,37,120,34],[64,6,121,4],[65,6,123,4,"current"],[65,13,123,11],[65,16,123,14,"route"],[65,22,123,19],[65,23,123,20,"state"],[65,28,123,25],[66,6,124,4,"config"],[66,12,124,10],[66,15,124,13,"config"],[66,21,124,19],[66,23,124,21,"screens"],[66,30,124,28],[66,33,124,31,"route"],[66,39,124,36],[66,40,124,37,"name"],[66,44,124,41],[66,45,124,42],[67,4,125,2],[68,4,127,2],[68,8,127,6],[68,9,127,7,"payload"],[68,16,127,14],[68,18,127,16],[69,6,128,4],[70,4,129,2],[72,4,131,2],[73,4,132,2],[74,4,133,2],[74,11,133,9],[75,6,134,4,"type"],[75,10,134,8],[75,12,134,10],[75,22,134,20],[76,6,135,4,"payload"],[77,4,136,2],[77,5,136,3],[78,2,137,0],[79,2,139,0],[79,6,139,6,"createNormalizedConfigItem"],[79,32,139,32],[79,35,139,35],[79,44,139,35,"createNormalizedConfigItem"],[79,45,139,36,"config"],[79,51,139,71],[80,4,139,71],[80,11,140,2],[80,18,140,9,"config"],[80,24,140,15],[80,29,140,20],[80,37,140,28],[80,41,140,32,"config"],[80,47,140,38],[80,51,140,42],[80,55,140,46],[80,58,141,6],[81,6,142,8,"initialRouteName"],[81,22,142,24],[81,24,142,26,"config"],[81,30,142,32],[81,31,142,33,"initialRouteName"],[81,47,142,49],[82,6,143,8,"screens"],[82,13,143,15],[82,15,144,10,"config"],[82,21,144,16],[82,22,144,17,"screens"],[82,29,144,24],[82,33,144,28],[82,37,144,32],[82,40,145,14,"createNormalizedConfigs"],[82,63,145,37],[82,64,145,38,"config"],[82,70,145,44],[82,71,145,45,"screens"],[82,78,145,52],[82,79,145,53],[82,82,146,14,"undefined"],[83,4,147,6],[83,5,147,7],[83,8,148,6],[83,9,148,7],[83,10,148,8],[84,2,148,8],[85,2,150,0],[85,6,150,6,"createNormalizedConfigs"],[85,29,150,29],[85,32,150,32],[85,41,150,32,"createNormalizedConfigs"],[85,42,150,33,"options"],[85,49,150,63],[86,4,150,63],[86,11,151,2,"Object"],[86,17,151,8],[86,18,151,9,"entries"],[86,25,151,16],[86,26,151,17,"options"],[86,33,151,24],[86,34,151,25],[86,35,151,26,"reduce"],[86,41,151,32],[86,42,151,61],[86,52,151,62,"acc"],[86,55,151,65],[86,57,151,65,"_ref"],[86,61,151,65],[86,63,151,78],[87,6,151,78],[87,10,151,78,"_ref2"],[87,15,151,78],[87,22,151,78,"_slicedToArray2"],[87,37,151,78],[87,38,151,78,"default"],[87,45,151,78],[87,47,151,78,"_ref"],[87,51,151,78],[88,8,151,68,"k"],[88,9,151,69],[88,12,151,69,"_ref2"],[88,17,151,69],[89,8,151,71,"v"],[89,9,151,72],[89,12,151,72,"_ref2"],[89,17,151,72],[90,6,152,4,"acc"],[90,9,152,7],[90,10,152,8,"k"],[90,11,152,9],[90,12,152,10],[90,15,152,13,"createNormalizedConfigItem"],[90,41,152,39],[90,42,152,40,"v"],[90,43,152,41],[90,44,152,42],[91,6,153,4],[91,13,153,11,"acc"],[91,16,153,14],[92,4,154,2],[92,5,154,3],[92,7,154,5],[92,8,154,6],[92,9,154,7],[92,10,154,8],[93,2,154,8],[94,0,154,9]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;eC8B;CD0G;mCEE;QFS;gCGE;6DCC;GDG,KH"}},"type":"js/module"}]}