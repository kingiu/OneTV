{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":303,"column":29,"index":9225}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":303,"column":29,"index":9225}}],"key":"jM/HC84YZkM9kLoiCo0Bpf0Xr+w="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":27,"column":0,"index":978},"end":{"line":27,"column":54,"index":1032}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":28,"column":0,"index":1033},"end":{"line":28,"column":36,"index":1069}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":26,"column":35,"index":942},"end":{"line":26,"column":69,"index":976}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _Platform = _interopRequireDefault(require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\"));\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[3], \"@/utils/Logger\"));\n  // 为TcpSocket创建完整的类型声明\n\n  // 导入并断言类型\n  const TcpSocket = require(_dependencyMap[4], \"react-native-tcp-socket\");\n  const logger = _Logger.default.withTag('TCPHttpServer');\n  const PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n\n  class TCPHttpServer {\n    server = null;\n    isRunning = false;\n    requestHandler = null;\n    constructor() {\n      this.server = null;\n    }\n    parseHttpRequest(data) {\n      try {\n        const lines = data.split('\\r\\n');\n        const requestLine = lines[0].split(' ');\n        if (requestLine.length < 3) {\n          return null;\n        }\n        const method = requestLine[0];\n        const url = requestLine[1];\n        const headers = {};\n        let bodyStartIndex = -1;\n        for (let i = 1; i < lines.length; i++) {\n          const line = lines[i];\n          if (line === '') {\n            bodyStartIndex = i + 1;\n            break;\n          }\n          const colonIndex = line.indexOf(':');\n          if (colonIndex > 0) {\n            const key = line.substring(0, colonIndex).trim().toLowerCase();\n            const value = line.substring(colonIndex + 1).trim();\n            headers[key] = value;\n          }\n        }\n        const body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n        return {\n          method,\n          url,\n          headers,\n          body\n        };\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n        return null;\n      }\n    }\n    formatHttpResponse(response) {\n      const statusTexts = {\n        200: 'OK',\n        400: 'Bad Request',\n        404: 'Not Found',\n        500: 'Internal Server Error'\n      };\n      const statusText = statusTexts[response.statusCode] || 'Unknown';\n      const headers = {\n        'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n        'Connection': 'close',\n        ...response.headers\n      };\n      let httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n      for (const [key, value] of Object.entries(headers)) {\n        httpResponse += `${key}: ${value}\\r\\n`;\n      }\n      httpResponse += '\\r\\n';\n      httpResponse += response.body;\n      return httpResponse;\n    }\n    setRequestHandler(handler) {\n      this.requestHandler = handler;\n    }\n    async start() {\n      // 确保之前的服务器实例已关闭\n      if (this.server && !this.isRunning) {\n        try {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Old server instance closed');\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error closing old server:', error);\n        }\n        this.server = null;\n      }\n      const netState = await _netinfo.default.fetch();\n      let ipAddress = null;\n      if (netState.type === 'wifi' || netState.type === 'ethernet') {\n        ipAddress = netState.details?.ipAddress ?? null;\n      }\n      if (!ipAddress) {\n        throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n      }\n      if (this.isRunning) {\n        logger.debug('[TCPHttpServer] Server is already running.');\n        return `http://${ipAddress}:${PORT}`;\n      }\n\n      // Web平台不支持TCP服务器\n      if (_Platform.default.OS === 'web') {\n        logger.error('[TCPHttpServer] TCP server not supported on web platform');\n        throw new Error('Web平台不支持TCP服务器');\n      }\n      return new Promise((resolve, reject) => {\n        try {\n          // 检查TcpSocket是否可用\n          if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n            logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n            reject(new Error('TCP服务器初始化失败'));\n            return;\n          }\n\n          // 确保在创建新服务器前，server为null\n          if (this.server) {\n            try {\n              this.server.close();\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing previous server:', error);\n            }\n            this.server = null;\n          }\n\n          // 创建服务器实例\n          this.server = TcpSocket.createServer(socket => {\n            logger.debug('[TCPHttpServer] Client connected');\n            let requestData = '';\n            socket.on('data', async data => {\n              requestData += data.toString();\n\n              // Check if we have a complete HTTP request\n              if (requestData.includes('\\r\\n\\r\\n')) {\n                try {\n                  const request = this.parseHttpRequest(requestData);\n                  if (request && this.requestHandler) {\n                    const response = await this.requestHandler(request);\n                    const httpResponse = this.formatHttpResponse(response);\n                    socket.write(httpResponse);\n                  } else {\n                    // Send 400 Bad Request for malformed requests\n                    const errorResponse = this.formatHttpResponse({\n                      statusCode: 400,\n                      headers: {\n                        'Content-Type': 'text/plain'\n                      },\n                      body: 'Bad Request'\n                    });\n                    socket.write(errorResponse);\n                  }\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error handling request:', error);\n                  const errorResponse = this.formatHttpResponse({\n                    statusCode: 500,\n                    headers: {\n                      'Content-Type': 'text/plain'\n                    },\n                    body: 'Internal Server Error'\n                  });\n                  socket.write(errorResponse);\n                }\n                socket.end();\n                requestData = '';\n              }\n            });\n            socket.on('error', error => {\n              logger.info('[TCPHttpServer] Socket error:', error);\n            });\n            socket.on('close', () => {\n              logger.debug('[TCPHttpServer] Client disconnected');\n            });\n          });\n\n          // 确保server不为null再调用listen\n          if (!this.server) {\n            logger.error('[TCPHttpServer] Server instance is null');\n            reject(new Error('服务器实例创建失败'));\n            return;\n          }\n\n          // 添加错误处理，确保listen方法存在并且是函数\n          if (!this.server.listen || typeof this.server.listen !== 'function') {\n            logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n            reject(new Error('服务器监听方法不可用'));\n            return;\n          }\n          this.server.listen({\n            port: PORT,\n            host: '0.0.0.0'\n          }, () => {\n            logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n            this.isRunning = true;\n            resolve(`http://${ipAddress}:${PORT}`);\n          });\n          this.server.on('error', error => {\n            logger.info('[TCPHttpServer] Server error:', error);\n            this.isRunning = false;\n            // 针对端口占用的错误提供更友好的消息\n            if (error.message && error.message.includes('EADDRINUSE')) {\n              reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n            } else {\n              reject(error);\n            }\n          });\n        } catch (error) {\n          logger.info('[TCPHttpServer] Failed to start server:', error);\n          reject(error);\n        }\n      });\n    }\n    stop() {\n      try {\n        if (this.server) {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Server stopped');\n        }\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error stopping server:', error);\n      } finally {\n        this.isRunning = false;\n        this.server = null;\n      }\n    }\n    getIsRunning() {\n      return this.isRunning;\n    }\n  }\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":240,"map":[[8,2,27,0],[8,6,27,0,"_netinfo"],[8,14,27,0],[8,17,27,0,"_interopRequireDefault"],[8,39,27,0],[8,40,27,0,"require"],[8,47,27,0],[8,48,27,0,"_dependencyMap"],[8,62,27,0],[9,2,28,0],[9,6,28,0,"_Logger"],[9,13,28,0],[9,16,28,0,"_interopRequireDefault"],[9,38,28,0],[9,39,28,0,"require"],[9,46,28,0],[9,47,28,0,"_dependencyMap"],[9,61,28,0],[10,2,2,0],[12,2,25,0],[13,2,26,0],[13,8,26,6,"TcpSocket"],[13,17,26,32],[13,20,26,35,"require"],[13,27,26,42],[13,28,26,42,"_dependencyMap"],[13,42,26,42],[13,72,26,68],[13,73,26,69],[14,2,30,0],[14,8,30,6,"logger"],[14,14,30,12],[14,17,30,15,"Logger"],[14,32,30,21],[14,33,30,22,"withTag"],[14,40,30,29],[14,41,30,30],[14,56,30,45],[14,57,30,46],[15,2,32,0],[15,8,32,6,"PORT"],[15,12,32,10],[15,15,32,13],[15,20,32,18],[17,2,34,0],[19,2,41,0],[21,2,66,0],[21,8,66,6,"TCPHttpServer"],[21,21,66,19],[21,22,66,20],[22,4,67,10,"server"],[22,10,67,16],[22,13,67,45],[22,17,67,49],[23,4,68,10,"isRunning"],[23,13,68,19],[23,16,68,22],[23,21,68,27],[24,4,69,10,"requestHandler"],[24,18,69,24],[24,21,69,50],[24,25,69,54],[25,4,71,2,"constructor"],[25,15,71,13,"constructor"],[25,16,71,13],[25,18,71,16],[26,6,72,4],[26,10,72,8],[26,11,72,9,"server"],[26,17,72,15],[26,20,72,18],[26,24,72,22],[27,4,73,2],[28,4,75,10,"parseHttpRequest"],[28,20,75,26,"parseHttpRequest"],[28,21,75,27,"data"],[28,25,75,39],[28,27,75,61],[29,6,76,4],[29,10,76,8],[30,8,77,6],[30,14,77,12,"lines"],[30,19,77,17],[30,22,77,20,"data"],[30,26,77,24],[30,27,77,25,"split"],[30,32,77,30],[30,33,77,31],[30,39,77,37],[30,40,77,38],[31,8,78,6],[31,14,78,12,"requestLine"],[31,25,78,23],[31,28,78,26,"lines"],[31,33,78,31],[31,34,78,32],[31,35,78,33],[31,36,78,34],[31,37,78,35,"split"],[31,42,78,40],[31,43,78,41],[31,46,78,44],[31,47,78,45],[32,8,80,6],[32,12,80,10,"requestLine"],[32,23,80,21],[32,24,80,22,"length"],[32,30,80,28],[32,33,80,31],[32,34,80,32],[32,36,80,34],[33,10,81,8],[33,17,81,15],[33,21,81,19],[34,8,82,6],[35,8,84,6],[35,14,84,12,"method"],[35,20,84,18],[35,23,84,21,"requestLine"],[35,34,84,32],[35,35,84,33],[35,36,84,34],[35,37,84,35],[36,8,85,6],[36,14,85,12,"url"],[36,17,85,15],[36,20,85,18,"requestLine"],[36,31,85,29],[36,32,85,30],[36,33,85,31],[36,34,85,32],[37,8,86,6],[37,14,86,12,"headers"],[37,21,86,46],[37,24,86,49],[37,25,86,50],[37,26,86,51],[38,8,88,6],[38,12,88,10,"bodyStartIndex"],[38,26,88,24],[38,29,88,27],[38,30,88,28],[38,31,88,29],[39,8,89,6],[39,13,89,11],[39,17,89,15,"i"],[39,18,89,16],[39,21,89,19],[39,22,89,20],[39,24,89,22,"i"],[39,25,89,23],[39,28,89,26,"lines"],[39,33,89,31],[39,34,89,32,"length"],[39,40,89,38],[39,42,89,40,"i"],[39,43,89,41],[39,45,89,43],[39,47,89,45],[40,10,90,8],[40,16,90,14,"line"],[40,20,90,18],[40,23,90,21,"lines"],[40,28,90,26],[40,29,90,27,"i"],[40,30,90,28],[40,31,90,29],[41,10,91,8],[41,14,91,12,"line"],[41,18,91,16],[41,23,91,21],[41,25,91,23],[41,27,91,25],[42,12,92,10,"bodyStartIndex"],[42,26,92,24],[42,29,92,27,"i"],[42,30,92,28],[42,33,92,31],[42,34,92,32],[43,12,93,10],[44,10,94,8],[45,10,95,8],[45,16,95,14,"colonIndex"],[45,26,95,24],[45,29,95,27,"line"],[45,33,95,31],[45,34,95,32,"indexOf"],[45,41,95,39],[45,42,95,40],[45,45,95,43],[45,46,95,44],[46,10,96,8],[46,14,96,12,"colonIndex"],[46,24,96,22],[46,27,96,25],[46,28,96,26],[46,30,96,28],[47,12,97,10],[47,18,97,16,"key"],[47,21,97,19],[47,24,97,22,"line"],[47,28,97,26],[47,29,97,27,"substring"],[47,38,97,36],[47,39,97,37],[47,40,97,38],[47,42,97,40,"colonIndex"],[47,52,97,50],[47,53,97,51],[47,54,97,52,"trim"],[47,58,97,56],[47,59,97,57],[47,60,97,58],[47,61,97,59,"toLowerCase"],[47,72,97,70],[47,73,97,71],[47,74,97,72],[48,12,98,10],[48,18,98,16,"value"],[48,23,98,21],[48,26,98,24,"line"],[48,30,98,28],[48,31,98,29,"substring"],[48,40,98,38],[48,41,98,39,"colonIndex"],[48,51,98,49],[48,54,98,52],[48,55,98,53],[48,56,98,54],[48,57,98,55,"trim"],[48,61,98,59],[48,62,98,60],[48,63,98,61],[49,12,99,10,"headers"],[49,19,99,17],[49,20,99,18,"key"],[49,23,99,21],[49,24,99,22],[49,27,99,25,"value"],[49,32,99,30],[50,10,100,8],[51,8,101,6],[52,8,103,6],[52,14,103,12,"body"],[52,18,103,16],[52,21,103,19,"bodyStartIndex"],[52,35,103,33],[52,38,103,36],[52,39,103,37],[52,42,103,40,"lines"],[52,47,103,45],[52,48,103,46,"slice"],[52,53,103,51],[52,54,103,52,"bodyStartIndex"],[52,68,103,66],[52,69,103,67],[52,70,103,68,"join"],[52,74,103,72],[52,75,103,73],[52,81,103,79],[52,82,103,80],[52,85,103,83],[52,87,103,85],[53,8,105,6],[53,15,105,13],[54,10,105,15,"method"],[54,16,105,21],[55,10,105,23,"url"],[55,13,105,26],[56,10,105,28,"headers"],[56,17,105,35],[57,10,105,37,"body"],[58,8,105,42],[58,9,105,43],[59,6,106,4],[59,7,106,5],[59,8,106,6],[59,15,106,13,"error"],[59,20,106,18],[59,22,106,20],[60,8,107,6,"logger"],[60,14,107,12],[60,15,107,13,"info"],[60,19,107,17],[60,20,107,18],[60,65,107,63],[60,67,107,65,"error"],[60,72,107,70],[60,73,107,71],[61,8,108,6],[61,15,108,13],[61,19,108,17],[62,6,109,4],[63,4,110,2],[64,4,112,10,"formatHttpResponse"],[64,22,112,28,"formatHttpResponse"],[64,23,112,29,"response"],[64,31,112,51],[64,33,112,61],[65,6,113,4],[65,12,113,10,"statusTexts"],[65,23,113,48],[65,26,113,51],[66,8,114,6],[66,11,114,9],[66,13,114,11],[66,17,114,15],[67,8,115,6],[67,11,115,9],[67,13,115,11],[67,26,115,24],[68,8,116,6],[68,11,116,9],[68,13,116,11],[68,24,116,22],[69,8,117,6],[69,11,117,9],[69,13,117,11],[70,6,118,4],[70,7,118,5],[71,6,120,4],[71,12,120,10,"statusText"],[71,22,120,20],[71,25,120,23,"statusTexts"],[71,36,120,34],[71,37,120,35,"response"],[71,45,120,43],[71,46,120,44,"statusCode"],[71,56,120,54],[71,57,120,55],[71,61,120,59],[71,70,120,68],[72,6,121,4],[72,12,121,10,"headers"],[72,19,121,17],[72,22,121,20],[73,8,122,6],[73,24,122,22],[73,26,122,24],[73,30,122,28,"TextEncoder"],[73,41,122,39],[73,42,122,40],[73,43,122,41],[73,44,122,42,"encode"],[73,50,122,48],[73,51,122,49,"response"],[73,59,122,57],[73,60,122,58,"body"],[73,64,122,62],[73,65,122,63],[73,66,122,64,"length"],[73,72,122,70],[73,73,122,71,"toString"],[73,81,122,79],[73,82,122,80],[73,83,122,81],[74,8,123,6],[74,20,123,18],[74,22,123,20],[74,29,123,27],[75,8,124,6],[75,11,124,9,"response"],[75,19,124,17],[75,20,124,18,"headers"],[76,6,125,4],[76,7,125,5],[77,6,127,4],[77,10,127,8,"httpResponse"],[77,22,127,20],[77,25,127,23],[77,37,127,35,"response"],[77,45,127,43],[77,46,127,44,"statusCode"],[77,56,127,54],[77,60,127,58,"statusText"],[77,70,127,68],[77,76,127,74],[78,6,129,4],[78,11,129,9],[78,17,129,15],[78,18,129,16,"key"],[78,21,129,19],[78,23,129,21,"value"],[78,28,129,26],[78,29,129,27],[78,33,129,31,"Object"],[78,39,129,37],[78,40,129,38,"entries"],[78,47,129,45],[78,48,129,46,"headers"],[78,55,129,53],[78,56,129,54],[78,58,129,56],[79,8,130,6,"httpResponse"],[79,20,130,18],[79,24,130,22],[79,27,130,25,"key"],[79,30,130,28],[79,35,130,33,"value"],[79,40,130,38],[79,46,130,44],[80,6,131,4],[81,6,133,4,"httpResponse"],[81,18,133,16],[81,22,133,20],[81,28,133,26],[82,6,134,4,"httpResponse"],[82,18,134,16],[82,22,134,20,"response"],[82,30,134,28],[82,31,134,29,"body"],[82,35,134,33],[83,6,136,4],[83,13,136,11,"httpResponse"],[83,25,136,23],[84,4,137,2],[85,4,139,9,"setRequestHandler"],[85,21,139,26,"setRequestHandler"],[85,22,139,27,"handler"],[85,29,139,50],[85,31,139,52],[86,6,140,4],[86,10,140,8],[86,11,140,9,"requestHandler"],[86,25,140,23],[86,28,140,26,"handler"],[86,35,140,33],[87,4,141,2],[88,4,143,2],[88,10,143,15,"start"],[88,15,143,20,"start"],[88,16,143,20],[88,18,143,40],[89,6,144,4],[90,6,145,4],[90,10,145,8],[90,14,145,12],[90,15,145,13,"server"],[90,21,145,19],[90,25,145,23],[90,26,145,24],[90,30,145,28],[90,31,145,29,"isRunning"],[90,40,145,38],[90,42,145,40],[91,8,146,6],[91,12,146,10],[92,10,147,8],[92,14,147,12],[92,15,147,13,"server"],[92,21,147,19],[92,22,147,20,"close"],[92,27,147,25],[92,28,147,26],[92,29,147,27],[93,10,148,8,"logger"],[93,16,148,14],[93,17,148,15,"debug"],[93,22,148,20],[93,23,148,21],[93,67,148,65],[93,68,148,66],[94,8,149,6],[94,9,149,7],[94,10,149,8],[94,17,149,15,"error"],[94,22,149,20],[94,24,149,22],[95,10,150,8,"logger"],[95,16,150,14],[95,17,150,15,"info"],[95,21,150,19],[95,22,150,20],[95,65,150,63],[95,67,150,65,"error"],[95,72,150,70],[95,73,150,71],[96,8,151,6],[97,8,152,6],[97,12,152,10],[97,13,152,11,"server"],[97,19,152,17],[97,22,152,20],[97,26,152,24],[98,6,153,4],[99,6,155,4],[99,12,155,10,"netState"],[99,20,155,18],[99,23,155,21],[99,29,155,27,"NetInfo"],[99,45,155,34],[99,46,155,35,"fetch"],[99,51,155,40],[99,52,155,41],[99,53,155,42],[100,6,156,4],[100,10,156,8,"ipAddress"],[100,19,156,32],[100,22,156,35],[100,26,156,39],[101,6,158,4],[101,10,158,8,"netState"],[101,18,158,16],[101,19,158,17,"type"],[101,23,158,21],[101,28,158,26],[101,34,158,32],[101,38,158,36,"netState"],[101,46,158,44],[101,47,158,45,"type"],[101,51,158,49],[101,56,158,54],[101,66,158,64],[101,68,158,66],[102,8,159,6,"ipAddress"],[102,17,159,15],[102,20,159,19,"netState"],[102,28,159,27],[102,29,159,28,"details"],[102,36,159,35],[102,38,159,45,"ipAddress"],[102,47,159,54],[102,51,159,58],[102,55,159,62],[103,6,160,4],[104,6,162,4],[104,10,162,8],[104,11,162,9,"ipAddress"],[104,20,162,18],[104,22,162,20],[105,8,163,6],[105,14,163,12],[105,18,163,16,"Error"],[105,23,163,21],[105,24,163,22],[105,53,163,51],[105,54,163,52],[106,6,164,4],[107,6,166,4],[107,10,166,8],[107,14,166,12],[107,15,166,13,"isRunning"],[107,24,166,22],[107,26,166,24],[108,8,167,6,"logger"],[108,14,167,12],[108,15,167,13,"debug"],[108,20,167,18],[108,21,167,19],[108,65,167,63],[108,66,167,64],[109,8,168,6],[109,15,168,13],[109,25,168,23,"ipAddress"],[109,34,168,32],[109,38,168,36,"PORT"],[109,42,168,40],[109,44,168,42],[110,6,169,4],[112,6,171,4],[113,6,172,4],[113,10,172,8,"Platform"],[113,27,172,16],[113,28,172,17,"OS"],[113,30,172,19],[113,35,172,24],[113,40,172,29],[113,42,172,31],[114,8,173,6,"logger"],[114,14,173,12],[114,15,173,13,"error"],[114,20,173,18],[114,21,173,19],[114,79,173,77],[114,80,173,78],[115,8,174,6],[115,14,174,12],[115,18,174,16,"Error"],[115,23,174,21],[115,24,174,22],[115,40,174,38],[115,41,174,39],[116,6,175,4],[117,6,177,4],[117,13,177,11],[117,17,177,15,"Promise"],[117,24,177,22],[117,25,177,23],[117,26,177,24,"resolve"],[117,33,177,31],[117,35,177,33,"reject"],[117,41,177,39],[117,46,177,44],[118,8,178,6],[118,12,178,10],[119,10,179,8],[120,10,180,8],[120,14,180,12],[120,15,180,13,"TcpSocket"],[120,24,180,22],[120,28,180,26],[120,35,180,33,"TcpSocket"],[120,44,180,42],[120,45,180,43,"createServer"],[120,57,180,55],[120,62,180,60],[120,72,180,70],[120,74,180,72],[121,12,181,10,"logger"],[121,18,181,16],[121,19,181,17,"error"],[121,24,181,22],[121,25,181,23],[121,93,181,91],[121,94,181,92],[122,12,182,10,"reject"],[122,18,182,16],[122,19,182,17],[122,23,182,21,"Error"],[122,28,182,26],[122,29,182,27],[122,42,182,40],[122,43,182,41],[122,44,182,42],[123,12,183,10],[124,10,184,8],[126,10,186,8],[127,10,187,8],[127,14,187,12],[127,18,187,16],[127,19,187,17,"server"],[127,25,187,23],[127,27,187,25],[128,12,188,10],[128,16,188,14],[129,14,189,12],[129,18,189,16],[129,19,189,17,"server"],[129,25,189,23],[129,26,189,24,"close"],[129,31,189,29],[129,32,189,30],[129,33,189,31],[130,12,190,10],[130,13,190,11],[130,14,190,12],[130,21,190,19,"error"],[130,26,190,24],[130,28,190,26],[131,14,191,12,"logger"],[131,20,191,18],[131,21,191,19,"info"],[131,25,191,23],[131,26,191,24],[131,74,191,72],[131,76,191,74,"error"],[131,81,191,79],[131,82,191,80],[132,12,192,10],[133,12,193,10],[133,16,193,14],[133,17,193,15,"server"],[133,23,193,21],[133,26,193,24],[133,30,193,28],[134,10,194,8],[136,10,196,8],[137,10,197,8],[137,14,197,12],[137,15,197,13,"server"],[137,21,197,19],[137,24,197,22,"TcpSocket"],[137,33,197,31],[137,34,197,32,"createServer"],[137,46,197,44],[137,47,197,46,"socket"],[137,53,197,71],[137,57,197,76],[138,12,198,10,"logger"],[138,18,198,16],[138,19,198,17,"debug"],[138,24,198,22],[138,25,198,23],[138,59,198,57],[138,60,198,58],[139,12,200,10],[139,16,200,14,"requestData"],[139,27,200,25],[139,30,200,28],[139,32,200,30],[140,12,202,10,"socket"],[140,18,202,16],[140,19,202,17,"on"],[140,21,202,19],[140,22,202,20],[140,28,202,26],[140,30,202,28],[140,36,202,35,"data"],[140,40,202,56],[140,44,202,61],[141,14,203,12,"requestData"],[141,25,203,23],[141,29,203,27,"data"],[141,33,203,31],[141,34,203,32,"toString"],[141,42,203,40],[141,43,203,41],[141,44,203,42],[143,14,205,12],[144,14,206,12],[144,18,206,16,"requestData"],[144,29,206,27],[144,30,206,28,"includes"],[144,38,206,36],[144,39,206,37],[144,49,206,47],[144,50,206,48],[144,52,206,50],[145,16,207,14],[145,20,207,18],[146,18,208,16],[146,24,208,22,"request"],[146,31,208,29],[146,34,208,32],[146,38,208,36],[146,39,208,37,"parseHttpRequest"],[146,55,208,53],[146,56,208,54,"requestData"],[146,67,208,65],[146,68,208,66],[147,18,209,16],[147,22,209,20,"request"],[147,29,209,27],[147,33,209,31],[147,37,209,35],[147,38,209,36,"requestHandler"],[147,52,209,50],[147,54,209,52],[148,20,210,18],[148,26,210,24,"response"],[148,34,210,32],[148,37,210,35],[148,43,210,41],[148,47,210,45],[148,48,210,46,"requestHandler"],[148,62,210,60],[148,63,210,61,"request"],[148,70,210,68],[148,71,210,69],[149,20,211,18],[149,26,211,24,"httpResponse"],[149,38,211,36],[149,41,211,39],[149,45,211,43],[149,46,211,44,"formatHttpResponse"],[149,64,211,62],[149,65,211,63,"response"],[149,73,211,71],[149,74,211,72],[150,20,212,18,"socket"],[150,26,212,24],[150,27,212,25,"write"],[150,32,212,30],[150,33,212,31,"httpResponse"],[150,45,212,43],[150,46,212,44],[151,18,213,16],[151,19,213,17],[151,25,213,23],[152,20,214,18],[153,20,215,18],[153,26,215,24,"errorResponse"],[153,39,215,37],[153,42,215,40],[153,46,215,44],[153,47,215,45,"formatHttpResponse"],[153,65,215,63],[153,66,215,64],[154,22,216,20,"statusCode"],[154,32,216,30],[154,34,216,32],[154,37,216,35],[155,22,217,20,"headers"],[155,29,217,27],[155,31,217,29],[156,24,217,31],[156,38,217,45],[156,40,217,47],[157,22,217,60],[157,23,217,61],[158,22,218,20,"body"],[158,26,218,24],[158,28,218,26],[159,20,219,18],[159,21,219,19],[159,22,219,20],[160,20,220,18,"socket"],[160,26,220,24],[160,27,220,25,"write"],[160,32,220,30],[160,33,220,31,"errorResponse"],[160,46,220,44],[160,47,220,45],[161,18,221,16],[162,16,222,14],[162,17,222,15],[162,18,222,16],[162,25,222,23,"error"],[162,30,222,28],[162,32,222,30],[163,18,223,16,"logger"],[163,24,223,22],[163,25,223,23,"info"],[163,29,223,27],[163,30,223,28],[163,71,223,69],[163,73,223,71,"error"],[163,78,223,76],[163,79,223,77],[164,18,224,16],[164,24,224,22,"errorResponse"],[164,37,224,35],[164,40,224,38],[164,44,224,42],[164,45,224,43,"formatHttpResponse"],[164,63,224,61],[164,64,224,62],[165,20,225,18,"statusCode"],[165,30,225,28],[165,32,225,30],[165,35,225,33],[166,20,226,18,"headers"],[166,27,226,25],[166,29,226,27],[167,22,226,29],[167,36,226,43],[167,38,226,45],[168,20,226,58],[168,21,226,59],[169,20,227,18,"body"],[169,24,227,22],[169,26,227,24],[170,18,228,16],[170,19,228,17],[170,20,228,18],[171,18,229,16,"socket"],[171,24,229,22],[171,25,229,23,"write"],[171,30,229,28],[171,31,229,29,"errorResponse"],[171,44,229,42],[171,45,229,43],[172,16,230,14],[173,16,232,14,"socket"],[173,22,232,20],[173,23,232,21,"end"],[173,26,232,24],[173,27,232,25],[173,28,232,26],[174,16,233,14,"requestData"],[174,27,233,25],[174,30,233,28],[174,32,233,30],[175,14,234,12],[176,12,235,10],[176,13,235,11],[176,14,235,12],[177,12,237,10,"socket"],[177,18,237,16],[177,19,237,17,"on"],[177,21,237,19],[177,22,237,20],[177,29,237,27],[177,31,237,30,"error"],[177,36,237,42],[177,40,237,47],[178,14,238,12,"logger"],[178,20,238,18],[178,21,238,19,"info"],[178,25,238,23],[178,26,238,24],[178,57,238,55],[178,59,238,57,"error"],[178,64,238,62],[178,65,238,63],[179,12,239,10],[179,13,239,11],[179,14,239,12],[180,12,241,10,"socket"],[180,18,241,16],[180,19,241,17,"on"],[180,21,241,19],[180,22,241,20],[180,29,241,27],[180,31,241,29],[180,37,241,35],[181,14,242,12,"logger"],[181,20,242,18],[181,21,242,19,"debug"],[181,26,242,24],[181,27,242,25],[181,64,242,62],[181,65,242,63],[182,12,243,10],[182,13,243,11],[182,14,243,12],[183,10,244,8],[183,11,244,9],[183,12,244,10],[185,10,246,8],[186,10,247,8],[186,14,247,12],[186,15,247,13],[186,19,247,17],[186,20,247,18,"server"],[186,26,247,24],[186,28,247,26],[187,12,248,10,"logger"],[187,18,248,16],[187,19,248,17,"error"],[187,24,248,22],[187,25,248,23],[187,66,248,64],[187,67,248,65],[188,12,249,10,"reject"],[188,18,249,16],[188,19,249,17],[188,23,249,21,"Error"],[188,28,249,26],[188,29,249,27],[188,40,249,38],[188,41,249,39],[188,42,249,40],[189,12,250,10],[190,10,251,8],[192,10,253,8],[193,10,254,8],[193,14,254,12],[193,15,254,13],[193,19,254,17],[193,20,254,18,"server"],[193,26,254,24],[193,27,254,25,"listen"],[193,33,254,31],[193,37,254,35],[193,44,254,42],[193,48,254,46],[193,49,254,47,"server"],[193,55,254,53],[193,56,254,54,"listen"],[193,62,254,60],[193,67,254,65],[193,77,254,75],[193,79,254,77],[194,12,255,10,"logger"],[194,18,255,16],[194,19,255,17,"error"],[194,24,255,22],[194,25,255,23],[194,98,255,96],[194,99,255,97],[195,12,256,10,"reject"],[195,18,256,16],[195,19,256,17],[195,23,256,21,"Error"],[195,28,256,26],[195,29,256,27],[195,41,256,39],[195,42,256,40],[195,43,256,41],[196,12,257,10],[197,10,258,8],[198,10,260,8],[198,14,260,12],[198,15,260,13,"server"],[198,21,260,19],[198,22,260,20,"listen"],[198,28,260,26],[198,29,260,27],[199,12,260,29,"port"],[199,16,260,33],[199,18,260,35,"PORT"],[199,22,260,39],[200,12,260,41,"host"],[200,16,260,45],[200,18,260,47],[201,10,260,57],[201,11,260,58],[201,13,260,60],[201,19,260,66],[202,12,261,10,"logger"],[202,18,261,16],[202,19,261,17,"debug"],[202,24,261,22],[202,25,261,23],[202,64,261,62,"ipAddress"],[202,73,261,71],[202,77,261,75,"PORT"],[202,81,261,79],[202,83,261,81],[202,84,261,82],[203,12,262,10],[203,16,262,14],[203,17,262,15,"isRunning"],[203,26,262,24],[203,29,262,27],[203,33,262,31],[204,12,263,10,"resolve"],[204,19,263,17],[204,20,263,18],[204,30,263,28,"ipAddress"],[204,39,263,37],[204,43,263,41,"PORT"],[204,47,263,45],[204,49,263,47],[204,50,263,48],[205,10,264,8],[205,11,264,9],[205,12,264,10],[206,10,266,8],[206,14,266,12],[206,15,266,13,"server"],[206,21,266,19],[206,22,266,20,"on"],[206,24,266,22],[206,25,266,23],[206,32,266,30],[206,34,266,33,"error"],[206,39,266,45],[206,43,266,50],[207,12,267,10,"logger"],[207,18,267,16],[207,19,267,17,"info"],[207,23,267,21],[207,24,267,22],[207,55,267,53],[207,57,267,55,"error"],[207,62,267,60],[207,63,267,61],[208,12,268,10],[208,16,268,14],[208,17,268,15,"isRunning"],[208,26,268,24],[208,29,268,27],[208,34,268,32],[209,12,269,10],[210,12,270,10],[210,16,270,14,"error"],[210,21,270,19],[210,22,270,20,"message"],[210,29,270,27],[210,33,270,31,"error"],[210,38,270,36],[210,39,270,37,"message"],[210,46,270,44],[210,47,270,45,"includes"],[210,55,270,53],[210,56,270,54],[210,68,270,66],[210,69,270,67],[210,71,270,69],[211,14,271,12,"reject"],[211,20,271,18],[211,21,271,19],[211,25,271,23,"Error"],[211,30,271,28],[211,31,271,29],[211,51,271,49],[211,52,271,50],[211,53,271,51],[212,12,272,10],[212,13,272,11],[212,19,272,17],[213,14,273,12,"reject"],[213,20,273,18],[213,21,273,19,"error"],[213,26,273,24],[213,27,273,25],[214,12,274,10],[215,10,275,8],[215,11,275,9],[215,12,275,10],[216,8,277,6],[216,9,277,7],[216,10,277,8],[216,17,277,15,"error"],[216,22,277,20],[216,24,277,22],[217,10,278,8,"logger"],[217,16,278,14],[217,17,278,15,"info"],[217,21,278,19],[217,22,278,20],[217,63,278,61],[217,65,278,63,"error"],[217,70,278,68],[217,71,278,69],[218,10,279,8,"reject"],[218,16,279,14],[218,17,279,15,"error"],[218,22,279,20],[218,23,279,21],[219,8,280,6],[220,6,281,4],[220,7,281,5],[220,8,281,6],[221,4,282,2],[222,4,284,9,"stop"],[222,8,284,13,"stop"],[222,9,284,13],[222,11,284,16],[223,6,285,4],[223,10,285,8],[224,8,286,6],[224,12,286,10],[224,16,286,14],[224,17,286,15,"server"],[224,23,286,21],[224,25,286,23],[225,10,287,8],[225,14,287,12],[225,15,287,13,"server"],[225,21,287,19],[225,22,287,20,"close"],[225,27,287,25],[225,28,287,26],[225,29,287,27],[226,10,288,8,"logger"],[226,16,288,14],[226,17,288,15,"debug"],[226,22,288,20],[226,23,288,21],[226,55,288,53],[226,56,288,54],[227,8,289,6],[228,6,290,4],[228,7,290,5],[228,8,290,6],[228,15,290,13,"error"],[228,20,290,18],[228,22,290,20],[229,8,291,6,"logger"],[229,14,291,12],[229,15,291,13,"info"],[229,19,291,17],[229,20,291,18],[229,60,291,58],[229,62,291,60,"error"],[229,67,291,65],[229,68,291,66],[230,6,292,4],[230,7,292,5],[230,16,292,14],[231,8,293,6],[231,12,293,10],[231,13,293,11,"isRunning"],[231,22,293,20],[231,25,293,23],[231,30,293,28],[232,8,294,6],[232,12,294,10],[232,13,294,11,"server"],[232,19,294,17],[232,22,294,20],[232,26,294,24],[233,6,295,4],[234,4,296,2],[235,4,298,9,"getIsRunning"],[235,16,298,21,"getIsRunning"],[235,17,298,21],[235,19,298,33],[236,6,299,4],[236,13,299,11],[236,17,299,15],[236,18,299,16,"isRunning"],[236,27,299,25],[237,4,300,2],[238,2,301,0],[239,2,301,1],[239,6,301,1,"_default"],[239,14,301,1],[239,17,301,1,"exports"],[239,24,301,1],[239,25,301,1,"default"],[239,32,301,1],[239,35,303,15,"TCPHttpServer"],[239,48,303,28],[240,0,303,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;ACiE;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}