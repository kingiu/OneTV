{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":302,"column":29,"index":9055}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":302,"column":29,"index":9055}}],"key":"jM/HC84YZkM9kLoiCo0Bpf0Xr+w="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":26,"column":0,"index":808},"end":{"line":26,"column":54,"index":862}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":27,"column":0,"index":863},"end":{"line":27,"column":36,"index":899}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":23,"index":114},"end":{"line":5,"column":57,"index":148}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _Platform = _interopRequireDefault(require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\"));\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[3], \"@/utils/Logger\"));\n  // Buffer类型将在expo-env.d.ts中声明\n\n  // 直接使用any类型避免类型冲突\n  const TcpSocket = require(_dependencyMap[4], \"react-native-tcp-socket\");\n\n  // 定义本地使用的接口类型\n\n  const logger = _Logger.default.withTag('TCPHttpServer');\n  const PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n\n  class TCPHttpServer {\n    server = null;\n    isRunning = false;\n    requestHandler = null;\n    constructor() {\n      this.server = null;\n    }\n    parseHttpRequest(data) {\n      try {\n        const lines = data.split('\\r\\n');\n        const requestLine = lines[0].split(' ');\n        if (requestLine.length < 3) {\n          return null;\n        }\n        const method = requestLine[0];\n        const url = requestLine[1];\n        const headers = {};\n        let bodyStartIndex = -1;\n        for (let i = 1; i < lines.length; i++) {\n          const line = lines[i];\n          if (line === '') {\n            bodyStartIndex = i + 1;\n            break;\n          }\n          const colonIndex = line.indexOf(':');\n          if (colonIndex > 0) {\n            const key = line.substring(0, colonIndex).trim().toLowerCase();\n            const value = line.substring(colonIndex + 1).trim();\n            headers[key] = value;\n          }\n        }\n        const body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n        return {\n          method,\n          url,\n          headers,\n          body\n        };\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n        return null;\n      }\n    }\n    formatHttpResponse(response) {\n      const statusTexts = {\n        200: 'OK',\n        400: 'Bad Request',\n        404: 'Not Found',\n        500: 'Internal Server Error'\n      };\n      const statusText = statusTexts[response.statusCode] || 'Unknown';\n      const headers = {\n        'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n        'Connection': 'close',\n        ...response.headers\n      };\n      let httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n      for (const [key, value] of Object.entries(headers)) {\n        httpResponse += `${key}: ${value}\\r\\n`;\n      }\n      httpResponse += '\\r\\n';\n      httpResponse += response.body;\n      return httpResponse;\n    }\n    setRequestHandler(handler) {\n      this.requestHandler = handler;\n    }\n    async start() {\n      // 确保之前的服务器实例已关闭\n      if (this.server && !this.isRunning) {\n        try {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Old server instance closed');\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error closing old server:', error);\n        }\n        this.server = null;\n      }\n      const netState = await _netinfo.default.fetch();\n      let ipAddress = null;\n      if (netState.type === 'wifi' || netState.type === 'ethernet') {\n        ipAddress = netState.details?.ipAddress ?? null;\n      }\n      if (!ipAddress) {\n        throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n      }\n      if (this.isRunning) {\n        logger.debug('[TCPHttpServer] Server is already running.');\n        return `http://${ipAddress}:${PORT}`;\n      }\n\n      // Web平台不支持TCP服务器\n      if (_Platform.default.OS === 'web') {\n        logger.error('[TCPHttpServer] TCP server not supported on web platform');\n        throw new Error('Web平台不支持TCP服务器');\n      }\n      return new Promise((resolve, reject) => {\n        try {\n          // 检查TcpSocket是否可用\n          if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n            logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n            reject(new Error('TCP服务器初始化失败'));\n            return;\n          }\n\n          // 确保在创建新服务器前，server为null\n          if (this.server) {\n            try {\n              this.server.close();\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing previous server:', error);\n            }\n            this.server = null;\n          }\n\n          // 创建服务器实例\n          this.server = TcpSocket.createServer(socket => {\n            logger.debug('[TCPHttpServer] Client connected');\n            let requestData = '';\n            socket.on('data', async data => {\n              requestData += data.toString();\n\n              // Check if we have a complete HTTP request\n              if (requestData.includes('\\r\\n\\r\\n')) {\n                try {\n                  const request = this.parseHttpRequest(requestData);\n                  if (request && this.requestHandler) {\n                    const response = await this.requestHandler(request);\n                    const httpResponse = this.formatHttpResponse(response);\n                    socket.write(httpResponse);\n                  } else {\n                    // Send 400 Bad Request for malformed requests\n                    const errorResponse = this.formatHttpResponse({\n                      statusCode: 400,\n                      headers: {\n                        'Content-Type': 'text/plain'\n                      },\n                      body: 'Bad Request'\n                    });\n                    socket.write(errorResponse);\n                  }\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error handling request:', error);\n                  const errorResponse = this.formatHttpResponse({\n                    statusCode: 500,\n                    headers: {\n                      'Content-Type': 'text/plain'\n                    },\n                    body: 'Internal Server Error'\n                  });\n                  socket.write(errorResponse);\n                }\n                socket.end();\n                requestData = '';\n              }\n            });\n            socket.on('error', error => {\n              logger.info('[TCPHttpServer] Socket error:', error);\n            });\n            socket.on('close', () => {\n              logger.debug('[TCPHttpServer] Client disconnected');\n            });\n          });\n\n          // 确保server不为null再调用listen\n          if (!this.server) {\n            logger.error('[TCPHttpServer] Server instance is null');\n            reject(new Error('服务器实例创建失败'));\n            return;\n          }\n\n          // 添加错误处理，确保listen方法存在并且是函数\n          if (!this.server.listen || typeof this.server.listen !== 'function') {\n            logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n            reject(new Error('服务器监听方法不可用'));\n            return;\n          }\n          this.server.listen({\n            port: PORT,\n            host: '0.0.0.0'\n          }, () => {\n            logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n            this.isRunning = true;\n            resolve(`http://${ipAddress}:${PORT}`);\n          });\n          this.server.on('error', error => {\n            logger.info('[TCPHttpServer] Server error:', error);\n            this.isRunning = false;\n            // 针对端口占用的错误提供更友好的消息\n            if (error.message && error.message.includes('EADDRINUSE')) {\n              reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n            } else {\n              reject(error);\n            }\n          });\n        } catch (error) {\n          logger.info('[TCPHttpServer] Failed to start server:', error);\n          reject(error);\n        }\n      });\n    }\n    stop() {\n      try {\n        if (this.server) {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Server stopped');\n        }\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error stopping server:', error);\n      } finally {\n        this.isRunning = false;\n        this.server = null;\n      }\n    }\n    getIsRunning() {\n      return this.isRunning;\n    }\n  }\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":243,"map":[[8,2,26,0],[8,6,26,0,"_netinfo"],[8,14,26,0],[8,17,26,0,"_interopRequireDefault"],[8,39,26,0],[8,40,26,0,"require"],[8,47,26,0],[8,48,26,0,"_dependencyMap"],[8,62,26,0],[9,2,27,0],[9,6,27,0,"_Logger"],[9,13,27,0],[9,16,27,0,"_interopRequireDefault"],[9,38,27,0],[9,39,27,0,"require"],[9,46,27,0],[9,47,27,0,"_dependencyMap"],[9,61,27,0],[10,2,2,0],[12,2,4,0],[13,2,5,0],[13,8,5,6,"TcpSocket"],[13,17,5,20],[13,20,5,23,"require"],[13,27,5,30],[13,28,5,30,"_dependencyMap"],[13,42,5,30],[13,72,5,56],[13,73,5,57],[15,2,7,0],[17,2,29,0],[17,8,29,6,"logger"],[17,14,29,12],[17,17,29,15,"Logger"],[17,32,29,21],[17,33,29,22,"withTag"],[17,40,29,29],[17,41,29,30],[17,56,29,45],[17,57,29,46],[18,2,31,0],[18,8,31,6,"PORT"],[18,12,31,10],[18,15,31,13],[18,20,31,18],[20,2,33,0],[22,2,40,0],[24,2,65,0],[24,8,65,6,"TCPHttpServer"],[24,21,65,19],[24,22,65,20],[25,4,66,10,"server"],[25,10,66,16],[25,13,66,45],[25,17,66,49],[26,4,67,10,"isRunning"],[26,13,67,19],[26,16,67,22],[26,21,67,27],[27,4,68,10,"requestHandler"],[27,18,68,24],[27,21,68,50],[27,25,68,54],[28,4,70,2,"constructor"],[28,15,70,13,"constructor"],[28,16,70,13],[28,18,70,16],[29,6,71,4],[29,10,71,8],[29,11,71,9,"server"],[29,17,71,15],[29,20,71,18],[29,24,71,22],[30,4,72,2],[31,4,74,10,"parseHttpRequest"],[31,20,74,26,"parseHttpRequest"],[31,21,74,27,"data"],[31,25,74,39],[31,27,74,61],[32,6,75,4],[32,10,75,8],[33,8,76,6],[33,14,76,12,"lines"],[33,19,76,17],[33,22,76,20,"data"],[33,26,76,24],[33,27,76,25,"split"],[33,32,76,30],[33,33,76,31],[33,39,76,37],[33,40,76,38],[34,8,77,6],[34,14,77,12,"requestLine"],[34,25,77,23],[34,28,77,26,"lines"],[34,33,77,31],[34,34,77,32],[34,35,77,33],[34,36,77,34],[34,37,77,35,"split"],[34,42,77,40],[34,43,77,41],[34,46,77,44],[34,47,77,45],[35,8,79,6],[35,12,79,10,"requestLine"],[35,23,79,21],[35,24,79,22,"length"],[35,30,79,28],[35,33,79,31],[35,34,79,32],[35,36,79,34],[36,10,80,8],[36,17,80,15],[36,21,80,19],[37,8,81,6],[38,8,83,6],[38,14,83,12,"method"],[38,20,83,18],[38,23,83,21,"requestLine"],[38,34,83,32],[38,35,83,33],[38,36,83,34],[38,37,83,35],[39,8,84,6],[39,14,84,12,"url"],[39,17,84,15],[39,20,84,18,"requestLine"],[39,31,84,29],[39,32,84,30],[39,33,84,31],[39,34,84,32],[40,8,85,6],[40,14,85,12,"headers"],[40,21,85,46],[40,24,85,49],[40,25,85,50],[40,26,85,51],[41,8,87,6],[41,12,87,10,"bodyStartIndex"],[41,26,87,24],[41,29,87,27],[41,30,87,28],[41,31,87,29],[42,8,88,6],[42,13,88,11],[42,17,88,15,"i"],[42,18,88,16],[42,21,88,19],[42,22,88,20],[42,24,88,22,"i"],[42,25,88,23],[42,28,88,26,"lines"],[42,33,88,31],[42,34,88,32,"length"],[42,40,88,38],[42,42,88,40,"i"],[42,43,88,41],[42,45,88,43],[42,47,88,45],[43,10,89,8],[43,16,89,14,"line"],[43,20,89,18],[43,23,89,21,"lines"],[43,28,89,26],[43,29,89,27,"i"],[43,30,89,28],[43,31,89,29],[44,10,90,8],[44,14,90,12,"line"],[44,18,90,16],[44,23,90,21],[44,25,90,23],[44,27,90,25],[45,12,91,10,"bodyStartIndex"],[45,26,91,24],[45,29,91,27,"i"],[45,30,91,28],[45,33,91,31],[45,34,91,32],[46,12,92,10],[47,10,93,8],[48,10,94,8],[48,16,94,14,"colonIndex"],[48,26,94,24],[48,29,94,27,"line"],[48,33,94,31],[48,34,94,32,"indexOf"],[48,41,94,39],[48,42,94,40],[48,45,94,43],[48,46,94,44],[49,10,95,8],[49,14,95,12,"colonIndex"],[49,24,95,22],[49,27,95,25],[49,28,95,26],[49,30,95,28],[50,12,96,10],[50,18,96,16,"key"],[50,21,96,19],[50,24,96,22,"line"],[50,28,96,26],[50,29,96,27,"substring"],[50,38,96,36],[50,39,96,37],[50,40,96,38],[50,42,96,40,"colonIndex"],[50,52,96,50],[50,53,96,51],[50,54,96,52,"trim"],[50,58,96,56],[50,59,96,57],[50,60,96,58],[50,61,96,59,"toLowerCase"],[50,72,96,70],[50,73,96,71],[50,74,96,72],[51,12,97,10],[51,18,97,16,"value"],[51,23,97,21],[51,26,97,24,"line"],[51,30,97,28],[51,31,97,29,"substring"],[51,40,97,38],[51,41,97,39,"colonIndex"],[51,51,97,49],[51,54,97,52],[51,55,97,53],[51,56,97,54],[51,57,97,55,"trim"],[51,61,97,59],[51,62,97,60],[51,63,97,61],[52,12,98,10,"headers"],[52,19,98,17],[52,20,98,18,"key"],[52,23,98,21],[52,24,98,22],[52,27,98,25,"value"],[52,32,98,30],[53,10,99,8],[54,8,100,6],[55,8,102,6],[55,14,102,12,"body"],[55,18,102,16],[55,21,102,19,"bodyStartIndex"],[55,35,102,33],[55,38,102,36],[55,39,102,37],[55,42,102,40,"lines"],[55,47,102,45],[55,48,102,46,"slice"],[55,53,102,51],[55,54,102,52,"bodyStartIndex"],[55,68,102,66],[55,69,102,67],[55,70,102,68,"join"],[55,74,102,72],[55,75,102,73],[55,81,102,79],[55,82,102,80],[55,85,102,83],[55,87,102,85],[56,8,104,6],[56,15,104,13],[57,10,104,15,"method"],[57,16,104,21],[58,10,104,23,"url"],[58,13,104,26],[59,10,104,28,"headers"],[59,17,104,35],[60,10,104,37,"body"],[61,8,104,42],[61,9,104,43],[62,6,105,4],[62,7,105,5],[62,8,105,6],[62,15,105,13,"error"],[62,20,105,18],[62,22,105,20],[63,8,106,6,"logger"],[63,14,106,12],[63,15,106,13,"info"],[63,19,106,17],[63,20,106,18],[63,65,106,63],[63,67,106,65,"error"],[63,72,106,70],[63,73,106,71],[64,8,107,6],[64,15,107,13],[64,19,107,17],[65,6,108,4],[66,4,109,2],[67,4,111,10,"formatHttpResponse"],[67,22,111,28,"formatHttpResponse"],[67,23,111,29,"response"],[67,31,111,51],[67,33,111,61],[68,6,112,4],[68,12,112,10,"statusTexts"],[68,23,112,48],[68,26,112,51],[69,8,113,6],[69,11,113,9],[69,13,113,11],[69,17,113,15],[70,8,114,6],[70,11,114,9],[70,13,114,11],[70,26,114,24],[71,8,115,6],[71,11,115,9],[71,13,115,11],[71,24,115,22],[72,8,116,6],[72,11,116,9],[72,13,116,11],[73,6,117,4],[73,7,117,5],[74,6,119,4],[74,12,119,10,"statusText"],[74,22,119,20],[74,25,119,23,"statusTexts"],[74,36,119,34],[74,37,119,35,"response"],[74,45,119,43],[74,46,119,44,"statusCode"],[74,56,119,54],[74,57,119,55],[74,61,119,59],[74,70,119,68],[75,6,120,4],[75,12,120,10,"headers"],[75,19,120,17],[75,22,120,20],[76,8,121,6],[76,24,121,22],[76,26,121,24],[76,30,121,28,"TextEncoder"],[76,41,121,39],[76,42,121,40],[76,43,121,41],[76,44,121,42,"encode"],[76,50,121,48],[76,51,121,49,"response"],[76,59,121,57],[76,60,121,58,"body"],[76,64,121,62],[76,65,121,63],[76,66,121,64,"length"],[76,72,121,70],[76,73,121,71,"toString"],[76,81,121,79],[76,82,121,80],[76,83,121,81],[77,8,122,6],[77,20,122,18],[77,22,122,20],[77,29,122,27],[78,8,123,6],[78,11,123,9,"response"],[78,19,123,17],[78,20,123,18,"headers"],[79,6,124,4],[79,7,124,5],[80,6,126,4],[80,10,126,8,"httpResponse"],[80,22,126,20],[80,25,126,23],[80,37,126,35,"response"],[80,45,126,43],[80,46,126,44,"statusCode"],[80,56,126,54],[80,60,126,58,"statusText"],[80,70,126,68],[80,76,126,74],[81,6,128,4],[81,11,128,9],[81,17,128,15],[81,18,128,16,"key"],[81,21,128,19],[81,23,128,21,"value"],[81,28,128,26],[81,29,128,27],[81,33,128,31,"Object"],[81,39,128,37],[81,40,128,38,"entries"],[81,47,128,45],[81,48,128,46,"headers"],[81,55,128,53],[81,56,128,54],[81,58,128,56],[82,8,129,6,"httpResponse"],[82,20,129,18],[82,24,129,22],[82,27,129,25,"key"],[82,30,129,28],[82,35,129,33,"value"],[82,40,129,38],[82,46,129,44],[83,6,130,4],[84,6,132,4,"httpResponse"],[84,18,132,16],[84,22,132,20],[84,28,132,26],[85,6,133,4,"httpResponse"],[85,18,133,16],[85,22,133,20,"response"],[85,30,133,28],[85,31,133,29,"body"],[85,35,133,33],[86,6,135,4],[86,13,135,11,"httpResponse"],[86,25,135,23],[87,4,136,2],[88,4,138,9,"setRequestHandler"],[88,21,138,26,"setRequestHandler"],[88,22,138,27,"handler"],[88,29,138,50],[88,31,138,52],[89,6,139,4],[89,10,139,8],[89,11,139,9,"requestHandler"],[89,25,139,23],[89,28,139,26,"handler"],[89,35,139,33],[90,4,140,2],[91,4,142,2],[91,10,142,15,"start"],[91,15,142,20,"start"],[91,16,142,20],[91,18,142,40],[92,6,143,4],[93,6,144,4],[93,10,144,8],[93,14,144,12],[93,15,144,13,"server"],[93,21,144,19],[93,25,144,23],[93,26,144,24],[93,30,144,28],[93,31,144,29,"isRunning"],[93,40,144,38],[93,42,144,40],[94,8,145,6],[94,12,145,10],[95,10,146,8],[95,14,146,12],[95,15,146,13,"server"],[95,21,146,19],[95,22,146,20,"close"],[95,27,146,25],[95,28,146,26],[95,29,146,27],[96,10,147,8,"logger"],[96,16,147,14],[96,17,147,15,"debug"],[96,22,147,20],[96,23,147,21],[96,67,147,65],[96,68,147,66],[97,8,148,6],[97,9,148,7],[97,10,148,8],[97,17,148,15,"error"],[97,22,148,20],[97,24,148,22],[98,10,149,8,"logger"],[98,16,149,14],[98,17,149,15,"info"],[98,21,149,19],[98,22,149,20],[98,65,149,63],[98,67,149,65,"error"],[98,72,149,70],[98,73,149,71],[99,8,150,6],[100,8,151,6],[100,12,151,10],[100,13,151,11,"server"],[100,19,151,17],[100,22,151,20],[100,26,151,24],[101,6,152,4],[102,6,154,4],[102,12,154,10,"netState"],[102,20,154,18],[102,23,154,21],[102,29,154,27,"NetInfo"],[102,45,154,34],[102,46,154,35,"fetch"],[102,51,154,40],[102,52,154,41],[102,53,154,42],[103,6,155,4],[103,10,155,8,"ipAddress"],[103,19,155,32],[103,22,155,35],[103,26,155,39],[104,6,157,4],[104,10,157,8,"netState"],[104,18,157,16],[104,19,157,17,"type"],[104,23,157,21],[104,28,157,26],[104,34,157,32],[104,38,157,36,"netState"],[104,46,157,44],[104,47,157,45,"type"],[104,51,157,49],[104,56,157,54],[104,66,157,64],[104,68,157,66],[105,8,158,6,"ipAddress"],[105,17,158,15],[105,20,158,19,"netState"],[105,28,158,27],[105,29,158,28,"details"],[105,36,158,35],[105,38,158,45,"ipAddress"],[105,47,158,54],[105,51,158,58],[105,55,158,62],[106,6,159,4],[107,6,161,4],[107,10,161,8],[107,11,161,9,"ipAddress"],[107,20,161,18],[107,22,161,20],[108,8,162,6],[108,14,162,12],[108,18,162,16,"Error"],[108,23,162,21],[108,24,162,22],[108,53,162,51],[108,54,162,52],[109,6,163,4],[110,6,165,4],[110,10,165,8],[110,14,165,12],[110,15,165,13,"isRunning"],[110,24,165,22],[110,26,165,24],[111,8,166,6,"logger"],[111,14,166,12],[111,15,166,13,"debug"],[111,20,166,18],[111,21,166,19],[111,65,166,63],[111,66,166,64],[112,8,167,6],[112,15,167,13],[112,25,167,23,"ipAddress"],[112,34,167,32],[112,38,167,36,"PORT"],[112,42,167,40],[112,44,167,42],[113,6,168,4],[115,6,170,4],[116,6,171,4],[116,10,171,8,"Platform"],[116,27,171,16],[116,28,171,17,"OS"],[116,30,171,19],[116,35,171,24],[116,40,171,29],[116,42,171,31],[117,8,172,6,"logger"],[117,14,172,12],[117,15,172,13,"error"],[117,20,172,18],[117,21,172,19],[117,79,172,77],[117,80,172,78],[118,8,173,6],[118,14,173,12],[118,18,173,16,"Error"],[118,23,173,21],[118,24,173,22],[118,40,173,38],[118,41,173,39],[119,6,174,4],[120,6,176,4],[120,13,176,11],[120,17,176,15,"Promise"],[120,24,176,22],[120,25,176,23],[120,26,176,24,"resolve"],[120,33,176,31],[120,35,176,33,"reject"],[120,41,176,39],[120,46,176,44],[121,8,177,6],[121,12,177,10],[122,10,178,8],[123,10,179,8],[123,14,179,12],[123,15,179,13,"TcpSocket"],[123,24,179,22],[123,28,179,26],[123,35,179,33,"TcpSocket"],[123,44,179,42],[123,45,179,43,"createServer"],[123,57,179,55],[123,62,179,60],[123,72,179,70],[123,74,179,72],[124,12,180,10,"logger"],[124,18,180,16],[124,19,180,17,"error"],[124,24,180,22],[124,25,180,23],[124,93,180,91],[124,94,180,92],[125,12,181,10,"reject"],[125,18,181,16],[125,19,181,17],[125,23,181,21,"Error"],[125,28,181,26],[125,29,181,27],[125,42,181,40],[125,43,181,41],[125,44,181,42],[126,12,182,10],[127,10,183,8],[129,10,185,8],[130,10,186,8],[130,14,186,12],[130,18,186,16],[130,19,186,17,"server"],[130,25,186,23],[130,27,186,25],[131,12,187,10],[131,16,187,14],[132,14,188,12],[132,18,188,16],[132,19,188,17,"server"],[132,25,188,23],[132,26,188,24,"close"],[132,31,188,29],[132,32,188,30],[132,33,188,31],[133,12,189,10],[133,13,189,11],[133,14,189,12],[133,21,189,19,"error"],[133,26,189,24],[133,28,189,26],[134,14,190,12,"logger"],[134,20,190,18],[134,21,190,19,"info"],[134,25,190,23],[134,26,190,24],[134,74,190,72],[134,76,190,74,"error"],[134,81,190,79],[134,82,190,80],[135,12,191,10],[136,12,192,10],[136,16,192,14],[136,17,192,15,"server"],[136,23,192,21],[136,26,192,24],[136,30,192,28],[137,10,193,8],[139,10,195,8],[140,10,196,8],[140,14,196,12],[140,15,196,13,"server"],[140,21,196,19],[140,24,196,22,"TcpSocket"],[140,33,196,31],[140,34,196,32,"createServer"],[140,46,196,44],[140,47,196,46,"socket"],[140,53,196,71],[140,57,196,76],[141,12,197,10,"logger"],[141,18,197,16],[141,19,197,17,"debug"],[141,24,197,22],[141,25,197,23],[141,59,197,57],[141,60,197,58],[142,12,199,10],[142,16,199,14,"requestData"],[142,27,199,25],[142,30,199,28],[142,32,199,30],[143,12,201,10,"socket"],[143,18,201,16],[143,19,201,17,"on"],[143,21,201,19],[143,22,201,20],[143,28,201,26],[143,30,201,28],[143,36,201,35,"data"],[143,40,201,56],[143,44,201,61],[144,14,202,12,"requestData"],[144,25,202,23],[144,29,202,27,"data"],[144,33,202,31],[144,34,202,32,"toString"],[144,42,202,40],[144,43,202,41],[144,44,202,42],[146,14,204,12],[147,14,205,12],[147,18,205,16,"requestData"],[147,29,205,27],[147,30,205,28,"includes"],[147,38,205,36],[147,39,205,37],[147,49,205,47],[147,50,205,48],[147,52,205,50],[148,16,206,14],[148,20,206,18],[149,18,207,16],[149,24,207,22,"request"],[149,31,207,29],[149,34,207,32],[149,38,207,36],[149,39,207,37,"parseHttpRequest"],[149,55,207,53],[149,56,207,54,"requestData"],[149,67,207,65],[149,68,207,66],[150,18,208,16],[150,22,208,20,"request"],[150,29,208,27],[150,33,208,31],[150,37,208,35],[150,38,208,36,"requestHandler"],[150,52,208,50],[150,54,208,52],[151,20,209,18],[151,26,209,24,"response"],[151,34,209,32],[151,37,209,35],[151,43,209,41],[151,47,209,45],[151,48,209,46,"requestHandler"],[151,62,209,60],[151,63,209,61,"request"],[151,70,209,68],[151,71,209,69],[152,20,210,18],[152,26,210,24,"httpResponse"],[152,38,210,36],[152,41,210,39],[152,45,210,43],[152,46,210,44,"formatHttpResponse"],[152,64,210,62],[152,65,210,63,"response"],[152,73,210,71],[152,74,210,72],[153,20,211,18,"socket"],[153,26,211,24],[153,27,211,25,"write"],[153,32,211,30],[153,33,211,31,"httpResponse"],[153,45,211,43],[153,46,211,44],[154,18,212,16],[154,19,212,17],[154,25,212,23],[155,20,213,18],[156,20,214,18],[156,26,214,24,"errorResponse"],[156,39,214,37],[156,42,214,40],[156,46,214,44],[156,47,214,45,"formatHttpResponse"],[156,65,214,63],[156,66,214,64],[157,22,215,20,"statusCode"],[157,32,215,30],[157,34,215,32],[157,37,215,35],[158,22,216,20,"headers"],[158,29,216,27],[158,31,216,29],[159,24,216,31],[159,38,216,45],[159,40,216,47],[160,22,216,60],[160,23,216,61],[161,22,217,20,"body"],[161,26,217,24],[161,28,217,26],[162,20,218,18],[162,21,218,19],[162,22,218,20],[163,20,219,18,"socket"],[163,26,219,24],[163,27,219,25,"write"],[163,32,219,30],[163,33,219,31,"errorResponse"],[163,46,219,44],[163,47,219,45],[164,18,220,16],[165,16,221,14],[165,17,221,15],[165,18,221,16],[165,25,221,23,"error"],[165,30,221,28],[165,32,221,30],[166,18,222,16,"logger"],[166,24,222,22],[166,25,222,23,"info"],[166,29,222,27],[166,30,222,28],[166,71,222,69],[166,73,222,71,"error"],[166,78,222,76],[166,79,222,77],[167,18,223,16],[167,24,223,22,"errorResponse"],[167,37,223,35],[167,40,223,38],[167,44,223,42],[167,45,223,43,"formatHttpResponse"],[167,63,223,61],[167,64,223,62],[168,20,224,18,"statusCode"],[168,30,224,28],[168,32,224,30],[168,35,224,33],[169,20,225,18,"headers"],[169,27,225,25],[169,29,225,27],[170,22,225,29],[170,36,225,43],[170,38,225,45],[171,20,225,58],[171,21,225,59],[172,20,226,18,"body"],[172,24,226,22],[172,26,226,24],[173,18,227,16],[173,19,227,17],[173,20,227,18],[174,18,228,16,"socket"],[174,24,228,22],[174,25,228,23,"write"],[174,30,228,28],[174,31,228,29,"errorResponse"],[174,44,228,42],[174,45,228,43],[175,16,229,14],[176,16,231,14,"socket"],[176,22,231,20],[176,23,231,21,"end"],[176,26,231,24],[176,27,231,25],[176,28,231,26],[177,16,232,14,"requestData"],[177,27,232,25],[177,30,232,28],[177,32,232,30],[178,14,233,12],[179,12,234,10],[179,13,234,11],[179,14,234,12],[180,12,236,10,"socket"],[180,18,236,16],[180,19,236,17,"on"],[180,21,236,19],[180,22,236,20],[180,29,236,27],[180,31,236,30,"error"],[180,36,236,42],[180,40,236,47],[181,14,237,12,"logger"],[181,20,237,18],[181,21,237,19,"info"],[181,25,237,23],[181,26,237,24],[181,57,237,55],[181,59,237,57,"error"],[181,64,237,62],[181,65,237,63],[182,12,238,10],[182,13,238,11],[182,14,238,12],[183,12,240,10,"socket"],[183,18,240,16],[183,19,240,17,"on"],[183,21,240,19],[183,22,240,20],[183,29,240,27],[183,31,240,29],[183,37,240,35],[184,14,241,12,"logger"],[184,20,241,18],[184,21,241,19,"debug"],[184,26,241,24],[184,27,241,25],[184,64,241,62],[184,65,241,63],[185,12,242,10],[185,13,242,11],[185,14,242,12],[186,10,243,8],[186,11,243,9],[186,12,243,10],[188,10,245,8],[189,10,246,8],[189,14,246,12],[189,15,246,13],[189,19,246,17],[189,20,246,18,"server"],[189,26,246,24],[189,28,246,26],[190,12,247,10,"logger"],[190,18,247,16],[190,19,247,17,"error"],[190,24,247,22],[190,25,247,23],[190,66,247,64],[190,67,247,65],[191,12,248,10,"reject"],[191,18,248,16],[191,19,248,17],[191,23,248,21,"Error"],[191,28,248,26],[191,29,248,27],[191,40,248,38],[191,41,248,39],[191,42,248,40],[192,12,249,10],[193,10,250,8],[195,10,252,8],[196,10,253,8],[196,14,253,12],[196,15,253,13],[196,19,253,17],[196,20,253,18,"server"],[196,26,253,24],[196,27,253,25,"listen"],[196,33,253,31],[196,37,253,35],[196,44,253,42],[196,48,253,46],[196,49,253,47,"server"],[196,55,253,53],[196,56,253,54,"listen"],[196,62,253,60],[196,67,253,65],[196,77,253,75],[196,79,253,77],[197,12,254,10,"logger"],[197,18,254,16],[197,19,254,17,"error"],[197,24,254,22],[197,25,254,23],[197,98,254,96],[197,99,254,97],[198,12,255,10,"reject"],[198,18,255,16],[198,19,255,17],[198,23,255,21,"Error"],[198,28,255,26],[198,29,255,27],[198,41,255,39],[198,42,255,40],[198,43,255,41],[199,12,256,10],[200,10,257,8],[201,10,259,8],[201,14,259,12],[201,15,259,13,"server"],[201,21,259,19],[201,22,259,20,"listen"],[201,28,259,26],[201,29,259,27],[202,12,259,29,"port"],[202,16,259,33],[202,18,259,35,"PORT"],[202,22,259,39],[203,12,259,41,"host"],[203,16,259,45],[203,18,259,47],[204,10,259,57],[204,11,259,58],[204,13,259,60],[204,19,259,66],[205,12,260,10,"logger"],[205,18,260,16],[205,19,260,17,"debug"],[205,24,260,22],[205,25,260,23],[205,64,260,62,"ipAddress"],[205,73,260,71],[205,77,260,75,"PORT"],[205,81,260,79],[205,83,260,81],[205,84,260,82],[206,12,261,10],[206,16,261,14],[206,17,261,15,"isRunning"],[206,26,261,24],[206,29,261,27],[206,33,261,31],[207,12,262,10,"resolve"],[207,19,262,17],[207,20,262,18],[207,30,262,28,"ipAddress"],[207,39,262,37],[207,43,262,41,"PORT"],[207,47,262,45],[207,49,262,47],[207,50,262,48],[208,10,263,8],[208,11,263,9],[208,12,263,10],[209,10,265,8],[209,14,265,12],[209,15,265,13,"server"],[209,21,265,19],[209,22,265,20,"on"],[209,24,265,22],[209,25,265,23],[209,32,265,30],[209,34,265,33,"error"],[209,39,265,45],[209,43,265,50],[210,12,266,10,"logger"],[210,18,266,16],[210,19,266,17,"info"],[210,23,266,21],[210,24,266,22],[210,55,266,53],[210,57,266,55,"error"],[210,62,266,60],[210,63,266,61],[211,12,267,10],[211,16,267,14],[211,17,267,15,"isRunning"],[211,26,267,24],[211,29,267,27],[211,34,267,32],[212,12,268,10],[213,12,269,10],[213,16,269,14,"error"],[213,21,269,19],[213,22,269,20,"message"],[213,29,269,27],[213,33,269,31,"error"],[213,38,269,36],[213,39,269,37,"message"],[213,46,269,44],[213,47,269,45,"includes"],[213,55,269,53],[213,56,269,54],[213,68,269,66],[213,69,269,67],[213,71,269,69],[214,14,270,12,"reject"],[214,20,270,18],[214,21,270,19],[214,25,270,23,"Error"],[214,30,270,28],[214,31,270,29],[214,51,270,49],[214,52,270,50],[214,53,270,51],[215,12,271,10],[215,13,271,11],[215,19,271,17],[216,14,272,12,"reject"],[216,20,272,18],[216,21,272,19,"error"],[216,26,272,24],[216,27,272,25],[217,12,273,10],[218,10,274,8],[218,11,274,9],[218,12,274,10],[219,8,276,6],[219,9,276,7],[219,10,276,8],[219,17,276,15,"error"],[219,22,276,20],[219,24,276,22],[220,10,277,8,"logger"],[220,16,277,14],[220,17,277,15,"info"],[220,21,277,19],[220,22,277,20],[220,63,277,61],[220,65,277,63,"error"],[220,70,277,68],[220,71,277,69],[221,10,278,8,"reject"],[221,16,278,14],[221,17,278,15,"error"],[221,22,278,20],[221,23,278,21],[222,8,279,6],[223,6,280,4],[223,7,280,5],[223,8,280,6],[224,4,281,2],[225,4,283,9,"stop"],[225,8,283,13,"stop"],[225,9,283,13],[225,11,283,16],[226,6,284,4],[226,10,284,8],[227,8,285,6],[227,12,285,10],[227,16,285,14],[227,17,285,15,"server"],[227,23,285,21],[227,25,285,23],[228,10,286,8],[228,14,286,12],[228,15,286,13,"server"],[228,21,286,19],[228,22,286,20,"close"],[228,27,286,25],[228,28,286,26],[228,29,286,27],[229,10,287,8,"logger"],[229,16,287,14],[229,17,287,15,"debug"],[229,22,287,20],[229,23,287,21],[229,55,287,53],[229,56,287,54],[230,8,288,6],[231,6,289,4],[231,7,289,5],[231,8,289,6],[231,15,289,13,"error"],[231,20,289,18],[231,22,289,20],[232,8,290,6,"logger"],[232,14,290,12],[232,15,290,13,"info"],[232,19,290,17],[232,20,290,18],[232,60,290,58],[232,62,290,60,"error"],[232,67,290,65],[232,68,290,66],[233,6,291,4],[233,7,291,5],[233,16,291,14],[234,8,292,6],[234,12,292,10],[234,13,292,11,"isRunning"],[234,22,292,20],[234,25,292,23],[234,30,292,28],[235,8,293,6],[235,12,293,10],[235,13,293,11,"server"],[235,19,293,17],[235,22,293,20],[235,26,293,24],[236,6,294,4],[237,4,295,2],[238,4,297,9,"getIsRunning"],[238,16,297,21,"getIsRunning"],[238,17,297,21],[238,19,297,33],[239,6,298,4],[239,13,298,11],[239,17,298,15],[239,18,298,16,"isRunning"],[239,27,298,25],[240,4,299,2],[241,2,300,0],[242,2,300,1],[242,6,300,1,"_default"],[242,14,300,1],[242,17,300,1,"exports"],[242,24,300,1],[242,25,300,1,"default"],[242,32,300,1],[242,35,302,15,"TCPHttpServer"],[242,48,302,28],[243,0,302,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;ACgE;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}