{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":268,"column":29,"index":7733}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":268,"column":29,"index":7733}}],"key":"jM/HC84YZkM9kLoiCo0Bpf0Xr+w="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":131},"end":{"line":5,"column":54,"index":185}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0,"index":186},"end":{"line":6,"column":36,"index":222}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":18,"index":95},"end":{"line":4,"column":52,"index":129}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _Platform = _interopRequireDefault(require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\"));\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[3], \"@/utils/Logger\"));\n  // 直接使用require并忽略类型检查\n  // @ts-ignore\n  const TcpSocket = require(_dependencyMap[4], \"react-native-tcp-socket\");\n  const logger = _Logger.default.withTag('TCPHttpServer');\n  const PORT = 12346;\n\n  // 类型定义\n\n  class TCPHttpServer {\n    server = null;\n    isRunning = false;\n    requestHandler = null;\n    constructor() {\n      this.server = null;\n    }\n    parseHttpRequest(data) {\n      try {\n        const lines = data.split('\\r\\n');\n        const requestLine = lines[0].split(' ');\n        if (requestLine.length < 3) {\n          return null;\n        }\n        const method = requestLine[0];\n        const url = requestLine[1];\n        const headers = {};\n        let bodyStartIndex = -1;\n        for (let i = 1; i < lines.length; i++) {\n          const line = lines[i];\n          if (line === '') {\n            bodyStartIndex = i + 1;\n            break;\n          }\n          const colonIndex = line.indexOf(':');\n          if (colonIndex > 0) {\n            const key = line.substring(0, colonIndex).trim().toLowerCase();\n            const value = line.substring(colonIndex + 1).trim();\n            headers[key] = value;\n          }\n        }\n        const body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n        return {\n          method,\n          url,\n          headers,\n          body\n        };\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n        return null;\n      }\n    }\n    formatHttpResponse(response) {\n      const statusTexts = {\n        200: 'OK',\n        400: 'Bad Request',\n        404: 'Not Found',\n        500: 'Internal Server Error'\n      };\n      const statusText = statusTexts[response.statusCode] || 'Unknown';\n      const headers = {\n        'Content-Length': new TextEncoder().encode(response.body || '').length.toString(),\n        'Connection': 'close',\n        ...response.headers\n      };\n      let httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n      for (const [key, value] of Object.entries(headers)) {\n        httpResponse += `${key}: ${value}\\r\\n`;\n      }\n      httpResponse += '\\r\\n';\n      httpResponse += response.body || '';\n      return httpResponse;\n    }\n    handleConnection(socket) {\n      logger.debug('[TCPHttpServer] Client connected');\n      let requestData = '';\n      socket.on('data', async data => {\n        requestData += data.toString();\n\n        // Check if we have a complete HTTP request\n        if (requestData.includes('\\r\\n\\r\\n')) {\n          try {\n            const request = this.parseHttpRequest(requestData);\n            if (request && this.requestHandler) {\n              const response = await this.requestHandler(request);\n              const httpResponse = this.formatHttpResponse(response);\n              socket.write(httpResponse);\n            } else {\n              // Send 400 Bad Request for malformed requests\n              const errorResponse = this.formatHttpResponse({\n                statusCode: 400,\n                headers: {\n                  'Content-Type': 'text/plain'\n                },\n                body: 'Bad Request'\n              });\n              socket.write(errorResponse);\n            }\n          } catch (error) {\n            logger.info('[TCPHttpServer] Error handling request:', error);\n            const errorResponse = this.formatHttpResponse({\n              statusCode: 500,\n              headers: {\n                'Content-Type': 'text/plain'\n              },\n              body: 'Internal Server Error'\n            });\n            socket.write(errorResponse);\n          }\n          socket.end();\n          requestData = '';\n        }\n      });\n      socket.on('error', error => {\n        logger.info('[TCPHttpServer] Socket error:', error);\n      });\n      socket.on('close', () => {\n        logger.debug('[TCPHttpServer] Client disconnected');\n      });\n    }\n    setRequestHandler(handler) {\n      this.requestHandler = handler;\n    }\n    async start() {\n      // 确保之前的服务器实例已关闭\n      if (this.server && !this.isRunning) {\n        try {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Old server instance closed');\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error closing old server:', error);\n        }\n        this.server = null;\n      }\n      const netState = await _netinfo.default.fetch();\n      let ipAddress = null;\n      if (netState.type === 'wifi' || netState.type === 'ethernet') {\n        ipAddress = netState.details?.ipAddress ?? null;\n      }\n      if (!ipAddress) {\n        throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n      }\n      if (this.isRunning) {\n        logger.debug('[TCPHttpServer] Server is already running.');\n        return `http://${ipAddress}:${PORT}`;\n      }\n\n      // Web平台不支持TCP服务器\n      if (_Platform.default.OS === 'web') {\n        logger.error('[TCPHttpServer] TCP server not supported on web platform');\n        throw new Error('Web平台不支持TCP服务器');\n      }\n      return new Promise((resolve, reject) => {\n        try {\n          // 检查TcpSocket是否可用\n          if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n            logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n            reject(new Error('TCP服务器初始化失败'));\n            return;\n          }\n\n          // 确保在创建新服务器前，server为null\n          if (this.server) {\n            try {\n              this.server.close();\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing previous server:', error);\n            }\n            this.server = null;\n          }\n\n          // 创建服务器实例\n          this.server = TcpSocket.createServer(socket => {\n            this.handleConnection(socket);\n          });\n\n          // 确保server不为null再调用listen\n          if (!this.server) {\n            logger.error('[TCPHttpServer] Server instance is null');\n            reject(new Error('服务器实例创建失败'));\n            return;\n          }\n\n          // 添加错误处理，确保listen方法存在并且是函数\n          if (!this.server.listen || typeof this.server.listen !== 'function') {\n            logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n            reject(new Error('服务器监听方法不可用'));\n            return;\n          }\n          this.server.listen({\n            port: PORT,\n            host: '0.0.0.0'\n          }, () => {\n            logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n            this.isRunning = true;\n            resolve(`http://${ipAddress}:${PORT}`);\n          });\n          this.server.on('error', error => {\n            logger.info('[TCPHttpServer] Server error:', error);\n            this.isRunning = false;\n            // 针对端口占用的错误提供更友好的消息\n            if (error.message && error.message.includes('EADDRINUSE')) {\n              reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n            } else {\n              reject(error);\n            }\n          });\n        } catch (error) {\n          logger.info('[TCPHttpServer] Failed to start server:', error);\n          reject(error);\n        }\n      });\n    }\n    stop() {\n      try {\n        if (this.server) {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Server stopped');\n        }\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error stopping server:', error);\n      } finally {\n        this.isRunning = false;\n        this.server = null;\n      }\n    }\n    getIsRunning() {\n      return this.isRunning;\n    }\n  }\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":240,"map":[[8,2,5,0],[8,6,5,0,"_netinfo"],[8,14,5,0],[8,17,5,0,"_interopRequireDefault"],[8,39,5,0],[8,40,5,0,"require"],[8,47,5,0],[8,48,5,0,"_dependencyMap"],[8,62,5,0],[9,2,6,0],[9,6,6,0,"_Logger"],[9,13,6,0],[9,16,6,0,"_interopRequireDefault"],[9,38,6,0],[9,39,6,0,"require"],[9,46,6,0],[9,47,6,0,"_dependencyMap"],[9,61,6,0],[10,2,2,0],[11,2,3,0],[12,2,4,0],[12,8,4,6,"TcpSocket"],[12,17,4,15],[12,20,4,18,"require"],[12,27,4,25],[12,28,4,25,"_dependencyMap"],[12,42,4,25],[12,72,4,51],[12,73,4,52],[13,2,8,0],[13,8,8,6,"logger"],[13,14,8,12],[13,17,8,15,"Logger"],[13,32,8,21],[13,33,8,22,"withTag"],[13,40,8,29],[13,41,8,30],[13,56,8,45],[13,57,8,46],[14,2,9,0],[14,8,9,6,"PORT"],[14,12,9,10],[14,15,9,13],[14,20,9,18],[16,2,11,0],[18,2,27,0],[18,8,27,6,"TCPHttpServer"],[18,21,27,19],[18,22,27,20],[19,4,28,10,"server"],[19,10,28,16],[19,13,28,31],[19,17,28,35],[20,4,29,10,"isRunning"],[20,13,29,19],[20,16,29,22],[20,21,29,27],[21,4,30,10,"requestHandler"],[21,18,30,24],[21,21,30,50],[21,25,30,54],[22,4,32,2,"constructor"],[22,15,32,13,"constructor"],[22,16,32,13],[22,18,32,16],[23,6,33,4],[23,10,33,8],[23,11,33,9,"server"],[23,17,33,15],[23,20,33,18],[23,24,33,22],[24,4,34,2],[25,4,36,10,"parseHttpRequest"],[25,20,36,26,"parseHttpRequest"],[25,21,36,27,"data"],[25,25,36,39],[25,27,36,61],[26,6,37,4],[26,10,37,8],[27,8,38,6],[27,14,38,12,"lines"],[27,19,38,17],[27,22,38,20,"data"],[27,26,38,24],[27,27,38,25,"split"],[27,32,38,30],[27,33,38,31],[27,39,38,37],[27,40,38,38],[28,8,39,6],[28,14,39,12,"requestLine"],[28,25,39,23],[28,28,39,26,"lines"],[28,33,39,31],[28,34,39,32],[28,35,39,33],[28,36,39,34],[28,37,39,35,"split"],[28,42,39,40],[28,43,39,41],[28,46,39,44],[28,47,39,45],[29,8,41,6],[29,12,41,10,"requestLine"],[29,23,41,21],[29,24,41,22,"length"],[29,30,41,28],[29,33,41,31],[29,34,41,32],[29,36,41,34],[30,10,42,8],[30,17,42,15],[30,21,42,19],[31,8,43,6],[32,8,45,6],[32,14,45,12,"method"],[32,20,45,18],[32,23,45,21,"requestLine"],[32,34,45,32],[32,35,45,33],[32,36,45,34],[32,37,45,35],[33,8,46,6],[33,14,46,12,"url"],[33,17,46,15],[33,20,46,18,"requestLine"],[33,31,46,29],[33,32,46,30],[33,33,46,31],[33,34,46,32],[34,8,47,6],[34,14,47,12,"headers"],[34,21,47,43],[34,24,47,46],[34,25,47,47],[34,26,47,48],[35,8,49,6],[35,12,49,10,"bodyStartIndex"],[35,26,49,24],[35,29,49,27],[35,30,49,28],[35,31,49,29],[36,8,50,6],[36,13,50,11],[36,17,50,15,"i"],[36,18,50,16],[36,21,50,19],[36,22,50,20],[36,24,50,22,"i"],[36,25,50,23],[36,28,50,26,"lines"],[36,33,50,31],[36,34,50,32,"length"],[36,40,50,38],[36,42,50,40,"i"],[36,43,50,41],[36,45,50,43],[36,47,50,45],[37,10,51,8],[37,16,51,14,"line"],[37,20,51,18],[37,23,51,21,"lines"],[37,28,51,26],[37,29,51,27,"i"],[37,30,51,28],[37,31,51,29],[38,10,52,8],[38,14,52,12,"line"],[38,18,52,16],[38,23,52,21],[38,25,52,23],[38,27,52,25],[39,12,53,10,"bodyStartIndex"],[39,26,53,24],[39,29,53,27,"i"],[39,30,53,28],[39,33,53,31],[39,34,53,32],[40,12,54,10],[41,10,55,8],[42,10,56,8],[42,16,56,14,"colonIndex"],[42,26,56,24],[42,29,56,27,"line"],[42,33,56,31],[42,34,56,32,"indexOf"],[42,41,56,39],[42,42,56,40],[42,45,56,43],[42,46,56,44],[43,10,57,8],[43,14,57,12,"colonIndex"],[43,24,57,22],[43,27,57,25],[43,28,57,26],[43,30,57,28],[44,12,58,10],[44,18,58,16,"key"],[44,21,58,19],[44,24,58,22,"line"],[44,28,58,26],[44,29,58,27,"substring"],[44,38,58,36],[44,39,58,37],[44,40,58,38],[44,42,58,40,"colonIndex"],[44,52,58,50],[44,53,58,51],[44,54,58,52,"trim"],[44,58,58,56],[44,59,58,57],[44,60,58,58],[44,61,58,59,"toLowerCase"],[44,72,58,70],[44,73,58,71],[44,74,58,72],[45,12,59,10],[45,18,59,16,"value"],[45,23,59,21],[45,26,59,24,"line"],[45,30,59,28],[45,31,59,29,"substring"],[45,40,59,38],[45,41,59,39,"colonIndex"],[45,51,59,49],[45,54,59,52],[45,55,59,53],[45,56,59,54],[45,57,59,55,"trim"],[45,61,59,59],[45,62,59,60],[45,63,59,61],[46,12,60,10,"headers"],[46,19,60,17],[46,20,60,18,"key"],[46,23,60,21],[46,24,60,22],[46,27,60,25,"value"],[46,32,60,30],[47,10,61,8],[48,8,62,6],[49,8,64,6],[49,14,64,12,"body"],[49,18,64,16],[49,21,64,19,"bodyStartIndex"],[49,35,64,33],[49,38,64,36],[49,39,64,37],[49,42,64,40,"lines"],[49,47,64,45],[49,48,64,46,"slice"],[49,53,64,51],[49,54,64,52,"bodyStartIndex"],[49,68,64,66],[49,69,64,67],[49,70,64,68,"join"],[49,74,64,72],[49,75,64,73],[49,81,64,79],[49,82,64,80],[49,85,64,83],[49,87,64,85],[50,8,66,6],[50,15,66,13],[51,10,66,15,"method"],[51,16,66,21],[52,10,66,23,"url"],[52,13,66,26],[53,10,66,28,"headers"],[53,17,66,35],[54,10,66,37,"body"],[55,8,66,42],[55,9,66,43],[56,6,67,4],[56,7,67,5],[56,8,67,6],[56,15,67,13,"error"],[56,20,67,18],[56,22,67,20],[57,8,68,6,"logger"],[57,14,68,12],[57,15,68,13,"info"],[57,19,68,17],[57,20,68,18],[57,65,68,63],[57,67,68,65,"error"],[57,72,68,70],[57,73,68,71],[58,8,69,6],[58,15,69,13],[58,19,69,17],[59,6,70,4],[60,4,71,2],[61,4,73,10,"formatHttpResponse"],[61,22,73,28,"formatHttpResponse"],[61,23,73,29,"response"],[61,31,73,51],[61,33,73,61],[62,6,74,4],[62,12,74,10,"statusTexts"],[62,23,74,45],[62,26,74,48],[63,8,75,6],[63,11,75,9],[63,13,75,11],[63,17,75,15],[64,8,76,6],[64,11,76,9],[64,13,76,11],[64,26,76,24],[65,8,77,6],[65,11,77,9],[65,13,77,11],[65,24,77,22],[66,8,78,6],[66,11,78,9],[66,13,78,11],[67,6,79,4],[67,7,79,5],[68,6,81,4],[68,12,81,10,"statusText"],[68,22,81,20],[68,25,81,23,"statusTexts"],[68,36,81,34],[68,37,81,35,"response"],[68,45,81,43],[68,46,81,44,"statusCode"],[68,56,81,54],[68,57,81,55],[68,61,81,59],[68,70,81,68],[69,6,82,4],[69,12,82,10,"headers"],[69,19,82,17],[69,22,82,20],[70,8,83,6],[70,24,83,22],[70,26,83,24],[70,30,83,28,"TextEncoder"],[70,41,83,39],[70,42,83,40],[70,43,83,41],[70,44,83,42,"encode"],[70,50,83,48],[70,51,83,49,"response"],[70,59,83,57],[70,60,83,58,"body"],[70,64,83,62],[70,68,83,66],[70,70,83,68],[70,71,83,69],[70,72,83,70,"length"],[70,78,83,76],[70,79,83,77,"toString"],[70,87,83,85],[70,88,83,86],[70,89,83,87],[71,8,84,6],[71,20,84,18],[71,22,84,20],[71,29,84,27],[72,8,85,6],[72,11,85,9,"response"],[72,19,85,17],[72,20,85,18,"headers"],[73,6,86,4],[73,7,86,5],[74,6,88,4],[74,10,88,8,"httpResponse"],[74,22,88,20],[74,25,88,23],[74,37,88,35,"response"],[74,45,88,43],[74,46,88,44,"statusCode"],[74,56,88,54],[74,60,88,58,"statusText"],[74,70,88,68],[74,76,88,74],[75,6,90,4],[75,11,90,9],[75,17,90,15],[75,18,90,16,"key"],[75,21,90,19],[75,23,90,21,"value"],[75,28,90,26],[75,29,90,27],[75,33,90,31,"Object"],[75,39,90,37],[75,40,90,38,"entries"],[75,47,90,45],[75,48,90,46,"headers"],[75,55,90,53],[75,56,90,54],[75,58,90,56],[76,8,91,6,"httpResponse"],[76,20,91,18],[76,24,91,22],[76,27,91,25,"key"],[76,30,91,28],[76,35,91,33,"value"],[76,40,91,38],[76,46,91,44],[77,6,92,4],[78,6,94,4,"httpResponse"],[78,18,94,16],[78,22,94,20],[78,28,94,26],[79,6,95,4,"httpResponse"],[79,18,95,16],[79,22,95,20,"response"],[79,30,95,28],[79,31,95,29,"body"],[79,35,95,33],[79,39,95,37],[79,41,95,39],[80,6,97,4],[80,13,97,11,"httpResponse"],[80,25,97,23],[81,4,98,2],[82,4,100,10,"handleConnection"],[82,20,100,26,"handleConnection"],[82,21,100,27,"socket"],[82,27,100,38],[82,29,100,40],[83,6,101,4,"logger"],[83,12,101,10],[83,13,101,11,"debug"],[83,18,101,16],[83,19,101,17],[83,53,101,51],[83,54,101,52],[84,6,103,4],[84,10,103,8,"requestData"],[84,21,103,19],[84,24,103,22],[84,26,103,24],[85,6,105,4,"socket"],[85,12,105,10],[85,13,105,11,"on"],[85,15,105,13],[85,16,105,14],[85,22,105,20],[85,24,105,22],[85,30,105,29,"data"],[85,34,105,38],[85,38,105,43],[86,8,106,6,"requestData"],[86,19,106,17],[86,23,106,21,"data"],[86,27,106,25],[86,28,106,26,"toString"],[86,36,106,34],[86,37,106,35],[86,38,106,36],[88,8,108,6],[89,8,109,6],[89,12,109,10,"requestData"],[89,23,109,21],[89,24,109,22,"includes"],[89,32,109,30],[89,33,109,31],[89,43,109,41],[89,44,109,42],[89,46,109,44],[90,10,110,8],[90,14,110,12],[91,12,111,10],[91,18,111,16,"request"],[91,25,111,23],[91,28,111,26],[91,32,111,30],[91,33,111,31,"parseHttpRequest"],[91,49,111,47],[91,50,111,48,"requestData"],[91,61,111,59],[91,62,111,60],[92,12,112,10],[92,16,112,14,"request"],[92,23,112,21],[92,27,112,25],[92,31,112,29],[92,32,112,30,"requestHandler"],[92,46,112,44],[92,48,112,46],[93,14,113,12],[93,20,113,18,"response"],[93,28,113,26],[93,31,113,29],[93,37,113,35],[93,41,113,39],[93,42,113,40,"requestHandler"],[93,56,113,54],[93,57,113,55,"request"],[93,64,113,62],[93,65,113,63],[94,14,114,12],[94,20,114,18,"httpResponse"],[94,32,114,30],[94,35,114,33],[94,39,114,37],[94,40,114,38,"formatHttpResponse"],[94,58,114,56],[94,59,114,57,"response"],[94,67,114,65],[94,68,114,66],[95,14,115,12,"socket"],[95,20,115,18],[95,21,115,19,"write"],[95,26,115,24],[95,27,115,25,"httpResponse"],[95,39,115,37],[95,40,115,38],[96,12,116,10],[96,13,116,11],[96,19,116,17],[97,14,117,12],[98,14,118,12],[98,20,118,18,"errorResponse"],[98,33,118,31],[98,36,118,34],[98,40,118,38],[98,41,118,39,"formatHttpResponse"],[98,59,118,57],[98,60,118,58],[99,16,119,14,"statusCode"],[99,26,119,24],[99,28,119,26],[99,31,119,29],[100,16,120,14,"headers"],[100,23,120,21],[100,25,120,23],[101,18,120,25],[101,32,120,39],[101,34,120,41],[102,16,120,54],[102,17,120,55],[103,16,121,14,"body"],[103,20,121,18],[103,22,121,20],[104,14,122,12],[104,15,122,13],[104,16,122,14],[105,14,123,12,"socket"],[105,20,123,18],[105,21,123,19,"write"],[105,26,123,24],[105,27,123,25,"errorResponse"],[105,40,123,38],[105,41,123,39],[106,12,124,10],[107,10,125,8],[107,11,125,9],[107,12,125,10],[107,19,125,17,"error"],[107,24,125,22],[107,26,125,24],[108,12,126,10,"logger"],[108,18,126,16],[108,19,126,17,"info"],[108,23,126,21],[108,24,126,22],[108,65,126,63],[108,67,126,65,"error"],[108,72,126,70],[108,73,126,71],[109,12,127,10],[109,18,127,16,"errorResponse"],[109,31,127,29],[109,34,127,32],[109,38,127,36],[109,39,127,37,"formatHttpResponse"],[109,57,127,55],[109,58,127,56],[110,14,128,12,"statusCode"],[110,24,128,22],[110,26,128,24],[110,29,128,27],[111,14,129,12,"headers"],[111,21,129,19],[111,23,129,21],[112,16,129,23],[112,30,129,37],[112,32,129,39],[113,14,129,52],[113,15,129,53],[114,14,130,12,"body"],[114,18,130,16],[114,20,130,18],[115,12,131,10],[115,13,131,11],[115,14,131,12],[116,12,132,10,"socket"],[116,18,132,16],[116,19,132,17,"write"],[116,24,132,22],[116,25,132,23,"errorResponse"],[116,38,132,36],[116,39,132,37],[117,10,133,8],[118,10,135,8,"socket"],[118,16,135,14],[118,17,135,15,"end"],[118,20,135,18],[118,21,135,19],[118,22,135,20],[119,10,136,8,"requestData"],[119,21,136,19],[119,24,136,22],[119,26,136,24],[120,8,137,6],[121,6,138,4],[121,7,138,5],[121,8,138,6],[122,6,140,4,"socket"],[122,12,140,10],[122,13,140,11,"on"],[122,15,140,13],[122,16,140,14],[122,23,140,21],[122,25,140,24,"error"],[122,30,140,36],[122,34,140,41],[123,8,141,6,"logger"],[123,14,141,12],[123,15,141,13,"info"],[123,19,141,17],[123,20,141,18],[123,51,141,49],[123,53,141,51,"error"],[123,58,141,56],[123,59,141,57],[124,6,142,4],[124,7,142,5],[124,8,142,6],[125,6,144,4,"socket"],[125,12,144,10],[125,13,144,11,"on"],[125,15,144,13],[125,16,144,14],[125,23,144,21],[125,25,144,23],[125,31,144,29],[126,8,145,6,"logger"],[126,14,145,12],[126,15,145,13,"debug"],[126,20,145,18],[126,21,145,19],[126,58,145,56],[126,59,145,57],[127,6,146,4],[127,7,146,5],[127,8,146,6],[128,4,147,2],[129,4,149,9,"setRequestHandler"],[129,21,149,26,"setRequestHandler"],[129,22,149,27,"handler"],[129,29,149,50],[129,31,149,52],[130,6,150,4],[130,10,150,8],[130,11,150,9,"requestHandler"],[130,25,150,23],[130,28,150,26,"handler"],[130,35,150,33],[131,4,151,2],[132,4,153,2],[132,10,153,15,"start"],[132,15,153,20,"start"],[132,16,153,20],[132,18,153,40],[133,6,154,4],[134,6,155,4],[134,10,155,8],[134,14,155,12],[134,15,155,13,"server"],[134,21,155,19],[134,25,155,23],[134,26,155,24],[134,30,155,28],[134,31,155,29,"isRunning"],[134,40,155,38],[134,42,155,40],[135,8,156,6],[135,12,156,10],[136,10,157,8],[136,14,157,12],[136,15,157,13,"server"],[136,21,157,19],[136,22,157,20,"close"],[136,27,157,25],[136,28,157,26],[136,29,157,27],[137,10,158,8,"logger"],[137,16,158,14],[137,17,158,15,"debug"],[137,22,158,20],[137,23,158,21],[137,67,158,65],[137,68,158,66],[138,8,159,6],[138,9,159,7],[138,10,159,8],[138,17,159,15,"error"],[138,22,159,20],[138,24,159,22],[139,10,160,8,"logger"],[139,16,160,14],[139,17,160,15,"info"],[139,21,160,19],[139,22,160,20],[139,65,160,63],[139,67,160,65,"error"],[139,72,160,70],[139,73,160,71],[140,8,161,6],[141,8,162,6],[141,12,162,10],[141,13,162,11,"server"],[141,19,162,17],[141,22,162,20],[141,26,162,24],[142,6,163,4],[143,6,165,4],[143,12,165,10,"netState"],[143,20,165,18],[143,23,165,21],[143,29,165,27,"NetInfo"],[143,45,165,34],[143,46,165,35,"fetch"],[143,51,165,40],[143,52,165,41],[143,53,165,42],[144,6,166,4],[144,10,166,8,"ipAddress"],[144,19,166,32],[144,22,166,35],[144,26,166,39],[145,6,168,4],[145,10,168,8,"netState"],[145,18,168,16],[145,19,168,17,"type"],[145,23,168,21],[145,28,168,26],[145,34,168,32],[145,38,168,36,"netState"],[145,46,168,44],[145,47,168,45,"type"],[145,51,168,49],[145,56,168,54],[145,66,168,64],[145,68,168,66],[146,8,169,6,"ipAddress"],[146,17,169,15],[146,20,169,19,"netState"],[146,28,169,27],[146,29,169,28,"details"],[146,36,169,35],[146,38,169,45,"ipAddress"],[146,47,169,54],[146,51,169,58],[146,55,169,62],[147,6,170,4],[148,6,172,4],[148,10,172,8],[148,11,172,9,"ipAddress"],[148,20,172,18],[148,22,172,20],[149,8,173,6],[149,14,173,12],[149,18,173,16,"Error"],[149,23,173,21],[149,24,173,22],[149,53,173,51],[149,54,173,52],[150,6,174,4],[151,6,176,4],[151,10,176,8],[151,14,176,12],[151,15,176,13,"isRunning"],[151,24,176,22],[151,26,176,24],[152,8,177,6,"logger"],[152,14,177,12],[152,15,177,13,"debug"],[152,20,177,18],[152,21,177,19],[152,65,177,63],[152,66,177,64],[153,8,178,6],[153,15,178,13],[153,25,178,23,"ipAddress"],[153,34,178,32],[153,38,178,36,"PORT"],[153,42,178,40],[153,44,178,42],[154,6,179,4],[156,6,181,4],[157,6,182,4],[157,10,182,8,"Platform"],[157,27,182,16],[157,28,182,17,"OS"],[157,30,182,19],[157,35,182,24],[157,40,182,29],[157,42,182,31],[158,8,183,6,"logger"],[158,14,183,12],[158,15,183,13,"error"],[158,20,183,18],[158,21,183,19],[158,79,183,77],[158,80,183,78],[159,8,184,6],[159,14,184,12],[159,18,184,16,"Error"],[159,23,184,21],[159,24,184,22],[159,40,184,38],[159,41,184,39],[160,6,185,4],[161,6,187,4],[161,13,187,11],[161,17,187,15,"Promise"],[161,24,187,22],[161,25,187,23],[161,26,187,24,"resolve"],[161,33,187,31],[161,35,187,33,"reject"],[161,41,187,39],[161,46,187,44],[162,8,188,6],[162,12,188,10],[163,10,189,8],[164,10,190,8],[164,14,190,12],[164,15,190,13,"TcpSocket"],[164,24,190,22],[164,28,190,26],[164,35,190,33,"TcpSocket"],[164,44,190,42],[164,45,190,43,"createServer"],[164,57,190,55],[164,62,190,60],[164,72,190,70],[164,74,190,72],[165,12,191,10,"logger"],[165,18,191,16],[165,19,191,17,"error"],[165,24,191,22],[165,25,191,23],[165,93,191,91],[165,94,191,92],[166,12,192,10,"reject"],[166,18,192,16],[166,19,192,17],[166,23,192,21,"Error"],[166,28,192,26],[166,29,192,27],[166,42,192,40],[166,43,192,41],[166,44,192,42],[167,12,193,10],[168,10,194,8],[170,10,196,8],[171,10,197,8],[171,14,197,12],[171,18,197,16],[171,19,197,17,"server"],[171,25,197,23],[171,27,197,25],[172,12,198,10],[172,16,198,14],[173,14,199,12],[173,18,199,16],[173,19,199,17,"server"],[173,25,199,23],[173,26,199,24,"close"],[173,31,199,29],[173,32,199,30],[173,33,199,31],[174,12,200,10],[174,13,200,11],[174,14,200,12],[174,21,200,19,"error"],[174,26,200,24],[174,28,200,26],[175,14,201,12,"logger"],[175,20,201,18],[175,21,201,19,"info"],[175,25,201,23],[175,26,201,24],[175,74,201,72],[175,76,201,74,"error"],[175,81,201,79],[175,82,201,80],[176,12,202,10],[177,12,203,10],[177,16,203,14],[177,17,203,15,"server"],[177,23,203,21],[177,26,203,24],[177,30,203,28],[178,10,204,8],[180,10,206,8],[181,10,207,8],[181,14,207,12],[181,15,207,13,"server"],[181,21,207,19],[181,24,207,22,"TcpSocket"],[181,33,207,31],[181,34,207,32,"createServer"],[181,46,207,44],[181,47,207,46,"socket"],[181,53,207,57],[181,57,207,62],[182,12,208,10],[182,16,208,14],[182,17,208,15,"handleConnection"],[182,33,208,31],[182,34,208,32,"socket"],[182,40,208,38],[182,41,208,39],[183,10,209,8],[183,11,209,9],[183,12,209,10],[185,10,211,8],[186,10,212,8],[186,14,212,12],[186,15,212,13],[186,19,212,17],[186,20,212,18,"server"],[186,26,212,24],[186,28,212,26],[187,12,213,10,"logger"],[187,18,213,16],[187,19,213,17,"error"],[187,24,213,22],[187,25,213,23],[187,66,213,64],[187,67,213,65],[188,12,214,10,"reject"],[188,18,214,16],[188,19,214,17],[188,23,214,21,"Error"],[188,28,214,26],[188,29,214,27],[188,40,214,38],[188,41,214,39],[188,42,214,40],[189,12,215,10],[190,10,216,8],[192,10,218,8],[193,10,219,8],[193,14,219,12],[193,15,219,13],[193,19,219,17],[193,20,219,18,"server"],[193,26,219,24],[193,27,219,25,"listen"],[193,33,219,31],[193,37,219,35],[193,44,219,42],[193,48,219,46],[193,49,219,47,"server"],[193,55,219,53],[193,56,219,54,"listen"],[193,62,219,60],[193,67,219,65],[193,77,219,75],[193,79,219,77],[194,12,220,10,"logger"],[194,18,220,16],[194,19,220,17,"error"],[194,24,220,22],[194,25,220,23],[194,98,220,96],[194,99,220,97],[195,12,221,10,"reject"],[195,18,221,16],[195,19,221,17],[195,23,221,21,"Error"],[195,28,221,26],[195,29,221,27],[195,41,221,39],[195,42,221,40],[195,43,221,41],[196,12,222,10],[197,10,223,8],[198,10,225,8],[198,14,225,12],[198,15,225,13,"server"],[198,21,225,19],[198,22,225,20,"listen"],[198,28,225,26],[198,29,225,27],[199,12,225,29,"port"],[199,16,225,33],[199,18,225,35,"PORT"],[199,22,225,39],[200,12,225,41,"host"],[200,16,225,45],[200,18,225,47],[201,10,225,57],[201,11,225,58],[201,13,225,60],[201,19,225,66],[202,12,226,10,"logger"],[202,18,226,16],[202,19,226,17,"debug"],[202,24,226,22],[202,25,226,23],[202,64,226,62,"ipAddress"],[202,73,226,71],[202,77,226,75,"PORT"],[202,81,226,79],[202,83,226,81],[202,84,226,82],[203,12,227,10],[203,16,227,14],[203,17,227,15,"isRunning"],[203,26,227,24],[203,29,227,27],[203,33,227,31],[204,12,228,10,"resolve"],[204,19,228,17],[204,20,228,18],[204,30,228,28,"ipAddress"],[204,39,228,37],[204,43,228,41,"PORT"],[204,47,228,45],[204,49,228,47],[204,50,228,48],[205,10,229,8],[205,11,229,9],[205,12,229,10],[206,10,231,8],[206,14,231,12],[206,15,231,13,"server"],[206,21,231,19],[206,22,231,20,"on"],[206,24,231,22],[206,25,231,23],[206,32,231,30],[206,34,231,33,"error"],[206,39,231,45],[206,43,231,50],[207,12,232,10,"logger"],[207,18,232,16],[207,19,232,17,"info"],[207,23,232,21],[207,24,232,22],[207,55,232,53],[207,57,232,55,"error"],[207,62,232,60],[207,63,232,61],[208,12,233,10],[208,16,233,14],[208,17,233,15,"isRunning"],[208,26,233,24],[208,29,233,27],[208,34,233,32],[209,12,234,10],[210,12,235,10],[210,16,235,14,"error"],[210,21,235,19],[210,22,235,20,"message"],[210,29,235,27],[210,33,235,31,"error"],[210,38,235,36],[210,39,235,37,"message"],[210,46,235,44],[210,47,235,45,"includes"],[210,55,235,53],[210,56,235,54],[210,68,235,66],[210,69,235,67],[210,71,235,69],[211,14,236,12,"reject"],[211,20,236,18],[211,21,236,19],[211,25,236,23,"Error"],[211,30,236,28],[211,31,236,29],[211,51,236,49],[211,52,236,50],[211,53,236,51],[212,12,237,10],[212,13,237,11],[212,19,237,17],[213,14,238,12,"reject"],[213,20,238,18],[213,21,238,19,"error"],[213,26,238,24],[213,27,238,25],[214,12,239,10],[215,10,240,8],[215,11,240,9],[215,12,240,10],[216,8,242,6],[216,9,242,7],[216,10,242,8],[216,17,242,15,"error"],[216,22,242,20],[216,24,242,22],[217,10,243,8,"logger"],[217,16,243,14],[217,17,243,15,"info"],[217,21,243,19],[217,22,243,20],[217,63,243,61],[217,65,243,63,"error"],[217,70,243,68],[217,71,243,69],[218,10,244,8,"reject"],[218,16,244,14],[218,17,244,15,"error"],[218,22,244,20],[218,23,244,21],[219,8,245,6],[220,6,246,4],[220,7,246,5],[220,8,246,6],[221,4,247,2],[222,4,249,9,"stop"],[222,8,249,13,"stop"],[222,9,249,13],[222,11,249,16],[223,6,250,4],[223,10,250,8],[224,8,251,6],[224,12,251,10],[224,16,251,14],[224,17,251,15,"server"],[224,23,251,21],[224,25,251,23],[225,10,252,8],[225,14,252,12],[225,15,252,13,"server"],[225,21,252,19],[225,22,252,20,"close"],[225,27,252,25],[225,28,252,26],[225,29,252,27],[226,10,253,8,"logger"],[226,16,253,14],[226,17,253,15,"debug"],[226,22,253,20],[226,23,253,21],[226,55,253,53],[226,56,253,54],[227,8,254,6],[228,6,255,4],[228,7,255,5],[228,8,255,6],[228,15,255,13,"error"],[228,20,255,18],[228,22,255,20],[229,8,256,6,"logger"],[229,14,256,12],[229,15,256,13,"info"],[229,19,256,17],[229,20,256,18],[229,60,256,58],[229,62,256,60,"error"],[229,67,256,65],[229,68,256,66],[230,6,257,4],[230,7,257,5],[230,16,257,14],[231,8,258,6],[231,12,258,10],[231,13,258,11,"isRunning"],[231,22,258,20],[231,25,258,23],[231,30,258,28],[232,8,259,6],[232,12,259,10],[232,13,259,11,"server"],[232,19,259,17],[232,22,259,20],[232,26,259,24],[233,6,260,4],[234,4,261,2],[235,4,263,9,"getIsRunning"],[235,16,263,21,"getIsRunning"],[235,17,263,21],[235,19,263,33],[236,6,264,4],[236,13,264,11],[236,17,264,15],[236,18,264,16,"isRunning"],[236,27,264,25],[237,4,265,2],[238,2,266,0],[239,2,266,1],[239,6,266,1,"_default"],[239,14,266,1],[239,17,266,1,"exports"],[239,24,266,1],[239,25,266,1,"default"],[239,32,266,1],[239,35,268,15,"TCPHttpServer"],[239,48,268,28],[240,0,268,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#handleConnection","socket.on$argument_1","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;AC0B;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;sBCK;KDiC;uBCE;KDE;uBCE;KDE;GJC;EME;GNE;EOE;uBCkC;6CCoB;SDE;4DEgB;SFI;gCGE;SHS;KDM;GPC;EYE;GZY;EaE;GbE;CDC"}},"type":"js/module"}]}