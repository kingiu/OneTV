{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":305,"column":29,"index":9256}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":305,"column":29,"index":9256}}],"key":"jM/HC84YZkM9kLoiCo0Bpf0Xr+w="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":29,"column":0,"index":1009},"end":{"line":29,"column":54,"index":1063}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":30,"column":0,"index":1064},"end":{"line":30,"column":36,"index":1100}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":28,"column":35,"index":973},"end":{"line":28,"column":69,"index":1007}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _Platform = _interopRequireDefault(require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\"));\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[3], \"@/utils/Logger\"));\n  // Buffer类型将在expo-env.d.ts中声明\n\n  // 为TcpSocket创建完整的类型声明\n\n  // 导入并断言类型\n  const TcpSocket = require(_dependencyMap[4], \"react-native-tcp-socket\");\n  const logger = _Logger.default.withTag('TCPHttpServer');\n  const PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n\n  class TCPHttpServer {\n    server = null;\n    isRunning = false;\n    requestHandler = null;\n    constructor() {\n      this.server = null;\n    }\n    parseHttpRequest(data) {\n      try {\n        const lines = data.split('\\r\\n');\n        const requestLine = lines[0].split(' ');\n        if (requestLine.length < 3) {\n          return null;\n        }\n        const method = requestLine[0];\n        const url = requestLine[1];\n        const headers = {};\n        let bodyStartIndex = -1;\n        for (let i = 1; i < lines.length; i++) {\n          const line = lines[i];\n          if (line === '') {\n            bodyStartIndex = i + 1;\n            break;\n          }\n          const colonIndex = line.indexOf(':');\n          if (colonIndex > 0) {\n            const key = line.substring(0, colonIndex).trim().toLowerCase();\n            const value = line.substring(colonIndex + 1).trim();\n            headers[key] = value;\n          }\n        }\n        const body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n        return {\n          method,\n          url,\n          headers,\n          body\n        };\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n        return null;\n      }\n    }\n    formatHttpResponse(response) {\n      const statusTexts = {\n        200: 'OK',\n        400: 'Bad Request',\n        404: 'Not Found',\n        500: 'Internal Server Error'\n      };\n      const statusText = statusTexts[response.statusCode] || 'Unknown';\n      const headers = {\n        'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n        'Connection': 'close',\n        ...response.headers\n      };\n      let httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n      for (const [key, value] of Object.entries(headers)) {\n        httpResponse += `${key}: ${value}\\r\\n`;\n      }\n      httpResponse += '\\r\\n';\n      httpResponse += response.body;\n      return httpResponse;\n    }\n    setRequestHandler(handler) {\n      this.requestHandler = handler;\n    }\n    async start() {\n      // 确保之前的服务器实例已关闭\n      if (this.server && !this.isRunning) {\n        try {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Old server instance closed');\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error closing old server:', error);\n        }\n        this.server = null;\n      }\n      const netState = await _netinfo.default.fetch();\n      let ipAddress = null;\n      if (netState.type === 'wifi' || netState.type === 'ethernet') {\n        ipAddress = netState.details?.ipAddress ?? null;\n      }\n      if (!ipAddress) {\n        throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n      }\n      if (this.isRunning) {\n        logger.debug('[TCPHttpServer] Server is already running.');\n        return `http://${ipAddress}:${PORT}`;\n      }\n\n      // Web平台不支持TCP服务器\n      if (_Platform.default.OS === 'web') {\n        logger.error('[TCPHttpServer] TCP server not supported on web platform');\n        throw new Error('Web平台不支持TCP服务器');\n      }\n      return new Promise((resolve, reject) => {\n        try {\n          // 检查TcpSocket是否可用\n          if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n            logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n            reject(new Error('TCP服务器初始化失败'));\n            return;\n          }\n\n          // 确保在创建新服务器前，server为null\n          if (this.server) {\n            try {\n              this.server.close();\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing previous server:', error);\n            }\n            this.server = null;\n          }\n\n          // 创建服务器实例\n          this.server = TcpSocket.createServer(socket => {\n            logger.debug('[TCPHttpServer] Client connected');\n            let requestData = '';\n            socket.on('data', async data => {\n              requestData += data.toString();\n\n              // Check if we have a complete HTTP request\n              if (requestData.includes('\\r\\n\\r\\n')) {\n                try {\n                  const request = this.parseHttpRequest(requestData);\n                  if (request && this.requestHandler) {\n                    const response = await this.requestHandler(request);\n                    const httpResponse = this.formatHttpResponse(response);\n                    socket.write(httpResponse);\n                  } else {\n                    // Send 400 Bad Request for malformed requests\n                    const errorResponse = this.formatHttpResponse({\n                      statusCode: 400,\n                      headers: {\n                        'Content-Type': 'text/plain'\n                      },\n                      body: 'Bad Request'\n                    });\n                    socket.write(errorResponse);\n                  }\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error handling request:', error);\n                  const errorResponse = this.formatHttpResponse({\n                    statusCode: 500,\n                    headers: {\n                      'Content-Type': 'text/plain'\n                    },\n                    body: 'Internal Server Error'\n                  });\n                  socket.write(errorResponse);\n                }\n                socket.end();\n                requestData = '';\n              }\n            });\n            socket.on('error', error => {\n              logger.info('[TCPHttpServer] Socket error:', error);\n            });\n            socket.on('close', () => {\n              logger.debug('[TCPHttpServer] Client disconnected');\n            });\n          });\n\n          // 确保server不为null再调用listen\n          if (!this.server) {\n            logger.error('[TCPHttpServer] Server instance is null');\n            reject(new Error('服务器实例创建失败'));\n            return;\n          }\n\n          // 添加错误处理，确保listen方法存在并且是函数\n          if (!this.server.listen || typeof this.server.listen !== 'function') {\n            logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n            reject(new Error('服务器监听方法不可用'));\n            return;\n          }\n          this.server.listen({\n            port: PORT,\n            host: '0.0.0.0'\n          }, () => {\n            logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n            this.isRunning = true;\n            resolve(`http://${ipAddress}:${PORT}`);\n          });\n          this.server.on('error', error => {\n            logger.info('[TCPHttpServer] Server error:', error);\n            this.isRunning = false;\n            // 针对端口占用的错误提供更友好的消息\n            if (error.message && error.message.includes('EADDRINUSE')) {\n              reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n            } else {\n              reject(error);\n            }\n          });\n        } catch (error) {\n          logger.info('[TCPHttpServer] Failed to start server:', error);\n          reject(error);\n        }\n      });\n    }\n    stop() {\n      try {\n        if (this.server) {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Server stopped');\n        }\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error stopping server:', error);\n      } finally {\n        this.isRunning = false;\n        this.server = null;\n      }\n    }\n    getIsRunning() {\n      return this.isRunning;\n    }\n  }\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":242,"map":[[8,2,29,0],[8,6,29,0,"_netinfo"],[8,14,29,0],[8,17,29,0,"_interopRequireDefault"],[8,39,29,0],[8,40,29,0,"require"],[8,47,29,0],[8,48,29,0,"_dependencyMap"],[8,62,29,0],[9,2,30,0],[9,6,30,0,"_Logger"],[9,13,30,0],[9,16,30,0,"_interopRequireDefault"],[9,38,30,0],[9,39,30,0,"require"],[9,46,30,0],[9,47,30,0,"_dependencyMap"],[9,61,30,0],[10,2,2,0],[12,2,4,0],[14,2,27,0],[15,2,28,0],[15,8,28,6,"TcpSocket"],[15,17,28,32],[15,20,28,35,"require"],[15,27,28,42],[15,28,28,42,"_dependencyMap"],[15,42,28,42],[15,72,28,68],[15,73,28,69],[16,2,32,0],[16,8,32,6,"logger"],[16,14,32,12],[16,17,32,15,"Logger"],[16,32,32,21],[16,33,32,22,"withTag"],[16,40,32,29],[16,41,32,30],[16,56,32,45],[16,57,32,46],[17,2,34,0],[17,8,34,6,"PORT"],[17,12,34,10],[17,15,34,13],[17,20,34,18],[19,2,36,0],[21,2,43,0],[23,2,68,0],[23,8,68,6,"TCPHttpServer"],[23,21,68,19],[23,22,68,20],[24,4,69,10,"server"],[24,10,69,16],[24,13,69,45],[24,17,69,49],[25,4,70,10,"isRunning"],[25,13,70,19],[25,16,70,22],[25,21,70,27],[26,4,71,10,"requestHandler"],[26,18,71,24],[26,21,71,50],[26,25,71,54],[27,4,73,2,"constructor"],[27,15,73,13,"constructor"],[27,16,73,13],[27,18,73,16],[28,6,74,4],[28,10,74,8],[28,11,74,9,"server"],[28,17,74,15],[28,20,74,18],[28,24,74,22],[29,4,75,2],[30,4,77,10,"parseHttpRequest"],[30,20,77,26,"parseHttpRequest"],[30,21,77,27,"data"],[30,25,77,39],[30,27,77,61],[31,6,78,4],[31,10,78,8],[32,8,79,6],[32,14,79,12,"lines"],[32,19,79,17],[32,22,79,20,"data"],[32,26,79,24],[32,27,79,25,"split"],[32,32,79,30],[32,33,79,31],[32,39,79,37],[32,40,79,38],[33,8,80,6],[33,14,80,12,"requestLine"],[33,25,80,23],[33,28,80,26,"lines"],[33,33,80,31],[33,34,80,32],[33,35,80,33],[33,36,80,34],[33,37,80,35,"split"],[33,42,80,40],[33,43,80,41],[33,46,80,44],[33,47,80,45],[34,8,82,6],[34,12,82,10,"requestLine"],[34,23,82,21],[34,24,82,22,"length"],[34,30,82,28],[34,33,82,31],[34,34,82,32],[34,36,82,34],[35,10,83,8],[35,17,83,15],[35,21,83,19],[36,8,84,6],[37,8,86,6],[37,14,86,12,"method"],[37,20,86,18],[37,23,86,21,"requestLine"],[37,34,86,32],[37,35,86,33],[37,36,86,34],[37,37,86,35],[38,8,87,6],[38,14,87,12,"url"],[38,17,87,15],[38,20,87,18,"requestLine"],[38,31,87,29],[38,32,87,30],[38,33,87,31],[38,34,87,32],[39,8,88,6],[39,14,88,12,"headers"],[39,21,88,46],[39,24,88,49],[39,25,88,50],[39,26,88,51],[40,8,90,6],[40,12,90,10,"bodyStartIndex"],[40,26,90,24],[40,29,90,27],[40,30,90,28],[40,31,90,29],[41,8,91,6],[41,13,91,11],[41,17,91,15,"i"],[41,18,91,16],[41,21,91,19],[41,22,91,20],[41,24,91,22,"i"],[41,25,91,23],[41,28,91,26,"lines"],[41,33,91,31],[41,34,91,32,"length"],[41,40,91,38],[41,42,91,40,"i"],[41,43,91,41],[41,45,91,43],[41,47,91,45],[42,10,92,8],[42,16,92,14,"line"],[42,20,92,18],[42,23,92,21,"lines"],[42,28,92,26],[42,29,92,27,"i"],[42,30,92,28],[42,31,92,29],[43,10,93,8],[43,14,93,12,"line"],[43,18,93,16],[43,23,93,21],[43,25,93,23],[43,27,93,25],[44,12,94,10,"bodyStartIndex"],[44,26,94,24],[44,29,94,27,"i"],[44,30,94,28],[44,33,94,31],[44,34,94,32],[45,12,95,10],[46,10,96,8],[47,10,97,8],[47,16,97,14,"colonIndex"],[47,26,97,24],[47,29,97,27,"line"],[47,33,97,31],[47,34,97,32,"indexOf"],[47,41,97,39],[47,42,97,40],[47,45,97,43],[47,46,97,44],[48,10,98,8],[48,14,98,12,"colonIndex"],[48,24,98,22],[48,27,98,25],[48,28,98,26],[48,30,98,28],[49,12,99,10],[49,18,99,16,"key"],[49,21,99,19],[49,24,99,22,"line"],[49,28,99,26],[49,29,99,27,"substring"],[49,38,99,36],[49,39,99,37],[49,40,99,38],[49,42,99,40,"colonIndex"],[49,52,99,50],[49,53,99,51],[49,54,99,52,"trim"],[49,58,99,56],[49,59,99,57],[49,60,99,58],[49,61,99,59,"toLowerCase"],[49,72,99,70],[49,73,99,71],[49,74,99,72],[50,12,100,10],[50,18,100,16,"value"],[50,23,100,21],[50,26,100,24,"line"],[50,30,100,28],[50,31,100,29,"substring"],[50,40,100,38],[50,41,100,39,"colonIndex"],[50,51,100,49],[50,54,100,52],[50,55,100,53],[50,56,100,54],[50,57,100,55,"trim"],[50,61,100,59],[50,62,100,60],[50,63,100,61],[51,12,101,10,"headers"],[51,19,101,17],[51,20,101,18,"key"],[51,23,101,21],[51,24,101,22],[51,27,101,25,"value"],[51,32,101,30],[52,10,102,8],[53,8,103,6],[54,8,105,6],[54,14,105,12,"body"],[54,18,105,16],[54,21,105,19,"bodyStartIndex"],[54,35,105,33],[54,38,105,36],[54,39,105,37],[54,42,105,40,"lines"],[54,47,105,45],[54,48,105,46,"slice"],[54,53,105,51],[54,54,105,52,"bodyStartIndex"],[54,68,105,66],[54,69,105,67],[54,70,105,68,"join"],[54,74,105,72],[54,75,105,73],[54,81,105,79],[54,82,105,80],[54,85,105,83],[54,87,105,85],[55,8,107,6],[55,15,107,13],[56,10,107,15,"method"],[56,16,107,21],[57,10,107,23,"url"],[57,13,107,26],[58,10,107,28,"headers"],[58,17,107,35],[59,10,107,37,"body"],[60,8,107,42],[60,9,107,43],[61,6,108,4],[61,7,108,5],[61,8,108,6],[61,15,108,13,"error"],[61,20,108,18],[61,22,108,20],[62,8,109,6,"logger"],[62,14,109,12],[62,15,109,13,"info"],[62,19,109,17],[62,20,109,18],[62,65,109,63],[62,67,109,65,"error"],[62,72,109,70],[62,73,109,71],[63,8,110,6],[63,15,110,13],[63,19,110,17],[64,6,111,4],[65,4,112,2],[66,4,114,10,"formatHttpResponse"],[66,22,114,28,"formatHttpResponse"],[66,23,114,29,"response"],[66,31,114,51],[66,33,114,61],[67,6,115,4],[67,12,115,10,"statusTexts"],[67,23,115,48],[67,26,115,51],[68,8,116,6],[68,11,116,9],[68,13,116,11],[68,17,116,15],[69,8,117,6],[69,11,117,9],[69,13,117,11],[69,26,117,24],[70,8,118,6],[70,11,118,9],[70,13,118,11],[70,24,118,22],[71,8,119,6],[71,11,119,9],[71,13,119,11],[72,6,120,4],[72,7,120,5],[73,6,122,4],[73,12,122,10,"statusText"],[73,22,122,20],[73,25,122,23,"statusTexts"],[73,36,122,34],[73,37,122,35,"response"],[73,45,122,43],[73,46,122,44,"statusCode"],[73,56,122,54],[73,57,122,55],[73,61,122,59],[73,70,122,68],[74,6,123,4],[74,12,123,10,"headers"],[74,19,123,17],[74,22,123,20],[75,8,124,6],[75,24,124,22],[75,26,124,24],[75,30,124,28,"TextEncoder"],[75,41,124,39],[75,42,124,40],[75,43,124,41],[75,44,124,42,"encode"],[75,50,124,48],[75,51,124,49,"response"],[75,59,124,57],[75,60,124,58,"body"],[75,64,124,62],[75,65,124,63],[75,66,124,64,"length"],[75,72,124,70],[75,73,124,71,"toString"],[75,81,124,79],[75,82,124,80],[75,83,124,81],[76,8,125,6],[76,20,125,18],[76,22,125,20],[76,29,125,27],[77,8,126,6],[77,11,126,9,"response"],[77,19,126,17],[77,20,126,18,"headers"],[78,6,127,4],[78,7,127,5],[79,6,129,4],[79,10,129,8,"httpResponse"],[79,22,129,20],[79,25,129,23],[79,37,129,35,"response"],[79,45,129,43],[79,46,129,44,"statusCode"],[79,56,129,54],[79,60,129,58,"statusText"],[79,70,129,68],[79,76,129,74],[80,6,131,4],[80,11,131,9],[80,17,131,15],[80,18,131,16,"key"],[80,21,131,19],[80,23,131,21,"value"],[80,28,131,26],[80,29,131,27],[80,33,131,31,"Object"],[80,39,131,37],[80,40,131,38,"entries"],[80,47,131,45],[80,48,131,46,"headers"],[80,55,131,53],[80,56,131,54],[80,58,131,56],[81,8,132,6,"httpResponse"],[81,20,132,18],[81,24,132,22],[81,27,132,25,"key"],[81,30,132,28],[81,35,132,33,"value"],[81,40,132,38],[81,46,132,44],[82,6,133,4],[83,6,135,4,"httpResponse"],[83,18,135,16],[83,22,135,20],[83,28,135,26],[84,6,136,4,"httpResponse"],[84,18,136,16],[84,22,136,20,"response"],[84,30,136,28],[84,31,136,29,"body"],[84,35,136,33],[85,6,138,4],[85,13,138,11,"httpResponse"],[85,25,138,23],[86,4,139,2],[87,4,141,9,"setRequestHandler"],[87,21,141,26,"setRequestHandler"],[87,22,141,27,"handler"],[87,29,141,50],[87,31,141,52],[88,6,142,4],[88,10,142,8],[88,11,142,9,"requestHandler"],[88,25,142,23],[88,28,142,26,"handler"],[88,35,142,33],[89,4,143,2],[90,4,145,2],[90,10,145,15,"start"],[90,15,145,20,"start"],[90,16,145,20],[90,18,145,40],[91,6,146,4],[92,6,147,4],[92,10,147,8],[92,14,147,12],[92,15,147,13,"server"],[92,21,147,19],[92,25,147,23],[92,26,147,24],[92,30,147,28],[92,31,147,29,"isRunning"],[92,40,147,38],[92,42,147,40],[93,8,148,6],[93,12,148,10],[94,10,149,8],[94,14,149,12],[94,15,149,13,"server"],[94,21,149,19],[94,22,149,20,"close"],[94,27,149,25],[94,28,149,26],[94,29,149,27],[95,10,150,8,"logger"],[95,16,150,14],[95,17,150,15,"debug"],[95,22,150,20],[95,23,150,21],[95,67,150,65],[95,68,150,66],[96,8,151,6],[96,9,151,7],[96,10,151,8],[96,17,151,15,"error"],[96,22,151,20],[96,24,151,22],[97,10,152,8,"logger"],[97,16,152,14],[97,17,152,15,"info"],[97,21,152,19],[97,22,152,20],[97,65,152,63],[97,67,152,65,"error"],[97,72,152,70],[97,73,152,71],[98,8,153,6],[99,8,154,6],[99,12,154,10],[99,13,154,11,"server"],[99,19,154,17],[99,22,154,20],[99,26,154,24],[100,6,155,4],[101,6,157,4],[101,12,157,10,"netState"],[101,20,157,18],[101,23,157,21],[101,29,157,27,"NetInfo"],[101,45,157,34],[101,46,157,35,"fetch"],[101,51,157,40],[101,52,157,41],[101,53,157,42],[102,6,158,4],[102,10,158,8,"ipAddress"],[102,19,158,32],[102,22,158,35],[102,26,158,39],[103,6,160,4],[103,10,160,8,"netState"],[103,18,160,16],[103,19,160,17,"type"],[103,23,160,21],[103,28,160,26],[103,34,160,32],[103,38,160,36,"netState"],[103,46,160,44],[103,47,160,45,"type"],[103,51,160,49],[103,56,160,54],[103,66,160,64],[103,68,160,66],[104,8,161,6,"ipAddress"],[104,17,161,15],[104,20,161,19,"netState"],[104,28,161,27],[104,29,161,28,"details"],[104,36,161,35],[104,38,161,45,"ipAddress"],[104,47,161,54],[104,51,161,58],[104,55,161,62],[105,6,162,4],[106,6,164,4],[106,10,164,8],[106,11,164,9,"ipAddress"],[106,20,164,18],[106,22,164,20],[107,8,165,6],[107,14,165,12],[107,18,165,16,"Error"],[107,23,165,21],[107,24,165,22],[107,53,165,51],[107,54,165,52],[108,6,166,4],[109,6,168,4],[109,10,168,8],[109,14,168,12],[109,15,168,13,"isRunning"],[109,24,168,22],[109,26,168,24],[110,8,169,6,"logger"],[110,14,169,12],[110,15,169,13,"debug"],[110,20,169,18],[110,21,169,19],[110,65,169,63],[110,66,169,64],[111,8,170,6],[111,15,170,13],[111,25,170,23,"ipAddress"],[111,34,170,32],[111,38,170,36,"PORT"],[111,42,170,40],[111,44,170,42],[112,6,171,4],[114,6,173,4],[115,6,174,4],[115,10,174,8,"Platform"],[115,27,174,16],[115,28,174,17,"OS"],[115,30,174,19],[115,35,174,24],[115,40,174,29],[115,42,174,31],[116,8,175,6,"logger"],[116,14,175,12],[116,15,175,13,"error"],[116,20,175,18],[116,21,175,19],[116,79,175,77],[116,80,175,78],[117,8,176,6],[117,14,176,12],[117,18,176,16,"Error"],[117,23,176,21],[117,24,176,22],[117,40,176,38],[117,41,176,39],[118,6,177,4],[119,6,179,4],[119,13,179,11],[119,17,179,15,"Promise"],[119,24,179,22],[119,25,179,23],[119,26,179,24,"resolve"],[119,33,179,31],[119,35,179,33,"reject"],[119,41,179,39],[119,46,179,44],[120,8,180,6],[120,12,180,10],[121,10,181,8],[122,10,182,8],[122,14,182,12],[122,15,182,13,"TcpSocket"],[122,24,182,22],[122,28,182,26],[122,35,182,33,"TcpSocket"],[122,44,182,42],[122,45,182,43,"createServer"],[122,57,182,55],[122,62,182,60],[122,72,182,70],[122,74,182,72],[123,12,183,10,"logger"],[123,18,183,16],[123,19,183,17,"error"],[123,24,183,22],[123,25,183,23],[123,93,183,91],[123,94,183,92],[124,12,184,10,"reject"],[124,18,184,16],[124,19,184,17],[124,23,184,21,"Error"],[124,28,184,26],[124,29,184,27],[124,42,184,40],[124,43,184,41],[124,44,184,42],[125,12,185,10],[126,10,186,8],[128,10,188,8],[129,10,189,8],[129,14,189,12],[129,18,189,16],[129,19,189,17,"server"],[129,25,189,23],[129,27,189,25],[130,12,190,10],[130,16,190,14],[131,14,191,12],[131,18,191,16],[131,19,191,17,"server"],[131,25,191,23],[131,26,191,24,"close"],[131,31,191,29],[131,32,191,30],[131,33,191,31],[132,12,192,10],[132,13,192,11],[132,14,192,12],[132,21,192,19,"error"],[132,26,192,24],[132,28,192,26],[133,14,193,12,"logger"],[133,20,193,18],[133,21,193,19,"info"],[133,25,193,23],[133,26,193,24],[133,74,193,72],[133,76,193,74,"error"],[133,81,193,79],[133,82,193,80],[134,12,194,10],[135,12,195,10],[135,16,195,14],[135,17,195,15,"server"],[135,23,195,21],[135,26,195,24],[135,30,195,28],[136,10,196,8],[138,10,198,8],[139,10,199,8],[139,14,199,12],[139,15,199,13,"server"],[139,21,199,19],[139,24,199,22,"TcpSocket"],[139,33,199,31],[139,34,199,32,"createServer"],[139,46,199,44],[139,47,199,46,"socket"],[139,53,199,71],[139,57,199,76],[140,12,200,10,"logger"],[140,18,200,16],[140,19,200,17,"debug"],[140,24,200,22],[140,25,200,23],[140,59,200,57],[140,60,200,58],[141,12,202,10],[141,16,202,14,"requestData"],[141,27,202,25],[141,30,202,28],[141,32,202,30],[142,12,204,10,"socket"],[142,18,204,16],[142,19,204,17,"on"],[142,21,204,19],[142,22,204,20],[142,28,204,26],[142,30,204,28],[142,36,204,35,"data"],[142,40,204,56],[142,44,204,61],[143,14,205,12,"requestData"],[143,25,205,23],[143,29,205,27,"data"],[143,33,205,31],[143,34,205,32,"toString"],[143,42,205,40],[143,43,205,41],[143,44,205,42],[145,14,207,12],[146,14,208,12],[146,18,208,16,"requestData"],[146,29,208,27],[146,30,208,28,"includes"],[146,38,208,36],[146,39,208,37],[146,49,208,47],[146,50,208,48],[146,52,208,50],[147,16,209,14],[147,20,209,18],[148,18,210,16],[148,24,210,22,"request"],[148,31,210,29],[148,34,210,32],[148,38,210,36],[148,39,210,37,"parseHttpRequest"],[148,55,210,53],[148,56,210,54,"requestData"],[148,67,210,65],[148,68,210,66],[149,18,211,16],[149,22,211,20,"request"],[149,29,211,27],[149,33,211,31],[149,37,211,35],[149,38,211,36,"requestHandler"],[149,52,211,50],[149,54,211,52],[150,20,212,18],[150,26,212,24,"response"],[150,34,212,32],[150,37,212,35],[150,43,212,41],[150,47,212,45],[150,48,212,46,"requestHandler"],[150,62,212,60],[150,63,212,61,"request"],[150,70,212,68],[150,71,212,69],[151,20,213,18],[151,26,213,24,"httpResponse"],[151,38,213,36],[151,41,213,39],[151,45,213,43],[151,46,213,44,"formatHttpResponse"],[151,64,213,62],[151,65,213,63,"response"],[151,73,213,71],[151,74,213,72],[152,20,214,18,"socket"],[152,26,214,24],[152,27,214,25,"write"],[152,32,214,30],[152,33,214,31,"httpResponse"],[152,45,214,43],[152,46,214,44],[153,18,215,16],[153,19,215,17],[153,25,215,23],[154,20,216,18],[155,20,217,18],[155,26,217,24,"errorResponse"],[155,39,217,37],[155,42,217,40],[155,46,217,44],[155,47,217,45,"formatHttpResponse"],[155,65,217,63],[155,66,217,64],[156,22,218,20,"statusCode"],[156,32,218,30],[156,34,218,32],[156,37,218,35],[157,22,219,20,"headers"],[157,29,219,27],[157,31,219,29],[158,24,219,31],[158,38,219,45],[158,40,219,47],[159,22,219,60],[159,23,219,61],[160,22,220,20,"body"],[160,26,220,24],[160,28,220,26],[161,20,221,18],[161,21,221,19],[161,22,221,20],[162,20,222,18,"socket"],[162,26,222,24],[162,27,222,25,"write"],[162,32,222,30],[162,33,222,31,"errorResponse"],[162,46,222,44],[162,47,222,45],[163,18,223,16],[164,16,224,14],[164,17,224,15],[164,18,224,16],[164,25,224,23,"error"],[164,30,224,28],[164,32,224,30],[165,18,225,16,"logger"],[165,24,225,22],[165,25,225,23,"info"],[165,29,225,27],[165,30,225,28],[165,71,225,69],[165,73,225,71,"error"],[165,78,225,76],[165,79,225,77],[166,18,226,16],[166,24,226,22,"errorResponse"],[166,37,226,35],[166,40,226,38],[166,44,226,42],[166,45,226,43,"formatHttpResponse"],[166,63,226,61],[166,64,226,62],[167,20,227,18,"statusCode"],[167,30,227,28],[167,32,227,30],[167,35,227,33],[168,20,228,18,"headers"],[168,27,228,25],[168,29,228,27],[169,22,228,29],[169,36,228,43],[169,38,228,45],[170,20,228,58],[170,21,228,59],[171,20,229,18,"body"],[171,24,229,22],[171,26,229,24],[172,18,230,16],[172,19,230,17],[172,20,230,18],[173,18,231,16,"socket"],[173,24,231,22],[173,25,231,23,"write"],[173,30,231,28],[173,31,231,29,"errorResponse"],[173,44,231,42],[173,45,231,43],[174,16,232,14],[175,16,234,14,"socket"],[175,22,234,20],[175,23,234,21,"end"],[175,26,234,24],[175,27,234,25],[175,28,234,26],[176,16,235,14,"requestData"],[176,27,235,25],[176,30,235,28],[176,32,235,30],[177,14,236,12],[178,12,237,10],[178,13,237,11],[178,14,237,12],[179,12,239,10,"socket"],[179,18,239,16],[179,19,239,17,"on"],[179,21,239,19],[179,22,239,20],[179,29,239,27],[179,31,239,30,"error"],[179,36,239,42],[179,40,239,47],[180,14,240,12,"logger"],[180,20,240,18],[180,21,240,19,"info"],[180,25,240,23],[180,26,240,24],[180,57,240,55],[180,59,240,57,"error"],[180,64,240,62],[180,65,240,63],[181,12,241,10],[181,13,241,11],[181,14,241,12],[182,12,243,10,"socket"],[182,18,243,16],[182,19,243,17,"on"],[182,21,243,19],[182,22,243,20],[182,29,243,27],[182,31,243,29],[182,37,243,35],[183,14,244,12,"logger"],[183,20,244,18],[183,21,244,19,"debug"],[183,26,244,24],[183,27,244,25],[183,64,244,62],[183,65,244,63],[184,12,245,10],[184,13,245,11],[184,14,245,12],[185,10,246,8],[185,11,246,9],[185,12,246,10],[187,10,248,8],[188,10,249,8],[188,14,249,12],[188,15,249,13],[188,19,249,17],[188,20,249,18,"server"],[188,26,249,24],[188,28,249,26],[189,12,250,10,"logger"],[189,18,250,16],[189,19,250,17,"error"],[189,24,250,22],[189,25,250,23],[189,66,250,64],[189,67,250,65],[190,12,251,10,"reject"],[190,18,251,16],[190,19,251,17],[190,23,251,21,"Error"],[190,28,251,26],[190,29,251,27],[190,40,251,38],[190,41,251,39],[190,42,251,40],[191,12,252,10],[192,10,253,8],[194,10,255,8],[195,10,256,8],[195,14,256,12],[195,15,256,13],[195,19,256,17],[195,20,256,18,"server"],[195,26,256,24],[195,27,256,25,"listen"],[195,33,256,31],[195,37,256,35],[195,44,256,42],[195,48,256,46],[195,49,256,47,"server"],[195,55,256,53],[195,56,256,54,"listen"],[195,62,256,60],[195,67,256,65],[195,77,256,75],[195,79,256,77],[196,12,257,10,"logger"],[196,18,257,16],[196,19,257,17,"error"],[196,24,257,22],[196,25,257,23],[196,98,257,96],[196,99,257,97],[197,12,258,10,"reject"],[197,18,258,16],[197,19,258,17],[197,23,258,21,"Error"],[197,28,258,26],[197,29,258,27],[197,41,258,39],[197,42,258,40],[197,43,258,41],[198,12,259,10],[199,10,260,8],[200,10,262,8],[200,14,262,12],[200,15,262,13,"server"],[200,21,262,19],[200,22,262,20,"listen"],[200,28,262,26],[200,29,262,27],[201,12,262,29,"port"],[201,16,262,33],[201,18,262,35,"PORT"],[201,22,262,39],[202,12,262,41,"host"],[202,16,262,45],[202,18,262,47],[203,10,262,57],[203,11,262,58],[203,13,262,60],[203,19,262,66],[204,12,263,10,"logger"],[204,18,263,16],[204,19,263,17,"debug"],[204,24,263,22],[204,25,263,23],[204,64,263,62,"ipAddress"],[204,73,263,71],[204,77,263,75,"PORT"],[204,81,263,79],[204,83,263,81],[204,84,263,82],[205,12,264,10],[205,16,264,14],[205,17,264,15,"isRunning"],[205,26,264,24],[205,29,264,27],[205,33,264,31],[206,12,265,10,"resolve"],[206,19,265,17],[206,20,265,18],[206,30,265,28,"ipAddress"],[206,39,265,37],[206,43,265,41,"PORT"],[206,47,265,45],[206,49,265,47],[206,50,265,48],[207,10,266,8],[207,11,266,9],[207,12,266,10],[208,10,268,8],[208,14,268,12],[208,15,268,13,"server"],[208,21,268,19],[208,22,268,20,"on"],[208,24,268,22],[208,25,268,23],[208,32,268,30],[208,34,268,33,"error"],[208,39,268,45],[208,43,268,50],[209,12,269,10,"logger"],[209,18,269,16],[209,19,269,17,"info"],[209,23,269,21],[209,24,269,22],[209,55,269,53],[209,57,269,55,"error"],[209,62,269,60],[209,63,269,61],[210,12,270,10],[210,16,270,14],[210,17,270,15,"isRunning"],[210,26,270,24],[210,29,270,27],[210,34,270,32],[211,12,271,10],[212,12,272,10],[212,16,272,14,"error"],[212,21,272,19],[212,22,272,20,"message"],[212,29,272,27],[212,33,272,31,"error"],[212,38,272,36],[212,39,272,37,"message"],[212,46,272,44],[212,47,272,45,"includes"],[212,55,272,53],[212,56,272,54],[212,68,272,66],[212,69,272,67],[212,71,272,69],[213,14,273,12,"reject"],[213,20,273,18],[213,21,273,19],[213,25,273,23,"Error"],[213,30,273,28],[213,31,273,29],[213,51,273,49],[213,52,273,50],[213,53,273,51],[214,12,274,10],[214,13,274,11],[214,19,274,17],[215,14,275,12,"reject"],[215,20,275,18],[215,21,275,19,"error"],[215,26,275,24],[215,27,275,25],[216,12,276,10],[217,10,277,8],[217,11,277,9],[217,12,277,10],[218,8,279,6],[218,9,279,7],[218,10,279,8],[218,17,279,15,"error"],[218,22,279,20],[218,24,279,22],[219,10,280,8,"logger"],[219,16,280,14],[219,17,280,15,"info"],[219,21,280,19],[219,22,280,20],[219,63,280,61],[219,65,280,63,"error"],[219,70,280,68],[219,71,280,69],[220,10,281,8,"reject"],[220,16,281,14],[220,17,281,15,"error"],[220,22,281,20],[220,23,281,21],[221,8,282,6],[222,6,283,4],[222,7,283,5],[222,8,283,6],[223,4,284,2],[224,4,286,9,"stop"],[224,8,286,13,"stop"],[224,9,286,13],[224,11,286,16],[225,6,287,4],[225,10,287,8],[226,8,288,6],[226,12,288,10],[226,16,288,14],[226,17,288,15,"server"],[226,23,288,21],[226,25,288,23],[227,10,289,8],[227,14,289,12],[227,15,289,13,"server"],[227,21,289,19],[227,22,289,20,"close"],[227,27,289,25],[227,28,289,26],[227,29,289,27],[228,10,290,8,"logger"],[228,16,290,14],[228,17,290,15,"debug"],[228,22,290,20],[228,23,290,21],[228,55,290,53],[228,56,290,54],[229,8,291,6],[230,6,292,4],[230,7,292,5],[230,8,292,6],[230,15,292,13,"error"],[230,20,292,18],[230,22,292,20],[231,8,293,6,"logger"],[231,14,293,12],[231,15,293,13,"info"],[231,19,293,17],[231,20,293,18],[231,60,293,58],[231,62,293,60,"error"],[231,67,293,65],[231,68,293,66],[232,6,294,4],[232,7,294,5],[232,16,294,14],[233,8,295,6],[233,12,295,10],[233,13,295,11,"isRunning"],[233,22,295,20],[233,25,295,23],[233,30,295,28],[234,8,296,6],[234,12,296,10],[234,13,296,11,"server"],[234,19,296,17],[234,22,296,20],[234,26,296,24],[235,6,297,4],[236,4,298,2],[237,4,300,9,"getIsRunning"],[237,16,300,21,"getIsRunning"],[237,17,300,21],[237,19,300,33],[238,6,301,4],[238,13,301,11],[238,17,301,15],[238,18,301,16,"isRunning"],[238,27,301,25],[239,4,302,2],[240,2,303,0],[241,2,303,1],[241,6,303,1,"_default"],[241,14,303,1],[241,17,303,1,"exports"],[241,24,303,1],[241,25,303,1,"default"],[241,32,303,1],[241,35,305,15,"TCPHttpServer"],[241,48,305,28],[242,0,305,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;ACmE;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}