{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":315,"column":29,"index":9543}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":315,"column":29,"index":9543}}],"key":"jM/HC84YZkM9kLoiCo0Bpf0Xr+w="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":39,"column":0,"index":1296},"end":{"line":39,"column":54,"index":1350}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":40,"column":0,"index":1351},"end":{"line":40,"column":36,"index":1387}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":38,"column":35,"index":1260},"end":{"line":38,"column":69,"index":1294}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _Platform = _interopRequireDefault(require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\"));\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-community/netinfo\"));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[3], \"@/utils/Logger\"));\n  // 为Buffer添加类型声明\n\n  // 为TcpSocket创建完整的类型声明\n\n  // 导入并断言类型\n  const TcpSocket = require(_dependencyMap[4], \"react-native-tcp-socket\");\n  const logger = _Logger.default.withTag('TCPHttpServer');\n  const PORT = 12346;\n\n  // 完整的Server类型定义\n\n  // 完整的Socket类型定义\n\n  class TCPHttpServer {\n    server = null;\n    isRunning = false;\n    requestHandler = null;\n    constructor() {\n      this.server = null;\n    }\n    parseHttpRequest(data) {\n      try {\n        const lines = data.split('\\r\\n');\n        const requestLine = lines[0].split(' ');\n        if (requestLine.length < 3) {\n          return null;\n        }\n        const method = requestLine[0];\n        const url = requestLine[1];\n        const headers = {};\n        let bodyStartIndex = -1;\n        for (let i = 1; i < lines.length; i++) {\n          const line = lines[i];\n          if (line === '') {\n            bodyStartIndex = i + 1;\n            break;\n          }\n          const colonIndex = line.indexOf(':');\n          if (colonIndex > 0) {\n            const key = line.substring(0, colonIndex).trim().toLowerCase();\n            const value = line.substring(colonIndex + 1).trim();\n            headers[key] = value;\n          }\n        }\n        const body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n        return {\n          method,\n          url,\n          headers,\n          body\n        };\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n        return null;\n      }\n    }\n    formatHttpResponse(response) {\n      const statusTexts = {\n        200: 'OK',\n        400: 'Bad Request',\n        404: 'Not Found',\n        500: 'Internal Server Error'\n      };\n      const statusText = statusTexts[response.statusCode] || 'Unknown';\n      const headers = {\n        'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n        'Connection': 'close',\n        ...response.headers\n      };\n      let httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n      for (const [key, value] of Object.entries(headers)) {\n        httpResponse += `${key}: ${value}\\r\\n`;\n      }\n      httpResponse += '\\r\\n';\n      httpResponse += response.body;\n      return httpResponse;\n    }\n    setRequestHandler(handler) {\n      this.requestHandler = handler;\n    }\n    async start() {\n      // 确保之前的服务器实例已关闭\n      if (this.server && !this.isRunning) {\n        try {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Old server instance closed');\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error closing old server:', error);\n        }\n        this.server = null;\n      }\n      const netState = await _netinfo.default.fetch();\n      let ipAddress = null;\n      if (netState.type === 'wifi' || netState.type === 'ethernet') {\n        ipAddress = netState.details?.ipAddress ?? null;\n      }\n      if (!ipAddress) {\n        throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n      }\n      if (this.isRunning) {\n        logger.debug('[TCPHttpServer] Server is already running.');\n        return `http://${ipAddress}:${PORT}`;\n      }\n\n      // Web平台不支持TCP服务器\n      if (_Platform.default.OS === 'web') {\n        logger.error('[TCPHttpServer] TCP server not supported on web platform');\n        throw new Error('Web平台不支持TCP服务器');\n      }\n      return new Promise((resolve, reject) => {\n        try {\n          // 检查TcpSocket是否可用\n          if (!TcpSocket || typeof TcpSocket.createServer !== 'function') {\n            logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n            reject(new Error('TCP服务器初始化失败'));\n            return;\n          }\n\n          // 确保在创建新服务器前，server为null\n          if (this.server) {\n            try {\n              this.server.close();\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing previous server:', error);\n            }\n            this.server = null;\n          }\n\n          // 创建服务器实例\n          this.server = TcpSocket.createServer(socket => {\n            logger.debug('[TCPHttpServer] Client connected');\n            let requestData = '';\n            socket.on('data', async data => {\n              requestData += data.toString();\n\n              // Check if we have a complete HTTP request\n              if (requestData.includes('\\r\\n\\r\\n')) {\n                try {\n                  const request = this.parseHttpRequest(requestData);\n                  if (request && this.requestHandler) {\n                    const response = await this.requestHandler(request);\n                    const httpResponse = this.formatHttpResponse(response);\n                    socket.write(httpResponse);\n                  } else {\n                    // Send 400 Bad Request for malformed requests\n                    const errorResponse = this.formatHttpResponse({\n                      statusCode: 400,\n                      headers: {\n                        'Content-Type': 'text/plain'\n                      },\n                      body: 'Bad Request'\n                    });\n                    socket.write(errorResponse);\n                  }\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error handling request:', error);\n                  const errorResponse = this.formatHttpResponse({\n                    statusCode: 500,\n                    headers: {\n                      'Content-Type': 'text/plain'\n                    },\n                    body: 'Internal Server Error'\n                  });\n                  socket.write(errorResponse);\n                }\n                socket.end();\n                requestData = '';\n              }\n            });\n            socket.on('error', error => {\n              logger.info('[TCPHttpServer] Socket error:', error);\n            });\n            socket.on('close', () => {\n              logger.debug('[TCPHttpServer] Client disconnected');\n            });\n          });\n\n          // 确保server不为null再调用listen\n          if (!this.server) {\n            logger.error('[TCPHttpServer] Server instance is null');\n            reject(new Error('服务器实例创建失败'));\n            return;\n          }\n\n          // 添加错误处理，确保listen方法存在并且是函数\n          if (!this.server.listen || typeof this.server.listen !== 'function') {\n            logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n            reject(new Error('服务器监听方法不可用'));\n            return;\n          }\n          this.server.listen({\n            port: PORT,\n            host: '0.0.0.0'\n          }, () => {\n            logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n            this.isRunning = true;\n            resolve(`http://${ipAddress}:${PORT}`);\n          });\n          this.server.on('error', error => {\n            logger.info('[TCPHttpServer] Server error:', error);\n            this.isRunning = false;\n            // 针对端口占用的错误提供更友好的消息\n            if (error.message && error.message.includes('EADDRINUSE')) {\n              reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n            } else {\n              reject(error);\n            }\n          });\n        } catch (error) {\n          logger.info('[TCPHttpServer] Failed to start server:', error);\n          reject(error);\n        }\n      });\n    }\n    stop() {\n      try {\n        if (this.server) {\n          this.server.close();\n          logger.debug('[TCPHttpServer] Server stopped');\n        }\n      } catch (error) {\n        logger.info('[TCPHttpServer] Error stopping server:', error);\n      } finally {\n        this.isRunning = false;\n        this.server = null;\n      }\n    }\n    getIsRunning() {\n      return this.isRunning;\n    }\n  }\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":242,"map":[[8,2,39,0],[8,6,39,0,"_netinfo"],[8,14,39,0],[8,17,39,0,"_interopRequireDefault"],[8,39,39,0],[8,40,39,0,"require"],[8,47,39,0],[8,48,39,0,"_dependencyMap"],[8,62,39,0],[9,2,40,0],[9,6,40,0,"_Logger"],[9,13,40,0],[9,16,40,0,"_interopRequireDefault"],[9,38,40,0],[9,39,40,0,"require"],[9,46,40,0],[9,47,40,0,"_dependencyMap"],[9,61,40,0],[10,2,2,0],[12,2,14,0],[14,2,37,0],[15,2,38,0],[15,8,38,6,"TcpSocket"],[15,17,38,32],[15,20,38,35,"require"],[15,27,38,42],[15,28,38,42,"_dependencyMap"],[15,42,38,42],[15,72,38,68],[15,73,38,69],[16,2,42,0],[16,8,42,6,"logger"],[16,14,42,12],[16,17,42,15,"Logger"],[16,32,42,21],[16,33,42,22,"withTag"],[16,40,42,29],[16,41,42,30],[16,56,42,45],[16,57,42,46],[17,2,44,0],[17,8,44,6,"PORT"],[17,12,44,10],[17,15,44,13],[17,20,44,18],[19,2,46,0],[21,2,53,0],[23,2,78,0],[23,8,78,6,"TCPHttpServer"],[23,21,78,19],[23,22,78,20],[24,4,79,10,"server"],[24,10,79,16],[24,13,79,45],[24,17,79,49],[25,4,80,10,"isRunning"],[25,13,80,19],[25,16,80,22],[25,21,80,27],[26,4,81,10,"requestHandler"],[26,18,81,24],[26,21,81,50],[26,25,81,54],[27,4,83,2,"constructor"],[27,15,83,13,"constructor"],[27,16,83,13],[27,18,83,16],[28,6,84,4],[28,10,84,8],[28,11,84,9,"server"],[28,17,84,15],[28,20,84,18],[28,24,84,22],[29,4,85,2],[30,4,87,10,"parseHttpRequest"],[30,20,87,26,"parseHttpRequest"],[30,21,87,27,"data"],[30,25,87,39],[30,27,87,61],[31,6,88,4],[31,10,88,8],[32,8,89,6],[32,14,89,12,"lines"],[32,19,89,17],[32,22,89,20,"data"],[32,26,89,24],[32,27,89,25,"split"],[32,32,89,30],[32,33,89,31],[32,39,89,37],[32,40,89,38],[33,8,90,6],[33,14,90,12,"requestLine"],[33,25,90,23],[33,28,90,26,"lines"],[33,33,90,31],[33,34,90,32],[33,35,90,33],[33,36,90,34],[33,37,90,35,"split"],[33,42,90,40],[33,43,90,41],[33,46,90,44],[33,47,90,45],[34,8,92,6],[34,12,92,10,"requestLine"],[34,23,92,21],[34,24,92,22,"length"],[34,30,92,28],[34,33,92,31],[34,34,92,32],[34,36,92,34],[35,10,93,8],[35,17,93,15],[35,21,93,19],[36,8,94,6],[37,8,96,6],[37,14,96,12,"method"],[37,20,96,18],[37,23,96,21,"requestLine"],[37,34,96,32],[37,35,96,33],[37,36,96,34],[37,37,96,35],[38,8,97,6],[38,14,97,12,"url"],[38,17,97,15],[38,20,97,18,"requestLine"],[38,31,97,29],[38,32,97,30],[38,33,97,31],[38,34,97,32],[39,8,98,6],[39,14,98,12,"headers"],[39,21,98,46],[39,24,98,49],[39,25,98,50],[39,26,98,51],[40,8,100,6],[40,12,100,10,"bodyStartIndex"],[40,26,100,24],[40,29,100,27],[40,30,100,28],[40,31,100,29],[41,8,101,6],[41,13,101,11],[41,17,101,15,"i"],[41,18,101,16],[41,21,101,19],[41,22,101,20],[41,24,101,22,"i"],[41,25,101,23],[41,28,101,26,"lines"],[41,33,101,31],[41,34,101,32,"length"],[41,40,101,38],[41,42,101,40,"i"],[41,43,101,41],[41,45,101,43],[41,47,101,45],[42,10,102,8],[42,16,102,14,"line"],[42,20,102,18],[42,23,102,21,"lines"],[42,28,102,26],[42,29,102,27,"i"],[42,30,102,28],[42,31,102,29],[43,10,103,8],[43,14,103,12,"line"],[43,18,103,16],[43,23,103,21],[43,25,103,23],[43,27,103,25],[44,12,104,10,"bodyStartIndex"],[44,26,104,24],[44,29,104,27,"i"],[44,30,104,28],[44,33,104,31],[44,34,104,32],[45,12,105,10],[46,10,106,8],[47,10,107,8],[47,16,107,14,"colonIndex"],[47,26,107,24],[47,29,107,27,"line"],[47,33,107,31],[47,34,107,32,"indexOf"],[47,41,107,39],[47,42,107,40],[47,45,107,43],[47,46,107,44],[48,10,108,8],[48,14,108,12,"colonIndex"],[48,24,108,22],[48,27,108,25],[48,28,108,26],[48,30,108,28],[49,12,109,10],[49,18,109,16,"key"],[49,21,109,19],[49,24,109,22,"line"],[49,28,109,26],[49,29,109,27,"substring"],[49,38,109,36],[49,39,109,37],[49,40,109,38],[49,42,109,40,"colonIndex"],[49,52,109,50],[49,53,109,51],[49,54,109,52,"trim"],[49,58,109,56],[49,59,109,57],[49,60,109,58],[49,61,109,59,"toLowerCase"],[49,72,109,70],[49,73,109,71],[49,74,109,72],[50,12,110,10],[50,18,110,16,"value"],[50,23,110,21],[50,26,110,24,"line"],[50,30,110,28],[50,31,110,29,"substring"],[50,40,110,38],[50,41,110,39,"colonIndex"],[50,51,110,49],[50,54,110,52],[50,55,110,53],[50,56,110,54],[50,57,110,55,"trim"],[50,61,110,59],[50,62,110,60],[50,63,110,61],[51,12,111,10,"headers"],[51,19,111,17],[51,20,111,18,"key"],[51,23,111,21],[51,24,111,22],[51,27,111,25,"value"],[51,32,111,30],[52,10,112,8],[53,8,113,6],[54,8,115,6],[54,14,115,12,"body"],[54,18,115,16],[54,21,115,19,"bodyStartIndex"],[54,35,115,33],[54,38,115,36],[54,39,115,37],[54,42,115,40,"lines"],[54,47,115,45],[54,48,115,46,"slice"],[54,53,115,51],[54,54,115,52,"bodyStartIndex"],[54,68,115,66],[54,69,115,67],[54,70,115,68,"join"],[54,74,115,72],[54,75,115,73],[54,81,115,79],[54,82,115,80],[54,85,115,83],[54,87,115,85],[55,8,117,6],[55,15,117,13],[56,10,117,15,"method"],[56,16,117,21],[57,10,117,23,"url"],[57,13,117,26],[58,10,117,28,"headers"],[58,17,117,35],[59,10,117,37,"body"],[60,8,117,42],[60,9,117,43],[61,6,118,4],[61,7,118,5],[61,8,118,6],[61,15,118,13,"error"],[61,20,118,18],[61,22,118,20],[62,8,119,6,"logger"],[62,14,119,12],[62,15,119,13,"info"],[62,19,119,17],[62,20,119,18],[62,65,119,63],[62,67,119,65,"error"],[62,72,119,70],[62,73,119,71],[63,8,120,6],[63,15,120,13],[63,19,120,17],[64,6,121,4],[65,4,122,2],[66,4,124,10,"formatHttpResponse"],[66,22,124,28,"formatHttpResponse"],[66,23,124,29,"response"],[66,31,124,51],[66,33,124,61],[67,6,125,4],[67,12,125,10,"statusTexts"],[67,23,125,48],[67,26,125,51],[68,8,126,6],[68,11,126,9],[68,13,126,11],[68,17,126,15],[69,8,127,6],[69,11,127,9],[69,13,127,11],[69,26,127,24],[70,8,128,6],[70,11,128,9],[70,13,128,11],[70,24,128,22],[71,8,129,6],[71,11,129,9],[71,13,129,11],[72,6,130,4],[72,7,130,5],[73,6,132,4],[73,12,132,10,"statusText"],[73,22,132,20],[73,25,132,23,"statusTexts"],[73,36,132,34],[73,37,132,35,"response"],[73,45,132,43],[73,46,132,44,"statusCode"],[73,56,132,54],[73,57,132,55],[73,61,132,59],[73,70,132,68],[74,6,133,4],[74,12,133,10,"headers"],[74,19,133,17],[74,22,133,20],[75,8,134,6],[75,24,134,22],[75,26,134,24],[75,30,134,28,"TextEncoder"],[75,41,134,39],[75,42,134,40],[75,43,134,41],[75,44,134,42,"encode"],[75,50,134,48],[75,51,134,49,"response"],[75,59,134,57],[75,60,134,58,"body"],[75,64,134,62],[75,65,134,63],[75,66,134,64,"length"],[75,72,134,70],[75,73,134,71,"toString"],[75,81,134,79],[75,82,134,80],[75,83,134,81],[76,8,135,6],[76,20,135,18],[76,22,135,20],[76,29,135,27],[77,8,136,6],[77,11,136,9,"response"],[77,19,136,17],[77,20,136,18,"headers"],[78,6,137,4],[78,7,137,5],[79,6,139,4],[79,10,139,8,"httpResponse"],[79,22,139,20],[79,25,139,23],[79,37,139,35,"response"],[79,45,139,43],[79,46,139,44,"statusCode"],[79,56,139,54],[79,60,139,58,"statusText"],[79,70,139,68],[79,76,139,74],[80,6,141,4],[80,11,141,9],[80,17,141,15],[80,18,141,16,"key"],[80,21,141,19],[80,23,141,21,"value"],[80,28,141,26],[80,29,141,27],[80,33,141,31,"Object"],[80,39,141,37],[80,40,141,38,"entries"],[80,47,141,45],[80,48,141,46,"headers"],[80,55,141,53],[80,56,141,54],[80,58,141,56],[81,8,142,6,"httpResponse"],[81,20,142,18],[81,24,142,22],[81,27,142,25,"key"],[81,30,142,28],[81,35,142,33,"value"],[81,40,142,38],[81,46,142,44],[82,6,143,4],[83,6,145,4,"httpResponse"],[83,18,145,16],[83,22,145,20],[83,28,145,26],[84,6,146,4,"httpResponse"],[84,18,146,16],[84,22,146,20,"response"],[84,30,146,28],[84,31,146,29,"body"],[84,35,146,33],[85,6,148,4],[85,13,148,11,"httpResponse"],[85,25,148,23],[86,4,149,2],[87,4,151,9,"setRequestHandler"],[87,21,151,26,"setRequestHandler"],[87,22,151,27,"handler"],[87,29,151,50],[87,31,151,52],[88,6,152,4],[88,10,152,8],[88,11,152,9,"requestHandler"],[88,25,152,23],[88,28,152,26,"handler"],[88,35,152,33],[89,4,153,2],[90,4,155,2],[90,10,155,15,"start"],[90,15,155,20,"start"],[90,16,155,20],[90,18,155,40],[91,6,156,4],[92,6,157,4],[92,10,157,8],[92,14,157,12],[92,15,157,13,"server"],[92,21,157,19],[92,25,157,23],[92,26,157,24],[92,30,157,28],[92,31,157,29,"isRunning"],[92,40,157,38],[92,42,157,40],[93,8,158,6],[93,12,158,10],[94,10,159,8],[94,14,159,12],[94,15,159,13,"server"],[94,21,159,19],[94,22,159,20,"close"],[94,27,159,25],[94,28,159,26],[94,29,159,27],[95,10,160,8,"logger"],[95,16,160,14],[95,17,160,15,"debug"],[95,22,160,20],[95,23,160,21],[95,67,160,65],[95,68,160,66],[96,8,161,6],[96,9,161,7],[96,10,161,8],[96,17,161,15,"error"],[96,22,161,20],[96,24,161,22],[97,10,162,8,"logger"],[97,16,162,14],[97,17,162,15,"info"],[97,21,162,19],[97,22,162,20],[97,65,162,63],[97,67,162,65,"error"],[97,72,162,70],[97,73,162,71],[98,8,163,6],[99,8,164,6],[99,12,164,10],[99,13,164,11,"server"],[99,19,164,17],[99,22,164,20],[99,26,164,24],[100,6,165,4],[101,6,167,4],[101,12,167,10,"netState"],[101,20,167,18],[101,23,167,21],[101,29,167,27,"NetInfo"],[101,45,167,34],[101,46,167,35,"fetch"],[101,51,167,40],[101,52,167,41],[101,53,167,42],[102,6,168,4],[102,10,168,8,"ipAddress"],[102,19,168,32],[102,22,168,35],[102,26,168,39],[103,6,170,4],[103,10,170,8,"netState"],[103,18,170,16],[103,19,170,17,"type"],[103,23,170,21],[103,28,170,26],[103,34,170,32],[103,38,170,36,"netState"],[103,46,170,44],[103,47,170,45,"type"],[103,51,170,49],[103,56,170,54],[103,66,170,64],[103,68,170,66],[104,8,171,6,"ipAddress"],[104,17,171,15],[104,20,171,19,"netState"],[104,28,171,27],[104,29,171,28,"details"],[104,36,171,35],[104,38,171,45,"ipAddress"],[104,47,171,54],[104,51,171,58],[104,55,171,62],[105,6,172,4],[106,6,174,4],[106,10,174,8],[106,11,174,9,"ipAddress"],[106,20,174,18],[106,22,174,20],[107,8,175,6],[107,14,175,12],[107,18,175,16,"Error"],[107,23,175,21],[107,24,175,22],[107,53,175,51],[107,54,175,52],[108,6,176,4],[109,6,178,4],[109,10,178,8],[109,14,178,12],[109,15,178,13,"isRunning"],[109,24,178,22],[109,26,178,24],[110,8,179,6,"logger"],[110,14,179,12],[110,15,179,13,"debug"],[110,20,179,18],[110,21,179,19],[110,65,179,63],[110,66,179,64],[111,8,180,6],[111,15,180,13],[111,25,180,23,"ipAddress"],[111,34,180,32],[111,38,180,36,"PORT"],[111,42,180,40],[111,44,180,42],[112,6,181,4],[114,6,183,4],[115,6,184,4],[115,10,184,8,"Platform"],[115,27,184,16],[115,28,184,17,"OS"],[115,30,184,19],[115,35,184,24],[115,40,184,29],[115,42,184,31],[116,8,185,6,"logger"],[116,14,185,12],[116,15,185,13,"error"],[116,20,185,18],[116,21,185,19],[116,79,185,77],[116,80,185,78],[117,8,186,6],[117,14,186,12],[117,18,186,16,"Error"],[117,23,186,21],[117,24,186,22],[117,40,186,38],[117,41,186,39],[118,6,187,4],[119,6,189,4],[119,13,189,11],[119,17,189,15,"Promise"],[119,24,189,22],[119,25,189,23],[119,26,189,24,"resolve"],[119,33,189,31],[119,35,189,33,"reject"],[119,41,189,39],[119,46,189,44],[120,8,190,6],[120,12,190,10],[121,10,191,8],[122,10,192,8],[122,14,192,12],[122,15,192,13,"TcpSocket"],[122,24,192,22],[122,28,192,26],[122,35,192,33,"TcpSocket"],[122,44,192,42],[122,45,192,43,"createServer"],[122,57,192,55],[122,62,192,60],[122,72,192,70],[122,74,192,72],[123,12,193,10,"logger"],[123,18,193,16],[123,19,193,17,"error"],[123,24,193,22],[123,25,193,23],[123,93,193,91],[123,94,193,92],[124,12,194,10,"reject"],[124,18,194,16],[124,19,194,17],[124,23,194,21,"Error"],[124,28,194,26],[124,29,194,27],[124,42,194,40],[124,43,194,41],[124,44,194,42],[125,12,195,10],[126,10,196,8],[128,10,198,8],[129,10,199,8],[129,14,199,12],[129,18,199,16],[129,19,199,17,"server"],[129,25,199,23],[129,27,199,25],[130,12,200,10],[130,16,200,14],[131,14,201,12],[131,18,201,16],[131,19,201,17,"server"],[131,25,201,23],[131,26,201,24,"close"],[131,31,201,29],[131,32,201,30],[131,33,201,31],[132,12,202,10],[132,13,202,11],[132,14,202,12],[132,21,202,19,"error"],[132,26,202,24],[132,28,202,26],[133,14,203,12,"logger"],[133,20,203,18],[133,21,203,19,"info"],[133,25,203,23],[133,26,203,24],[133,74,203,72],[133,76,203,74,"error"],[133,81,203,79],[133,82,203,80],[134,12,204,10],[135,12,205,10],[135,16,205,14],[135,17,205,15,"server"],[135,23,205,21],[135,26,205,24],[135,30,205,28],[136,10,206,8],[138,10,208,8],[139,10,209,8],[139,14,209,12],[139,15,209,13,"server"],[139,21,209,19],[139,24,209,22,"TcpSocket"],[139,33,209,31],[139,34,209,32,"createServer"],[139,46,209,44],[139,47,209,46,"socket"],[139,53,209,71],[139,57,209,76],[140,12,210,10,"logger"],[140,18,210,16],[140,19,210,17,"debug"],[140,24,210,22],[140,25,210,23],[140,59,210,57],[140,60,210,58],[141,12,212,10],[141,16,212,14,"requestData"],[141,27,212,25],[141,30,212,28],[141,32,212,30],[142,12,214,10,"socket"],[142,18,214,16],[142,19,214,17,"on"],[142,21,214,19],[142,22,214,20],[142,28,214,26],[142,30,214,28],[142,36,214,35,"data"],[142,40,214,56],[142,44,214,61],[143,14,215,12,"requestData"],[143,25,215,23],[143,29,215,27,"data"],[143,33,215,31],[143,34,215,32,"toString"],[143,42,215,40],[143,43,215,41],[143,44,215,42],[145,14,217,12],[146,14,218,12],[146,18,218,16,"requestData"],[146,29,218,27],[146,30,218,28,"includes"],[146,38,218,36],[146,39,218,37],[146,49,218,47],[146,50,218,48],[146,52,218,50],[147,16,219,14],[147,20,219,18],[148,18,220,16],[148,24,220,22,"request"],[148,31,220,29],[148,34,220,32],[148,38,220,36],[148,39,220,37,"parseHttpRequest"],[148,55,220,53],[148,56,220,54,"requestData"],[148,67,220,65],[148,68,220,66],[149,18,221,16],[149,22,221,20,"request"],[149,29,221,27],[149,33,221,31],[149,37,221,35],[149,38,221,36,"requestHandler"],[149,52,221,50],[149,54,221,52],[150,20,222,18],[150,26,222,24,"response"],[150,34,222,32],[150,37,222,35],[150,43,222,41],[150,47,222,45],[150,48,222,46,"requestHandler"],[150,62,222,60],[150,63,222,61,"request"],[150,70,222,68],[150,71,222,69],[151,20,223,18],[151,26,223,24,"httpResponse"],[151,38,223,36],[151,41,223,39],[151,45,223,43],[151,46,223,44,"formatHttpResponse"],[151,64,223,62],[151,65,223,63,"response"],[151,73,223,71],[151,74,223,72],[152,20,224,18,"socket"],[152,26,224,24],[152,27,224,25,"write"],[152,32,224,30],[152,33,224,31,"httpResponse"],[152,45,224,43],[152,46,224,44],[153,18,225,16],[153,19,225,17],[153,25,225,23],[154,20,226,18],[155,20,227,18],[155,26,227,24,"errorResponse"],[155,39,227,37],[155,42,227,40],[155,46,227,44],[155,47,227,45,"formatHttpResponse"],[155,65,227,63],[155,66,227,64],[156,22,228,20,"statusCode"],[156,32,228,30],[156,34,228,32],[156,37,228,35],[157,22,229,20,"headers"],[157,29,229,27],[157,31,229,29],[158,24,229,31],[158,38,229,45],[158,40,229,47],[159,22,229,60],[159,23,229,61],[160,22,230,20,"body"],[160,26,230,24],[160,28,230,26],[161,20,231,18],[161,21,231,19],[161,22,231,20],[162,20,232,18,"socket"],[162,26,232,24],[162,27,232,25,"write"],[162,32,232,30],[162,33,232,31,"errorResponse"],[162,46,232,44],[162,47,232,45],[163,18,233,16],[164,16,234,14],[164,17,234,15],[164,18,234,16],[164,25,234,23,"error"],[164,30,234,28],[164,32,234,30],[165,18,235,16,"logger"],[165,24,235,22],[165,25,235,23,"info"],[165,29,235,27],[165,30,235,28],[165,71,235,69],[165,73,235,71,"error"],[165,78,235,76],[165,79,235,77],[166,18,236,16],[166,24,236,22,"errorResponse"],[166,37,236,35],[166,40,236,38],[166,44,236,42],[166,45,236,43,"formatHttpResponse"],[166,63,236,61],[166,64,236,62],[167,20,237,18,"statusCode"],[167,30,237,28],[167,32,237,30],[167,35,237,33],[168,20,238,18,"headers"],[168,27,238,25],[168,29,238,27],[169,22,238,29],[169,36,238,43],[169,38,238,45],[170,20,238,58],[170,21,238,59],[171,20,239,18,"body"],[171,24,239,22],[171,26,239,24],[172,18,240,16],[172,19,240,17],[172,20,240,18],[173,18,241,16,"socket"],[173,24,241,22],[173,25,241,23,"write"],[173,30,241,28],[173,31,241,29,"errorResponse"],[173,44,241,42],[173,45,241,43],[174,16,242,14],[175,16,244,14,"socket"],[175,22,244,20],[175,23,244,21,"end"],[175,26,244,24],[175,27,244,25],[175,28,244,26],[176,16,245,14,"requestData"],[176,27,245,25],[176,30,245,28],[176,32,245,30],[177,14,246,12],[178,12,247,10],[178,13,247,11],[178,14,247,12],[179,12,249,10,"socket"],[179,18,249,16],[179,19,249,17,"on"],[179,21,249,19],[179,22,249,20],[179,29,249,27],[179,31,249,30,"error"],[179,36,249,42],[179,40,249,47],[180,14,250,12,"logger"],[180,20,250,18],[180,21,250,19,"info"],[180,25,250,23],[180,26,250,24],[180,57,250,55],[180,59,250,57,"error"],[180,64,250,62],[180,65,250,63],[181,12,251,10],[181,13,251,11],[181,14,251,12],[182,12,253,10,"socket"],[182,18,253,16],[182,19,253,17,"on"],[182,21,253,19],[182,22,253,20],[182,29,253,27],[182,31,253,29],[182,37,253,35],[183,14,254,12,"logger"],[183,20,254,18],[183,21,254,19,"debug"],[183,26,254,24],[183,27,254,25],[183,64,254,62],[183,65,254,63],[184,12,255,10],[184,13,255,11],[184,14,255,12],[185,10,256,8],[185,11,256,9],[185,12,256,10],[187,10,258,8],[188,10,259,8],[188,14,259,12],[188,15,259,13],[188,19,259,17],[188,20,259,18,"server"],[188,26,259,24],[188,28,259,26],[189,12,260,10,"logger"],[189,18,260,16],[189,19,260,17,"error"],[189,24,260,22],[189,25,260,23],[189,66,260,64],[189,67,260,65],[190,12,261,10,"reject"],[190,18,261,16],[190,19,261,17],[190,23,261,21,"Error"],[190,28,261,26],[190,29,261,27],[190,40,261,38],[190,41,261,39],[190,42,261,40],[191,12,262,10],[192,10,263,8],[194,10,265,8],[195,10,266,8],[195,14,266,12],[195,15,266,13],[195,19,266,17],[195,20,266,18,"server"],[195,26,266,24],[195,27,266,25,"listen"],[195,33,266,31],[195,37,266,35],[195,44,266,42],[195,48,266,46],[195,49,266,47,"server"],[195,55,266,53],[195,56,266,54,"listen"],[195,62,266,60],[195,67,266,65],[195,77,266,75],[195,79,266,77],[196,12,267,10,"logger"],[196,18,267,16],[196,19,267,17,"error"],[196,24,267,22],[196,25,267,23],[196,98,267,96],[196,99,267,97],[197,12,268,10,"reject"],[197,18,268,16],[197,19,268,17],[197,23,268,21,"Error"],[197,28,268,26],[197,29,268,27],[197,41,268,39],[197,42,268,40],[197,43,268,41],[198,12,269,10],[199,10,270,8],[200,10,272,8],[200,14,272,12],[200,15,272,13,"server"],[200,21,272,19],[200,22,272,20,"listen"],[200,28,272,26],[200,29,272,27],[201,12,272,29,"port"],[201,16,272,33],[201,18,272,35,"PORT"],[201,22,272,39],[202,12,272,41,"host"],[202,16,272,45],[202,18,272,47],[203,10,272,57],[203,11,272,58],[203,13,272,60],[203,19,272,66],[204,12,273,10,"logger"],[204,18,273,16],[204,19,273,17,"debug"],[204,24,273,22],[204,25,273,23],[204,64,273,62,"ipAddress"],[204,73,273,71],[204,77,273,75,"PORT"],[204,81,273,79],[204,83,273,81],[204,84,273,82],[205,12,274,10],[205,16,274,14],[205,17,274,15,"isRunning"],[205,26,274,24],[205,29,274,27],[205,33,274,31],[206,12,275,10,"resolve"],[206,19,275,17],[206,20,275,18],[206,30,275,28,"ipAddress"],[206,39,275,37],[206,43,275,41,"PORT"],[206,47,275,45],[206,49,275,47],[206,50,275,48],[207,10,276,8],[207,11,276,9],[207,12,276,10],[208,10,278,8],[208,14,278,12],[208,15,278,13,"server"],[208,21,278,19],[208,22,278,20,"on"],[208,24,278,22],[208,25,278,23],[208,32,278,30],[208,34,278,33,"error"],[208,39,278,45],[208,43,278,50],[209,12,279,10,"logger"],[209,18,279,16],[209,19,279,17,"info"],[209,23,279,21],[209,24,279,22],[209,55,279,53],[209,57,279,55,"error"],[209,62,279,60],[209,63,279,61],[210,12,280,10],[210,16,280,14],[210,17,280,15,"isRunning"],[210,26,280,24],[210,29,280,27],[210,34,280,32],[211,12,281,10],[212,12,282,10],[212,16,282,14,"error"],[212,21,282,19],[212,22,282,20,"message"],[212,29,282,27],[212,33,282,31,"error"],[212,38,282,36],[212,39,282,37,"message"],[212,46,282,44],[212,47,282,45,"includes"],[212,55,282,53],[212,56,282,54],[212,68,282,66],[212,69,282,67],[212,71,282,69],[213,14,283,12,"reject"],[213,20,283,18],[213,21,283,19],[213,25,283,23,"Error"],[213,30,283,28],[213,31,283,29],[213,51,283,49],[213,52,283,50],[213,53,283,51],[214,12,284,10],[214,13,284,11],[214,19,284,17],[215,14,285,12,"reject"],[215,20,285,18],[215,21,285,19,"error"],[215,26,285,24],[215,27,285,25],[216,12,286,10],[217,10,287,8],[217,11,287,9],[217,12,287,10],[218,8,289,6],[218,9,289,7],[218,10,289,8],[218,17,289,15,"error"],[218,22,289,20],[218,24,289,22],[219,10,290,8,"logger"],[219,16,290,14],[219,17,290,15,"info"],[219,21,290,19],[219,22,290,20],[219,63,290,61],[219,65,290,63,"error"],[219,70,290,68],[219,71,290,69],[220,10,291,8,"reject"],[220,16,291,14],[220,17,291,15,"error"],[220,22,291,20],[220,23,291,21],[221,8,292,6],[222,6,293,4],[222,7,293,5],[222,8,293,6],[223,4,294,2],[224,4,296,9,"stop"],[224,8,296,13,"stop"],[224,9,296,13],[224,11,296,16],[225,6,297,4],[225,10,297,8],[226,8,298,6],[226,12,298,10],[226,16,298,14],[226,17,298,15,"server"],[226,23,298,21],[226,25,298,23],[227,10,299,8],[227,14,299,12],[227,15,299,13,"server"],[227,21,299,19],[227,22,299,20,"close"],[227,27,299,25],[227,28,299,26],[227,29,299,27],[228,10,300,8,"logger"],[228,16,300,14],[228,17,300,15,"debug"],[228,22,300,20],[228,23,300,21],[228,55,300,53],[228,56,300,54],[229,8,301,6],[230,6,302,4],[230,7,302,5],[230,8,302,6],[230,15,302,13,"error"],[230,20,302,18],[230,22,302,20],[231,8,303,6,"logger"],[231,14,303,12],[231,15,303,13,"info"],[231,19,303,17],[231,20,303,18],[231,60,303,58],[231,62,303,60,"error"],[231,67,303,65],[231,68,303,66],[232,6,304,4],[232,7,304,5],[232,16,304,14],[233,8,305,6],[233,12,305,10],[233,13,305,11,"isRunning"],[233,22,305,20],[233,25,305,23],[233,30,305,28],[234,8,306,6],[234,12,306,10],[234,13,306,11,"server"],[234,19,306,17],[234,22,306,20],[234,26,306,24],[235,6,307,4],[236,4,308,2],[237,4,310,9,"getIsRunning"],[237,16,310,21,"getIsRunning"],[237,17,310,21],[237,19,310,33],[238,6,311,4],[238,13,311,11],[238,17,311,15],[238,18,311,16,"isRunning"],[238,27,311,25],[239,4,312,2],[240,2,313,0],[241,2,313,1],[241,6,313,1,"_default"],[241,14,313,1],[241,17,313,1,"exports"],[241,24,313,1],[241,25,313,1,"default"],[241,32,313,1],[241,35,315,15,"TCPHttpServer"],[241,48,315,28],[242,0,315,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;AC6E;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}