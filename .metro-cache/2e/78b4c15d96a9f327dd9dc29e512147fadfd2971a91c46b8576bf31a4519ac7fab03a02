{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":131,"column":2,"index":4333}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"expo-av","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":57},"end":{"line":2,"column":44,"index":101}}],"key":"NRThymhwYB6oVmZMWQGMPRPDfzs="}},{"name":"react-native-toast-message","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":102},"end":{"line":3,"column":47,"index":149}}],"key":"mvLfpRqMmyOUTnGhKaiVkXHegIo="}},{"name":"@/stores/playerStore","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":150},"end":{"line":4,"column":50,"index":200}}],"key":"jza9oGwrWwCRqRJcTBeVqZHqd+Y="}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.useVideoHandlers=void 0;var o=r(d[1]),n=r(d[2]),s=t(r(d[3])),u=t(r(d[4]));e.useVideoHandlers=({videoRef:t,currentEpisode:l,initialPosition:c,introEndTime:p,playbackRate:S,handlePlaybackStatusUpdate:f,deviceType:h,detail:y})=>{const E=(0,o.useCallback)(async()=>{try{const o=c||p||0;o>0&&await(t.current?.setPositionAsync(o)),await(t.current?.playAsync()),u.default.setState({isLoading:!1})}catch(t){u.default.setState({isLoading:!1})}},[t,c,p]),x=(0,o.useCallback)(()=>{l?.url&&u.default.setState({isLoading:!0})},[l?.url]),k=(0,o.useCallback)(t=>{if(!l?.url)return;const o=t?.error?.toString()||t?.toString()||'',n=o.includes('SSLHandshakeException')||o.includes('CertPathValidatorException')||o.includes('Trust anchor for certification path not found'),c=o.includes('HttpDataSourceException')||o.includes('IOException')||o.includes('SocketTimeoutException');n?(s.default.show({type:\"error\",text1:\"SSL\\u8bc1\\u4e66\\u9519\\u8bef\\uff0c\\u6b63\\u5728\\u5c1d\\u8bd5\\u5176\\u4ed6\\u64ad\\u653e\\u6e90...\",text2:\"\\u8bf7\\u7a0d\\u5019\"}),u.default.getState().handleVideoError('ssl',l.url)):c?(s.default.show({type:\"error\",text1:\"\\u7f51\\u7edc\\u8fde\\u63a5\\u5931\\u8d25\\uff0c\\u6b63\\u5728\\u5c1d\\u8bd5\\u5176\\u4ed6\\u64ad\\u653e\\u6e90...\",text2:\"\\u8bf7\\u7a0d\\u5019\"}),u.default.getState().handleVideoError('network',l.url)):(s.default.show({type:\"error\",text1:\"\\u89c6\\u9891\\u64ad\\u653e\\u5931\\u8d25\\uff0c\\u6b63\\u5728\\u5c1d\\u8bd5\\u5176\\u4ed6\\u64ad\\u653e\\u6e90...\",text2:\"\\u8bf7\\u7a0d\\u5019\"}),u.default.getState().handleVideoError('other',l.url))},[l?.url]),v=(0,o.useMemo)(()=>({source:{uri:l?.url||''},posterSource:{uri:y?.poster??\"\"},resizeMode:n.ResizeMode.CONTAIN,rate:S,onPlaybackStatusUpdate:f,onLoad:E,onLoadStart:x,onError:k,useNativeControls:'tv'!==h,shouldPlay:!0}),[l?.url,y?.poster,S,f,E,x,k,h]);return{onLoad:E,onLoadStart:x,onError:k,videoProps:v}}});","lineCount":1,"map":[[1,117,1,0],[1,121,1,0,"_react"],[1,123,1,0,"r"],[1,125,1,0,"d"],[1,127,1,0],[1,131,2,0,"_expoAv"],[1,133,2,0,"r"],[1,135,2,0,"d"],[1,137,2,0],[1,141,3,0,"_reactNativeToastMessage"],[1,143,3,0,"_interopRequireDefault"],[1,145,3,0,"r"],[1,147,3,0,"d"],[1,149,3,0],[1,154,4,0,"_playerStore"],[1,156,4,0,"_interopRequireDefault"],[1,158,4,0,"r"],[1,160,4,0,"d"],[1,162,4,0],[1,167,131,2,"e"],[1,169,131,2,"useVideoHandlers"],[1,186,17,32,"useVideoHandlers"],[1,188,18,2,"videoRef"],[1,199,19,2,"currentEpisode"],[1,216,20,2,"initialPosition"],[1,234,21,2,"introEndTime"],[1,249,22,2,"playbackRate"],[1,264,23,2,"handlePlaybackStatusUpdate"],[1,293,24,2,"deviceType"],[1,306,25,2,"detail"],[1,319,28,2],[1,325,28,8,"onLoad"],[1,328,28,17],[1,330,28,17,"useCallback"],[1,345,28,29,"async"],[1,355,31,4],[1,359,33,6],[1,365,33,12,"jumpPosition"],[1,367,33,27,"initialPosition"],[1,370,33,46,"introEndTime"],[1,373,33,62],[1,375,34,10,"jumpPosition"],[1,377,34,25],[1,386,36,14,"videoRef"],[1,388,36,23,"current"],[1,397,36,32,"setPositionAsync"],[1,414,36,49,"jumpPosition"],[1,424,41,12,"videoRef"],[1,426,41,21,"current"],[1,435,41,30,"playAsync"],[1,448,44,6,"usePlayerStore"],[1,458,44,21,"setState"],[1,467,44,30],[1,468,44,32,"isLoading"],[1,479,44,43],[1,482,46,4],[1,483,46,6],[1,489,46,13,"error"],[1,492,49,6,"usePlayerStore"],[1,502,49,21,"setState"],[1,511,49,30],[1,512,49,32,"isLoading"],[1,523,49,43],[1,526,51,4],[1,529,52,5],[1,530,52,6,"videoRef"],[1,532,52,16,"initialPosition"],[1,534,52,33,"introEndTime"],[1,538,54,8,"onLoadStart"],[1,541,54,22],[1,543,54,22,"useCallback"],[1,558,54,34],[1,563,55,9,"currentEpisode"],[1,566,55,25,"url"],[1,571,58,4,"usePlayerStore"],[1,581,58,19,"setState"],[1,590,58,28],[1,591,58,30,"isLoading"],[1,602,58,41],[1,607,59,5],[1,608,59,6,"currentEpisode"],[1,611,59,22,"url"],[1,617,61,8,"onError"],[1,620,61,18],[1,622,61,18,"useCallback"],[1,637,61,31,"error"],[1,641,62,4],[1,645,62,9,"currentEpisode"],[1,648,62,25,"url"],[1,652,62,30],[1,659,67,4],[1,665,67,10,"errorString"],[1,667,67,25,"error"],[1,670,67,40,"error"],[1,677,67,47,"toString"],[1,689,67,61,"error"],[1,692,67,68,"toString"],[1,704,67,82],[1,707,68,10,"isSSLError"],[1,709,68,23,"errorString"],[1,711,68,35,"includes"],[1,720,68,44],[1,746,69,22,"errorString"],[1,748,69,34,"includes"],[1,757,69,43],[1,788,70,22,"errorString"],[1,790,70,34,"includes"],[1,799,70,43],[1,848,71,10,"isNetworkError"],[1,850,71,27,"errorString"],[1,852,71,39,"includes"],[1,861,71,48],[1,889,72,25,"errorString"],[1,891,72,37,"includes"],[1,900,72,46],[1,916,73,25,"errorString"],[1,918,73,37,"includes"],[1,927,73,46],[1,953,75,8,"isSSLError"],[1,956,77,6,"Toast"],[1,966,77,12,"show"],[1,971,77,17],[1,972,78,8,"type"],[1,977,78,14],[1,985,79,8,"text1"],[1,991,79,15],[1,1084,80,8,"text2"],[1,1090,80,15],[1,1113,82,6,"usePlayerStore"],[1,1123,82,21,"getState"],[1,1134,82,32,"handleVideoError"],[1,1151,82,49],[1,1157,82,56,"currentEpisode"],[1,1159,82,71,"url"],[1,1165,83,15,"isNetworkError"],[1,1168,85,6,"Toast"],[1,1178,85,12,"show"],[1,1183,85,17],[1,1184,86,8,"type"],[1,1189,86,14],[1,1197,87,8,"text1"],[1,1203,87,15],[1,1305,88,8,"text2"],[1,1311,88,15],[1,1334,90,6,"usePlayerStore"],[1,1344,90,21,"getState"],[1,1355,90,32,"handleVideoError"],[1,1372,90,49],[1,1382,90,60,"currentEpisode"],[1,1384,90,75,"url"],[1,1391,93,6,"Toast"],[1,1401,93,12,"show"],[1,1406,93,17],[1,1407,94,8,"type"],[1,1412,94,14],[1,1420,95,8,"text1"],[1,1426,95,15],[1,1528,96,8,"text2"],[1,1534,96,15],[1,1557,98,6,"usePlayerStore"],[1,1567,98,21,"getState"],[1,1578,98,32,"handleVideoError"],[1,1595,98,49],[1,1603,98,58,"currentEpisode"],[1,1605,98,73,"url"],[1,1612,100,5],[1,1613,100,6,"currentEpisode"],[1,1616,100,22,"url"],[1,1622,103,8,"videoProps"],[1,1625,103,21],[1,1627,103,21,"useMemo"],[1,1638,103,29],[1,1644,104,4,"source"],[1,1651,104,12],[1,1652,104,14,"uri"],[1,1656,104,19,"currentEpisode"],[1,1659,104,35,"url"],[1,1664,104,42],[1,1668,105,4,"posterSource"],[1,1681,105,18],[1,1682,105,20,"uri"],[1,1686,105,25,"detail"],[1,1689,105,33,"poster"],[1,1697,105,43],[1,1701,106,4,"resizeMode"],[1,1712,106,16,"ResizeMode"],[1,1725,106,27,"CONTAIN"],[1,1733,107,4,"rate"],[1,1738,107,10,"playbackRate"],[1,1740,108,4,"onPlaybackStatusUpdate"],[1,1763,108,28,"handlePlaybackStatusUpdate"],[1,1765,109,4,"onLoad"],[1,1774,110,4,"onLoadStart"],[1,1788,111,4,"onError"],[1,1798,112,4,"useNativeControls"],[1,1816,112,38],[1,1823,112,23,"deviceType"],[1,1825,113,4,"shouldPlay"],[1,1837,113,16],[1,1841,114,6],[1,1842,115,4,"currentEpisode"],[1,1845,115,20,"url"],[1,1849,116,4,"detail"],[1,1852,116,12,"poster"],[1,1859,117,4,"playbackRate"],[1,1861,118,4,"handlePlaybackStatusUpdate"],[1,1863,119,4,"onLoad"],[1,1865,120,4,"onLoadStart"],[1,1867,121,4,"onError"],[1,1869,122,4,"deviceType"],[1,1873,125,2],[1,1879,125,9],[1,1880,126,4,"onLoad"],[1,1889,127,4,"onLoadStart"],[1,1903,128,4,"onError"],[1,1913,129,4,"videoProps"],[1,1927,131,2]],"functionMap":{"names":["<global>","useVideoHandlers","onLoad","onLoadStart","onError","useMemo$argument_0"],"mappings":"AAA;gCCgB;6BCW;GDwB;kCEE;GFK;8BGE;GHuC;6BIG;IJW;CDiB"}},"type":"js/module"}]}