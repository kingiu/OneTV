{"dependencies":[{"name":"zustand","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"xFAZpEovr+Y5/UCynUzO0ntFekY="}},{"name":"../services/storage","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":63,"index":97}}],"key":"RzdP/NBx83P9yNdisxxYiU7DTLg="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _storage = require(_dependencyMap[1], \"../services/storage\");\n  const useFavoritesStore = (0, _zustand.create)(set => ({\n    favorites: [],\n    loading: false,\n    error: null,\n    fetchFavorites: async () => {\n      set({\n        loading: true,\n        error: null\n      });\n      try {\n        const favoritesData = await _storage.FavoriteManager.getAll();\n        const favoritesArray = Object.entries(favoritesData).map(_ref => {\n          let [key, value] = _ref;\n          return {\n            ...value,\n            key\n          };\n        });\n        //   favoritesArray.sort((a, b) => (b.save_time || 0) - (a.save_time || 0));\n        set({\n          favorites: favoritesArray,\n          loading: false\n        });\n      } catch (e) {\n        const error = e instanceof Error ? e.message : \"获取收藏列表失败\";\n        set({\n          error,\n          loading: false\n        });\n      }\n    }\n  }));\n  var _default = exports.default = useFavoritesStore;\n});","lineCount":41,"map":[[6,2,1,0],[6,6,1,0,"_zustand"],[6,14,1,0],[6,17,1,0,"require"],[6,24,1,0],[6,25,1,0,"_dependencyMap"],[6,39,1,0],[7,2,2,0],[7,6,2,0,"_storage"],[7,14,2,0],[7,17,2,0,"require"],[7,24,2,0],[7,25,2,0,"_dependencyMap"],[7,39,2,0],[8,2,11,0],[8,8,11,6,"useFavoritesStore"],[8,25,11,23],[8,28,11,26],[8,32,11,26,"create"],[8,47,11,32],[8,49,11,50,"set"],[8,52,11,53],[8,57,11,59],[9,4,12,2,"favorites"],[9,13,12,11],[9,15,12,13],[9,17,12,15],[10,4,13,2,"loading"],[10,11,13,9],[10,13,13,11],[10,18,13,16],[11,4,14,2,"error"],[11,9,14,7],[11,11,14,9],[11,15,14,13],[12,4,15,2,"fetchFavorites"],[12,18,15,16],[12,20,15,18],[12,26,15,18,"fetchFavorites"],[12,27,15,18],[12,32,15,30],[13,6,16,4,"set"],[13,9,16,7],[13,10,16,8],[14,8,16,10,"loading"],[14,15,16,17],[14,17,16,19],[14,21,16,23],[15,8,16,25,"error"],[15,13,16,30],[15,15,16,32],[16,6,16,37],[16,7,16,38],[16,8,16,39],[17,6,17,4],[17,10,17,8],[18,8,18,6],[18,14,18,12,"favoritesData"],[18,27,18,25],[18,30,18,28],[18,36,18,34,"FavoriteManager"],[18,60,18,49],[18,61,18,50,"getAll"],[18,67,18,56],[18,68,18,57],[18,69,18,58],[19,8,19,6],[19,14,19,12,"favoritesArray"],[19,28,19,26],[19,31,19,29,"Object"],[19,37,19,35],[19,38,19,36,"entries"],[19,45,19,43],[19,46,19,44,"favoritesData"],[19,59,19,57],[19,60,19,58],[19,61,19,59,"map"],[19,64,19,62],[19,65,19,63,"_ref"],[19,69,19,63],[20,10,19,63],[20,14,19,64],[20,15,19,65,"key"],[20,18,19,68],[20,20,19,70,"value"],[20,25,19,75],[20,26,19,76],[20,29,19,76,"_ref"],[20,33,19,76],[21,10,19,76],[21,17,19,82],[22,12,20,8],[22,15,20,11,"value"],[22,20,20,16],[23,12,21,8,"key"],[24,10,22,6],[24,11,22,7],[25,8,22,7],[25,9,22,8],[25,10,22,9],[26,8,23,6],[27,8,24,6,"set"],[27,11,24,9],[27,12,24,10],[28,10,24,12,"favorites"],[28,19,24,21],[28,21,24,23,"favoritesArray"],[28,35,24,37],[29,10,24,39,"loading"],[29,17,24,46],[29,19,24,48],[30,8,24,54],[30,9,24,55],[30,10,24,56],[31,6,25,4],[31,7,25,5],[31,8,25,6],[31,15,25,13,"e"],[31,16,25,14],[31,18,25,16],[32,8,26,6],[32,14,26,12,"error"],[32,19,26,17],[32,22,26,20,"e"],[32,23,26,21],[32,35,26,33,"Error"],[32,40,26,38],[32,43,26,41,"e"],[32,44,26,42],[32,45,26,43,"message"],[32,52,26,50],[32,55,26,53],[32,65,26,63],[33,8,27,6,"set"],[33,11,27,9],[33,12,27,10],[34,10,27,12,"error"],[34,15,27,17],[35,10,27,19,"loading"],[35,17,27,26],[35,19,27,28],[36,8,27,34],[36,9,27,35],[36,10,27,36],[37,6,28,4],[38,4,29,2],[39,2,30,0],[39,3,30,1],[39,4,30,2],[39,5,30,3],[40,2,30,4],[40,6,30,4,"_default"],[40,14,30,4],[40,17,30,4,"exports"],[40,24,30,4],[40,25,30,4,"default"],[40,32,30,4],[40,35,32,15,"useFavoritesStore"],[40,52,32,32],[41,0,32,32]],"functionMap":{"names":["<global>","create$argument_0","fetchFavorites","Object.entries.map$argument_0"],"mappings":"AAA;iDCU;kBCI;+DCI;QDG;GDO;EDC"}},"type":"js/module"}]}