{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":99,"column":0,"index":2786}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":31,"index":95}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":97},"end":{"line":4,"column":66,"index":163}}],"key":"y9eQQdj9MvCs7akL60igi3d/dsI="}},{"name":"./NavigationStateContext","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":164},"end":{"line":5,"column":62,"index":226}}],"key":"TdfjuPPN8UAMLY+O68wyv7/xOLM="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _NavigationBuilderContext = _interopRequireDefault(require(_dependencyMap[2], \"./NavigationBuilderContext\"));\n  var _NavigationStateContext = _interopRequireDefault(require(_dependencyMap[3], \"./NavigationStateContext\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContext.default),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(function () {\n      var isFocused = navigation?.isFocused() ?? true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(function () {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(function () {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (optionsGettersFromChildRef.current.hasOwnProperty(_key)) {\n          var result = optionsGettersFromChildRef.current[_key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(function () {\n      var isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(function () {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback(function (key, getter) {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return function () {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":74,"map":[[7,2,2,0],[7,6,2,0,"React"],[7,11,2,0],[7,14,2,0,"_interopRequireWildcard"],[7,37,2,0],[7,38,2,0,"require"],[7,45,2,0],[7,46,2,0,"_dependencyMap"],[7,60,2,0],[8,2,4,0],[8,6,4,0,"_NavigationBuilderContext"],[8,31,4,0],[8,34,4,0,"_interopRequireDefault"],[8,56,4,0],[8,57,4,0,"require"],[8,64,4,0],[8,65,4,0,"_dependencyMap"],[8,79,4,0],[9,2,5,0],[9,6,5,0,"_NavigationStateContext"],[9,29,5,0],[9,32,5,0,"_interopRequireDefault"],[9,54,5,0],[9,55,5,0,"require"],[9,62,5,0],[9,63,5,0,"_dependencyMap"],[9,77,5,0],[10,2,5,62],[10,11,5,62,"_interopRequireWildcard"],[10,35,5,62,"e"],[10,36,5,62],[10,38,5,62,"t"],[10,39,5,62],[10,68,5,62,"WeakMap"],[10,75,5,62],[10,81,5,62,"r"],[10,82,5,62],[10,89,5,62,"WeakMap"],[10,96,5,62],[10,100,5,62,"n"],[10,101,5,62],[10,108,5,62,"WeakMap"],[10,115,5,62],[10,127,5,62,"_interopRequireWildcard"],[10,150,5,62],[10,162,5,62,"_interopRequireWildcard"],[10,163,5,62,"e"],[10,164,5,62],[10,166,5,62,"t"],[10,167,5,62],[10,176,5,62,"t"],[10,177,5,62],[10,181,5,62,"e"],[10,182,5,62],[10,186,5,62,"e"],[10,187,5,62],[10,188,5,62,"__esModule"],[10,198,5,62],[10,207,5,62,"e"],[10,208,5,62],[10,214,5,62,"o"],[10,215,5,62],[10,217,5,62,"i"],[10,218,5,62],[10,220,5,62,"f"],[10,221,5,62],[10,226,5,62,"__proto__"],[10,235,5,62],[10,243,5,62,"default"],[10,250,5,62],[10,252,5,62,"e"],[10,253,5,62],[10,270,5,62,"e"],[10,271,5,62],[10,294,5,62,"e"],[10,295,5,62],[10,320,5,62,"e"],[10,321,5,62],[10,330,5,62,"f"],[10,331,5,62],[10,337,5,62,"o"],[10,338,5,62],[10,341,5,62,"t"],[10,342,5,62],[10,345,5,62,"n"],[10,346,5,62],[10,349,5,62,"r"],[10,350,5,62],[10,358,5,62,"o"],[10,359,5,62],[10,360,5,62,"has"],[10,363,5,62],[10,364,5,62,"e"],[10,365,5,62],[10,375,5,62,"o"],[10,376,5,62],[10,377,5,62,"get"],[10,380,5,62],[10,381,5,62,"e"],[10,382,5,62],[10,385,5,62,"o"],[10,386,5,62],[10,387,5,62,"set"],[10,390,5,62],[10,391,5,62,"e"],[10,392,5,62],[10,394,5,62,"f"],[10,395,5,62],[10,409,5,62,"_t"],[10,411,5,62],[10,415,5,62,"e"],[10,416,5,62],[10,432,5,62,"_t"],[10,434,5,62],[10,441,5,62,"hasOwnProperty"],[10,455,5,62],[10,456,5,62,"call"],[10,460,5,62],[10,461,5,62,"e"],[10,462,5,62],[10,464,5,62,"_t"],[10,466,5,62],[10,473,5,62,"i"],[10,474,5,62],[10,478,5,62,"o"],[10,479,5,62],[10,482,5,62,"Object"],[10,488,5,62],[10,489,5,62,"defineProperty"],[10,503,5,62],[10,508,5,62,"Object"],[10,514,5,62],[10,515,5,62,"getOwnPropertyDescriptor"],[10,539,5,62],[10,540,5,62,"e"],[10,541,5,62],[10,543,5,62,"_t"],[10,545,5,62],[10,552,5,62,"i"],[10,553,5,62],[10,554,5,62,"get"],[10,557,5,62],[10,561,5,62,"i"],[10,562,5,62],[10,563,5,62,"set"],[10,566,5,62],[10,570,5,62,"o"],[10,571,5,62],[10,572,5,62,"f"],[10,573,5,62],[10,575,5,62,"_t"],[10,577,5,62],[10,579,5,62,"i"],[10,580,5,62],[10,584,5,62,"f"],[10,585,5,62],[10,586,5,62,"_t"],[10,588,5,62],[10,592,5,62,"e"],[10,593,5,62],[10,594,5,62,"_t"],[10,596,5,62],[10,607,5,62,"f"],[10,608,5,62],[10,613,5,62,"e"],[10,614,5,62],[10,616,5,62,"t"],[10,617,5,62],[11,2,14,15],[11,11,14,24,"useOptionsGetters"],[11,28,14,41,"useOptionsGetters"],[11,29,14,41,"_ref"],[11,33,14,41],[11,35,18,12],[12,4,18,12],[12,8,15,2,"key"],[12,11,15,5],[12,14,15,5,"_ref"],[12,18,15,5],[12,19,15,2,"key"],[12,22,15,5],[13,6,16,2,"options"],[13,13,16,9],[13,16,16,9,"_ref"],[13,20,16,9],[13,21,16,2,"options"],[13,28,16,9],[14,6,17,2,"navigation"],[14,16,17,12],[14,19,17,12,"_ref"],[14,23,17,12],[14,24,17,2,"navigation"],[14,34,17,12],[15,4,19,2],[15,8,19,8,"optionsRef"],[15,18,19,18],[15,21,19,21,"React"],[15,26,19,26],[15,27,19,27,"useRef"],[15,33,19,33],[15,34,19,54,"options"],[15,41,19,61],[15,42,19,62],[16,4,20,2],[16,8,20,8,"optionsGettersFromChildRef"],[16,34,20,34],[16,37,20,37,"React"],[16,42,20,42],[16,43,20,43,"useRef"],[16,49,20,49],[16,50,22,4],[16,51,22,5],[16,52,22,6],[16,53,22,7],[17,4,24,2],[17,8,24,2,"_React$useContext"],[17,25,24,2],[17,28,24,30,"React"],[17,33,24,35],[17,34,24,36,"useContext"],[17,44,24,46],[17,45,24,47,"NavigationBuilderContext"],[17,78,24,71],[17,79,24,72],[18,6,24,10,"onOptionsChange"],[18,21,24,25],[18,24,24,25,"_React$useContext"],[18,41,24,25],[18,42,24,10,"onOptionsChange"],[18,57,24,25],[19,4,25,2],[19,8,25,2,"_React$useContext2"],[19,26,25,2],[19,29,25,55,"React"],[19,34,25,60],[19,35,25,61,"useContext"],[19,45,25,71],[19,46,26,4,"NavigationStateContext"],[19,77,27,2],[19,78,27,3],[20,6,25,28,"parentAddOptionsGetter"],[20,28,25,50],[20,31,25,50,"_React$useContext2"],[20,49,25,50],[20,50,25,10,"addOptionsGetter"],[20,66,25,26],[21,4,29,2],[21,8,29,8,"optionsChangeListener"],[21,29,29,29],[21,32,29,32,"React"],[21,37,29,37],[21,38,29,38,"useCallback"],[21,49,29,49],[21,50,29,50],[21,62,29,56],[22,6,30,4],[22,10,30,10,"isFocused"],[22,19,30,19],[22,22,30,22,"navigation"],[22,32,30,32],[22,34,30,34,"isFocused"],[22,43,30,43],[22,44,30,44],[22,45,30,45],[22,49,30,49],[22,53,30,53],[23,6,31,4],[23,10,31,10,"hasChildren"],[23,21,31,21],[23,24,31,24,"Object"],[23,30,31,30],[23,31,31,31,"keys"],[23,35,31,35],[23,36,31,36,"optionsGettersFromChildRef"],[23,62,31,62],[23,63,31,63,"current"],[23,70,31,70],[23,71,31,71],[23,72,31,72,"length"],[23,78,31,78],[24,6,33,4],[24,10,33,8,"isFocused"],[24,19,33,17],[24,23,33,21],[24,24,33,22,"hasChildren"],[24,35,33,33],[24,37,33,35],[25,8,34,6,"onOptionsChange"],[25,23,34,21],[25,24,34,22,"optionsRef"],[25,34,34,32],[25,35,34,33,"current"],[25,42,34,40],[25,46,34,44],[25,47,34,45],[25,48,34,46],[25,49,34,47],[26,6,35,4],[27,4,36,2],[27,5,36,3],[27,7,36,5],[27,8,36,6,"navigation"],[27,18,36,16],[27,20,36,18,"onOptionsChange"],[27,35,36,33],[27,36,36,34],[27,37,36,35],[28,4,38,2,"React"],[28,9,38,7],[28,10,38,8,"useEffect"],[28,19,38,17],[28,20,38,18],[28,32,38,24],[29,6,39,4,"optionsRef"],[29,16,39,14],[29,17,39,15,"current"],[29,24,39,22],[29,27,39,25,"options"],[29,34,39,32],[30,6,40,4,"optionsChangeListener"],[30,27,40,25],[30,28,40,26],[30,29,40,27],[31,6,42,4],[31,13,42,11,"navigation"],[31,23,42,21],[31,25,42,23,"addListener"],[31,36,42,34],[31,37,42,35],[31,44,42,42],[31,46,42,44,"optionsChangeListener"],[31,67,42,65],[31,68,42,66],[32,4,43,2],[32,5,43,3],[32,7,43,5],[32,8,43,6,"navigation"],[32,18,43,16],[32,20,43,18,"options"],[32,27,43,25],[32,29,43,27,"optionsChangeListener"],[32,50,43,48],[32,51,43,49],[32,52,43,50],[33,4,45,2],[33,8,45,8,"getOptionsFromListener"],[33,30,45,30],[33,33,45,33,"React"],[33,38,45,38],[33,39,45,39,"useCallback"],[33,50,45,50],[33,51,45,51],[33,63,45,57],[34,6,46,4],[34,11,46,9],[34,15,46,13,"key"],[34,19,46,16],[34,23,46,20,"optionsGettersFromChildRef"],[34,49,46,46],[34,50,46,47,"current"],[34,57,46,54],[34,59,46,56],[35,8,47,6],[35,12,47,10,"optionsGettersFromChildRef"],[35,38,47,36],[35,39,47,37,"current"],[35,46,47,44],[35,47,47,45,"hasOwnProperty"],[35,61,47,59],[35,62,47,60,"key"],[35,66,47,63],[35,67,47,64],[35,69,47,66],[36,10,48,8],[36,14,48,14,"result"],[36,20,48,20],[36,23,48,23,"optionsGettersFromChildRef"],[36,49,48,49],[36,50,48,50,"current"],[36,57,48,57],[36,58,48,58,"key"],[36,62,48,61],[36,63,48,62],[36,66,48,65],[36,67,48,66],[38,10,50,8],[39,10,51,8],[39,14,51,12,"result"],[39,20,51,18],[39,25,51,23],[39,29,51,27],[39,31,51,29],[40,12,52,10],[40,19,52,17,"result"],[40,25,52,23],[41,10,53,8],[42,8,54,6],[43,6,55,4],[44,6,57,4],[44,13,57,11],[44,17,57,15],[45,4,58,2],[45,5,58,3],[45,7,58,5],[45,9,58,7],[45,10,58,8],[46,4,60,2],[46,8,60,8,"getCurrentOptions"],[46,25,60,25],[46,28,60,28,"React"],[46,33,60,33],[46,34,60,34,"useCallback"],[46,45,60,45],[46,46,60,46],[46,58,60,52],[47,6,61,4],[47,10,61,10,"isFocused"],[47,19,61,19],[47,22,61,22,"navigation"],[47,32,61,32],[47,34,61,34,"isFocused"],[47,43,61,43],[47,44,61,44],[47,45,61,45],[47,49,61,49],[47,53,61,53],[48,6,63,4],[48,10,63,8],[48,11,63,9,"isFocused"],[48,20,63,18],[48,22,63,20],[49,8,64,6],[49,15,64,13],[49,19,64,17],[50,6,65,4],[51,6,67,4],[51,10,67,10,"optionsFromListener"],[51,29,67,29],[51,32,67,32,"getOptionsFromListener"],[51,54,67,54],[51,55,67,55],[51,56,67,56],[52,6,69,4],[52,10,69,8,"optionsFromListener"],[52,29,69,27],[52,34,69,32],[52,38,69,36],[52,40,69,38],[53,8,70,6],[53,15,70,13,"optionsFromListener"],[53,34,70,32],[54,6,71,4],[55,6,73,4],[55,13,73,11,"optionsRef"],[55,23,73,21],[55,24,73,22,"current"],[55,31,73,29],[56,4,74,2],[56,5,74,3],[56,7,74,5],[56,8,74,6,"navigation"],[56,18,74,16],[56,20,74,18,"getOptionsFromListener"],[56,42,74,40],[56,43,74,41],[56,44,74,42],[57,4,76,2,"React"],[57,9,76,7],[57,10,76,8,"useEffect"],[57,19,76,17],[57,20,76,18],[57,32,76,24],[58,6,77,4],[58,13,77,11,"parentAddOptionsGetter"],[58,35,77,33],[58,38,77,36,"key"],[58,41,77,39],[58,43,77,42,"getCurrentOptions"],[58,60,77,59],[58,61,77,60],[59,4,78,2],[59,5,78,3],[59,7,78,5],[59,8,78,6,"getCurrentOptions"],[59,25,78,23],[59,27,78,25,"parentAddOptionsGetter"],[59,49,78,47],[59,51,78,49,"key"],[59,54,78,52],[59,55,78,53],[59,56,78,54],[60,4,80,2],[60,8,80,8,"addOptionsGetter"],[60,24,80,24],[60,27,80,27,"React"],[60,32,80,32],[60,33,80,33,"useCallback"],[60,44,80,44],[60,45,81,4],[60,55,81,5,"key"],[60,58,81,16],[60,60,81,18,"getter"],[60,66,81,57],[60,68,81,62],[61,6,82,6,"optionsGettersFromChildRef"],[61,32,82,32],[61,33,82,33,"current"],[61,40,82,40],[61,41,82,41,"key"],[61,44,82,44],[61,45,82,45],[61,48,82,48,"getter"],[61,54,82,54],[62,6,83,6,"optionsChangeListener"],[62,27,83,27],[62,28,83,28],[62,29,83,29],[63,6,85,6],[63,13,85,13],[63,25,85,19],[64,8,86,8],[65,8,87,8],[65,15,87,15,"optionsGettersFromChildRef"],[65,41,87,41],[65,42,87,42,"current"],[65,49,87,49],[65,50,87,50,"key"],[65,53,87,53],[65,54,87,54],[66,8,88,8,"optionsChangeListener"],[66,29,88,29],[66,30,88,30],[66,31,88,31],[67,6,89,6],[67,7,89,7],[68,4,90,4],[68,5,90,5],[68,7,91,4],[68,8,91,5,"optionsChangeListener"],[68,29,91,26],[68,30,92,2],[68,31,92,3],[69,4,94,2],[69,11,94,9],[70,6,95,4,"addOptionsGetter"],[70,22,95,20],[71,6,96,4,"getCurrentOptions"],[72,4,97,2],[72,5,97,3],[73,2,98,0],[74,0,98,1]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;eCa;kDCe;GDO;kBEE;GFK;mDGE;GHa;8CIE;GJc;kBEE;GFE;IKG;aCI;ODI;KLC;CDQ"}},"type":"js/module"}]}