{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":273,"column":0,"index":9673}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"./Globals","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":58,"index":73}}],"key":"OabWliSXupETSGi5RU5eeA0npRY="}},{"name":"eventemitter3","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":75},"end":{"line":5,"column":41,"index":116}}],"key":"8QIBWCcPbSTEUWeI/kND+DIUBBY="}},{"name":"react-native-web/dist/exports/NativeModules","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":273,"column":0,"index":9673}}],"key":"QtZH+h2xCdR+0ckw8MxkXfVQIEQ="}},{"name":"./Socket","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":0,"index":163},"end":{"line":7,"column":30,"index":193}}],"key":"E7yyUAWcYao+k1CPaFPmBaoLQcE="}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var s=r(d[1]),n=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4]));const c=o.default.TcpSockets;class h extends n.default{constructor(t,n){if(super(),this._id=(0,s.getNextId)(),this._eventEmitter=s.nativeEventEmitter,this._connections=new Set,this._localAddress=void 0,this._localPort=void 0,this._localFamily=void 0,this._serverOptions={},this.listening=!1,'function'==typeof t){const s=t;this.on('connection',s),t={}}else t&&'object'==typeof t&&(this._serverOptions=Object.assign({},t),'function'==typeof n&&this.on('connection',n));this._registerEvents(),this.on('close',this._setDisconnected,this)}listen(t,s,n){if(void 0!==this._localAddress)throw new Error('ERR_SERVER_ALREADY_LISTEN');let o,l={port:0,host:'0.0.0.0'};if('number'==typeof t)l.port=t,'string'==typeof s?(l.host=s,o=n):'function'==typeof s&&(o=s);else{if('object'!=typeof t)throw new TypeError('options must be an object or a number');l={port:t.port,host:t.host||'0.0.0.0',reuseAddress:t.reuseAddress},'function'==typeof s&&(o=s)}return'function'==typeof o&&this.once('listening',o),this.once('listening',()=>{this.listening=!0}),c.listen(this._id,l),this}getConnections(t){return t(null,this._connections.size),this}close(t){return this._localAddress?(t&&this.once('close',t),this.listening=!1,c.close(this._id),0===this._connections.size&&this.emit('close'),this):(t?.(new Error('ERR_SERVER_NOT_RUNNING')),this)}address(){return this._localAddress?{address:this._localAddress,port:this._localPort,family:this._localFamily}:null}ref(){return this}unref(){return this}_registerEvents(){this._listeningListener=this._eventEmitter.addListener('listening',t=>{t.id===this._id&&(this._localAddress=t.connection.localAddress,this._localPort=t.connection.localPort,this._localFamily=t.connection.localFamily,this.emit('listening'))}),this._errorListener=this._eventEmitter.addListener('error',t=>{t.id===this._id&&(this.close(),this.emit('error',t.error))}),this._connectionsListener=this._eventEmitter.addListener('connection',t=>{if(t.id!==this._id)return;const s=this._buildSocket(t.info);this._addConnection(s),this.emit('connection',s)})}_setDisconnected(){this._localAddress=void 0,this._localPort=void 0,this._localFamily=void 0}_addConnection(t){t.on('close',()=>{this._connections.delete(t),this.listening||0!==this._connections.size||this.emit('close')}),this._connections.add(t)}_buildSocket(t){const s=new l.default;if(s._setId(t.id),s._setConnected(t.connection),this._serverOptions&&(void 0!==this._serverOptions.noDelay&&s.setNoDelay(this._serverOptions.noDelay),void 0!==this._serverOptions.keepAlive)){const t=this._serverOptions.keepAliveInitialDelay||0;s.setKeepAlive(this._serverOptions.keepAlive,t)}return s}_applySocketOptions(t){if(void 0!==this._serverOptions.noDelay&&t.setNoDelay(this._serverOptions.noDelay),void 0!==this._serverOptions.keepAlive){const s=this._serverOptions.keepAliveInitialDelay||0;t.setKeepAlive(this._serverOptions.keepAlive,s)}}}e.default=h});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13],[1,45,1,13,"_interopRequireDefault"],[1,47,1,13,"r"],[1,49,1,13,"d"],[1,51,1,13],[1,55,1,13,"Object"],[1,62,1,13,"defineProperty"],[1,77,1,13,"e"],[1,79,1,13],[1,93,1,13,"value"],[1,100,1,13],[1,104,1,13,"e"],[1,106,1,13,"default"],[1,119,1,13,"undefined"],[1,121,3,0],[1,125,3,0,"_Globals"],[1,127,3,0,"r"],[1,129,3,0,"d"],[1,131,3,0],[1,135,5,0,"_eventemitter"],[1,137,5,0,"_interopRequireDefault"],[1,139,5,0,"r"],[1,141,5,0,"d"],[1,143,5,0],[1,148,5,41,"_NativeModules"],[1,150,5,41,"_interopRequireDefault"],[1,152,5,41,"r"],[1,154,5,41,"d"],[1,156,5,41],[1,161,7,0,"_Socket"],[1,163,7,0,"_interopRequireDefault"],[1,165,7,0,"r"],[1,167,7,0,"d"],[1,169,7,0],[1,174,9,0],[1,180,9,6,"Sockets"],[1,182,9,16,"NativeModules"],[1,192,9,30,"TcpSockets"],[1,203,30,15],[1,209,30,21,"Server"],[1,219,30,36,"EventEmitter"],[1,229,35,4,"constructor"],[1,241,35,16,"options"],[1,243,35,25,"connectionCallback"],[1,246,54,8],[1,249,36,8,"super"],[1,257,38,8,"this"],[1,262,38,13,"_id"],[1,267,38,19],[1,269,38,19,"getNextId"],[1,284,40,8,"this"],[1,289,40,13,"_eventEmitter"],[1,303,40,29,"nativeEventEmitter"],[1,324,42,8,"this"],[1,329,42,13,"_connections"],[1,342,42,28],[1,346,42,32,"Set"],[1,350,44,8,"this"],[1,355,44,13,"_localAddress"],[1,374,44,29,"undefined"],[1,376,46,8,"this"],[1,381,46,13,"_localPort"],[1,397,46,26,"undefined"],[1,399,48,8,"this"],[1,404,48,13,"_localFamily"],[1,422,48,28,"undefined"],[1,424,50,8,"this"],[1,429,50,13,"_serverOptions"],[1,444,50,30],[1,445,50,31],[1,447,51,8,"this"],[1,452,51,13,"listening"],[1,463,51,25],[1,465,54,31],[1,484,54,19,"options"],[1,486,54,43],[1,487,56,12],[1,493,56,18,"callback"],[1,495,56,29,"options"],[1,497,57,12,"this"],[1,502,57,17,"on"],[1,505,57,20],[1,518,57,34,"callback"],[1,521,58,12,"options"],[1,523,58,22],[1,524,58,23],[1,525,59,8],[1,531,59,19,"options"],[1,534,59,49],[1,551,59,37,"options"],[1,555,60,12,"this"],[1,560,60,17,"_serverOptions"],[1,575,60,31,"Object"],[1,582,60,31,"assign"],[1,589,60,31],[1,592,60,39,"options"],[1,595,61,46],[1,614,61,23,"connectionCallback"],[1,617,62,16,"this"],[1,622,62,21,"on"],[1,625,62,24],[1,638,62,38,"connectionCallback"],[1,642,66,8,"this"],[1,647,66,13,"_registerEvents"],[1,665,67,8,"this"],[1,670,67,13,"on"],[1,673,67,16],[1,681,67,25,"this"],[1,686,67,30,"_setDisconnected"],[1,703,67,48,"this"],[1,708,68,4],[1,709,85,4,"listen"],[1,716,85,11,"options"],[1,718,85,20,"callback_or_host"],[1,720,85,38,"callback"],[1,723,86,8],[1,731,86,35,"undefined"],[1,735,86,12,"this"],[1,740,86,17,"_localAddress"],[1,754,86,46],[1,760,86,52],[1,764,86,56,"Error"],[1,770,86,62],[1,799,89,8],[1,803,91,12,"cb"],[1,805,89,12,"listenOptions"],[1,807,89,28],[1,808,89,30,"port"],[1,813,89,36],[1,815,89,39,"host"],[1,820,89,45],[1,831,94,8],[1,834,94,31],[1,851,94,19,"options"],[1,853,96,12,"listenOptions"],[1,855,96,26,"port"],[1,860,96,33,"options"],[1,862,97,44],[1,879,97,23,"callback_or_host"],[1,882,98,16,"listenOptions"],[1,884,98,30,"host"],[1,889,98,37,"callback_or_host"],[1,891,99,16,"cb"],[1,893,99,21,"callback"],[1,896,100,51],[1,915,100,30,"callback_or_host"],[1,919,101,16,"cb"],[1,921,101,21,"callback_or_host"],[1,928,103,15],[1,932,103,38],[1,949,103,26,"options"],[1,951,114,12],[1,957,114,18],[1,961,114,22,"TypeError"],[1,971,114,32],[1,1012,105,12,"listenOptions"],[1,1014,105,28],[1,1015,106,16,"port"],[1,1020,106,22,"options"],[1,1022,106,30,"port"],[1,1027,107,16,"host"],[1,1032,107,22,"options"],[1,1034,107,30,"host"],[1,1040,107,38],[1,1050,108,16,"reuseAddress"],[1,1063,108,30,"options"],[1,1065,108,38,"reuseAddress"],[1,1079,110,44],[1,1098,110,23,"callback_or_host"],[1,1102,111,16,"cb"],[1,1104,111,21,"callback_or_host"],[1,1106,115,8],[1,1107,127,8],[1,1113,118,26],[1,1132,118,19,"cb"],[1,1135,119,12,"this"],[1,1140,119,17,"once"],[1,1145,119,22],[1,1157,119,35,"cb"],[1,1160,122,8,"this"],[1,1165,122,13,"once"],[1,1170,122,18],[1,1182,122,31],[1,1187,123,12,"this"],[1,1192,123,17,"listening"],[1,1203,123,29],[1,1207,126,8,"Sockets"],[1,1209,126,16,"listen"],[1,1216,126,23,"this"],[1,1221,126,28,"_id"],[1,1225,126,33,"listenOptions"],[1,1228,127,15,"this"],[1,1232,128,4],[1,1233,138,4,"getConnections"],[1,1248,138,19,"callback"],[1,1251,140,8],[1,1258,139,8,"callback"],[1,1260,139,17],[1,1265,139,23,"this"],[1,1270,139,28,"_connections"],[1,1283,139,41,"size"],[1,1289,140,15,"this"],[1,1293,141,4],[1,1294,152,4,"close"],[1,1300,152,10,"callback"],[1,1303,153,8],[1,1310,153,13,"this"],[1,1315,153,18,"_localAddress"],[1,1330,157,12,"callback"],[1,1333,157,22,"this"],[1,1338,157,27,"once"],[1,1343,157,32],[1,1351,157,41,"callback"],[1,1354,158,8,"this"],[1,1359,158,13,"listening"],[1,1370,158,25],[1,1372,159,8,"Sockets"],[1,1374,159,16,"close"],[1,1380,159,22,"this"],[1,1385,159,27,"_id"],[1,1390,160,39],[1,1394,160,12,"this"],[1,1399,160,17,"_connections"],[1,1412,160,30,"size"],[1,1418,160,42,"this"],[1,1423,160,47,"emit"],[1,1428,160,52],[1,1437,161,15,"this"],[1,1444,154,12,"callback"],[1,1448,154,23],[1,1452,154,27,"Error"],[1,1458,154,33],[1,1485,155,19,"this"],[1,1490,162,4],[1,1491,171,4,"address"],[1,1501,172,8],[1,1508,172,13,"this"],[1,1513,172,18,"_localAddress"],[1,1527,173,15],[1,1528,173,17,"address"],[1,1536,173,26,"this"],[1,1541,173,31,"_localAddress"],[1,1555,173,46,"port"],[1,1560,173,52,"this"],[1,1565,173,57,"_localPort"],[1,1576,173,69,"family"],[1,1583,173,77,"this"],[1,1588,173,82,"_localFamily"],[1,1602,172,40],[1,1606,174,4],[1,1607,176,4,"ref"],[1,1613,178,8],[1,1620,178,15,"this"],[1,1624,179,4],[1,1625,181,4,"unref"],[1,1633,183,8],[1,1640,183,15,"this"],[1,1644,184,4],[1,1645,189,4,"_registerEvents"],[1,1663,190,8,"this"],[1,1668,190,13,"_listeningListener"],[1,1687,190,34,"this"],[1,1692,190,39,"_eventEmitter"],[1,1706,190,53,"addListener"],[1,1718,190,65],[1,1730,190,79,"evt"],[1,1734,191,16,"evt"],[1,1736,191,20,"id"],[1,1741,191,27,"this"],[1,1746,191,32,"_id"],[1,1752,192,12,"this"],[1,1757,192,17,"_localAddress"],[1,1771,192,33,"evt"],[1,1773,192,37,"connection"],[1,1784,192,48,"localAddress"],[1,1797,193,12,"this"],[1,1802,193,17,"_localPort"],[1,1813,193,30,"evt"],[1,1815,193,34,"connection"],[1,1826,193,45,"localPort"],[1,1836,194,12,"this"],[1,1841,194,17,"_localFamily"],[1,1854,194,32,"evt"],[1,1856,194,36,"connection"],[1,1867,194,47,"localFamily"],[1,1879,195,12,"this"],[1,1884,195,17,"emit"],[1,1889,195,22],[1,1905,197,8,"this"],[1,1910,197,13,"_errorListener"],[1,1925,197,30,"this"],[1,1930,197,35,"_eventEmitter"],[1,1944,197,49,"addListener"],[1,1956,197,61],[1,1964,197,71,"evt"],[1,1968,198,16,"evt"],[1,1970,198,20,"id"],[1,1975,198,27,"this"],[1,1980,198,32,"_id"],[1,1986,199,12,"this"],[1,1991,199,17,"close"],[1,1999,200,12,"this"],[1,2004,200,17,"emit"],[1,2009,200,22],[1,2017,200,31,"evt"],[1,2019,200,35,"error"],[1,2029,202,8,"this"],[1,2034,202,13,"_connectionsListener"],[1,2055,202,36,"this"],[1,2060,202,41,"_eventEmitter"],[1,2074,202,55,"addListener"],[1,2086,202,67],[1,2099,202,82,"evt"],[1,2103,203,12],[1,2106,203,16,"evt"],[1,2108,203,20,"id"],[1,2113,203,27,"this"],[1,2118,203,32,"_id"],[1,2122,203,37],[1,2129,204,12],[1,2135,204,18,"newSocket"],[1,2137,204,30,"this"],[1,2142,204,35,"_buildSocket"],[1,2155,204,48,"evt"],[1,2157,204,52,"info"],[1,2163,205,12,"this"],[1,2168,205,17,"_addConnection"],[1,2183,205,32,"newSocket"],[1,2186,206,12,"this"],[1,2191,206,17,"emit"],[1,2196,206,22],[1,2209,206,36,"newSocket"],[1,2213,208,4],[1,2214,213,4,"_setDisconnected"],[1,2233,214,8,"this"],[1,2238,214,13,"_localAddress"],[1,2257,214,29,"undefined"],[1,2259,215,8,"this"],[1,2264,215,13,"_localPort"],[1,2280,215,26,"undefined"],[1,2282,216,8,"this"],[1,2287,216,13,"_localFamily"],[1,2305,216,28,"undefined"],[1,2306,217,4],[1,2307,223,4,"_addConnection"],[1,2322,223,19,"socket"],[1,2325,225,8,"socket"],[1,2327,225,15,"on"],[1,2330,225,18],[1,2338,225,27],[1,2343,226,12,"this"],[1,2348,226,17,"_connections"],[1,2361,226,30,"delete"],[1,2368,226,37,"socket"],[1,2371,227,17,"this"],[1,2376,227,22,"listening"],[1,2387,227,62],[1,2391,227,35,"this"],[1,2396,227,40,"_connections"],[1,2409,227,53,"size"],[1,2415,227,65,"this"],[1,2420,227,70,"emit"],[1,2425,227,75],[1,2436,229,8,"this"],[1,2441,229,13,"_connections"],[1,2454,229,26,"add"],[1,2458,229,30,"socket"],[1,2460,230,4],[1,2461,237,4,"_buildSocket"],[1,2474,237,17,"info"],[1,2477,238,8],[1,2483,238,14,"newSocket"],[1,2485,238,26],[1,2489,238,30,"Socket"],[1,2499,243,8],[1,2502,239,8,"newSocket"],[1,2504,239,18,"_setId"],[1,2511,239,25,"info"],[1,2513,239,30,"id"],[1,2517,240,8,"newSocket"],[1,2519,240,18,"_setConnected"],[1,2533,240,32,"info"],[1,2535,240,37,"connection"],[1,2547,243,12,"this"],[1,2552,243,17,"_serverOptions"],[1,2574,244,48,"undefined"],[1,2578,244,16,"this"],[1,2583,244,21,"_serverOptions"],[1,2598,244,36,"noDelay"],[1,2607,245,16,"newSocket"],[1,2609,245,26,"setNoDelay"],[1,2620,245,37,"this"],[1,2625,245,42,"_serverOptions"],[1,2640,245,57,"noDelay"],[1,2654,248,50,"undefined"],[1,2658,248,16,"this"],[1,2663,248,21,"_serverOptions"],[1,2678,248,36,"keepAlive"],[1,2689,248,61],[1,2690,249,16],[1,2696,249,22,"keepAliveDelay"],[1,2698,249,39,"this"],[1,2703,249,44,"_serverOptions"],[1,2718,249,59,"keepAliveInitialDelay"],[1,2741,249,84],[1,2743,250,16,"newSocket"],[1,2745,250,26,"setKeepAlive"],[1,2758,250,39,"this"],[1,2763,250,44,"_serverOptions"],[1,2778,250,59,"keepAlive"],[1,2788,250,70,"keepAliveDelay"],[1,2790,251,12],[1,2791,254,8],[1,2798,254,15,"newSocket"],[1,2799,255,4],[1,2800,262,4,"_applySocketOptions"],[1,2820,262,24,"socket"],[1,2823,267,8],[1,2831,263,44,"undefined"],[1,2835,263,12,"this"],[1,2840,263,17,"_serverOptions"],[1,2855,263,32,"noDelay"],[1,2864,264,12,"socket"],[1,2866,264,19,"setNoDelay"],[1,2877,264,30,"this"],[1,2882,264,35,"_serverOptions"],[1,2897,264,50,"noDelay"],[1,2911,267,46,"undefined"],[1,2915,267,12,"this"],[1,2920,267,17,"_serverOptions"],[1,2935,267,32,"keepAlive"],[1,2945,267,57],[1,2946,268,12],[1,2952,268,18,"keepAliveDelay"],[1,2954,268,35,"this"],[1,2959,268,40,"_serverOptions"],[1,2974,268,55,"keepAliveInitialDelay"],[1,2997,268,80],[1,2999,269,12,"socket"],[1,3001,269,19,"setKeepAlive"],[1,3014,269,32,"this"],[1,3019,269,37,"_serverOptions"],[1,3034,269,52,"keepAlive"],[1,3044,269,63,"keepAliveDelay"],[1,3046,270,8],[1,3047,271,4],[1,3049,272,1,"e"],[1,3051,272,1,"default"],[1,3059,272,1,"Server"],[1,3060,272,1]],"functionMap":{"names":["<global>","Server","constructor","listen","once$argument_1","getConnections","close","address","ref","unref","_registerEvents","_eventEmitter.addListener$argument_1","_setDisconnected","_addConnection","socket.on$argument_1","_buildSocket","_applySocketOptions"],"mappings":"AAA;eC6B;ICK;KDiC;IEiB;+BCqC;SDE;KFI;IIU;KJG;IKW;KLU;IMS;KNG;IOE;KPG;IQE;KRG;ISK;8ECC;SDM;sECC;SDI;iFCC;SDK;KTC;IWK;KXI;IYM;2BCE;SDG;KZE;IcO;KdkB;IeO;KfS;CDC"}},"type":"js/module"}]}