{"dependencies":[{"name":"css-what","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":17,"index":124},"end":{"line":4,"column":36,"index":143}}],"key":"z/F3/s/4wYNTaF5xK3k8azYWU80="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isTraversal = undefined;\n  var css_what_1 = require(_dependencyMap[0]);\n  var procedure = new Map([[css_what_1.SelectorType.Universal, 50], [css_what_1.SelectorType.Tag, 30], [css_what_1.SelectorType.Attribute, 1], [css_what_1.SelectorType.Pseudo, 0]]);\n  function isTraversal(token) {\n    return !procedure.has(token.type);\n  }\n  exports.isTraversal = isTraversal;\n  var attributes = new Map([[css_what_1.AttributeAction.Exists, 10], [css_what_1.AttributeAction.Equals, 8], [css_what_1.AttributeAction.Not, 7], [css_what_1.AttributeAction.Start, 6], [css_what_1.AttributeAction.End, 6], [css_what_1.AttributeAction.Any, 5]]);\n  /**\n   * Sort the parts of the passed selector,\n   * as there is potential for optimization\n   * (some types of selectors are faster than others)\n   *\n   * @param arr Selector to sort\n   */\n  function sortByProcedure(arr) {\n    var procs = arr.map(getProcedure);\n    for (var i = 1; i < arr.length; i++) {\n      var procNew = procs[i];\n      if (procNew < 0) continue;\n      for (var j = i - 1; j >= 0 && procNew < procs[j]; j--) {\n        var token = arr[j + 1];\n        arr[j + 1] = arr[j];\n        arr[j] = token;\n        procs[j + 1] = procs[j];\n        procs[j] = procNew;\n      }\n    }\n  }\n  exports.default = sortByProcedure;\n  function getProcedure(token) {\n    var _a, _b;\n    var proc = (_a = procedure.get(token.type)) !== null && _a !== undefined ? _a : -1;\n    if (token.type === css_what_1.SelectorType.Attribute) {\n      proc = (_b = attributes.get(token.action)) !== null && _b !== undefined ? _b : 4;\n      if (token.action === css_what_1.AttributeAction.Equals && token.name === \"id\") {\n        // Prefer ID selectors (eg. #ID)\n        proc = 9;\n      }\n      if (token.ignoreCase) {\n        /*\n         * IgnoreCase adds some overhead, prefer \"normal\" token\n         * this is a binary operation, to ensure it's still an int\n         */\n        proc >>= 1;\n      }\n    } else if (token.type === css_what_1.SelectorType.Pseudo) {\n      if (!token.data) {\n        proc = 3;\n      } else if (token.name === \"has\" || token.name === \"contains\") {\n        proc = 0; // Expensive in any case\n      } else if (Array.isArray(token.data)) {\n        // Eg. :matches, :not\n        proc = Math.min.apply(Math, token.data.map(function (d) {\n          return Math.min.apply(Math, d.map(getProcedure));\n        }));\n        // If we have traversals, try to avoid executing this selector\n        if (proc < 0) {\n          proc = 0;\n        }\n      } else {\n        proc = 2;\n      }\n    }\n    return proc;\n  }\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"isTraversal"],[7,21,3,19],[7,24,3,19,"undefined"],[7,33,3,28],[8,2,4,0],[8,6,4,4,"css_what_1"],[8,16,4,14],[8,19,4,17,"require"],[8,26,4,24],[8,27,4,24,"_dependencyMap"],[8,41,4,24],[8,44,4,35],[8,45,4,36],[9,2,5,0],[9,6,5,4,"procedure"],[9,15,5,13],[9,18,5,16],[9,22,5,20,"Map"],[9,25,5,23],[9,26,5,24],[9,27,6,4],[9,28,6,5,"css_what_1"],[9,38,6,15],[9,39,6,16,"SelectorType"],[9,51,6,28],[9,52,6,29,"Universal"],[9,61,6,38],[9,63,6,40],[9,65,6,42],[9,66,6,43],[9,68,7,4],[9,69,7,5,"css_what_1"],[9,79,7,15],[9,80,7,16,"SelectorType"],[9,92,7,28],[9,93,7,29,"Tag"],[9,96,7,32],[9,98,7,34],[9,100,7,36],[9,101,7,37],[9,103,8,4],[9,104,8,5,"css_what_1"],[9,114,8,15],[9,115,8,16,"SelectorType"],[9,127,8,28],[9,128,8,29,"Attribute"],[9,137,8,38],[9,139,8,40],[9,140,8,41],[9,141,8,42],[9,143,9,4],[9,144,9,5,"css_what_1"],[9,154,9,15],[9,155,9,16,"SelectorType"],[9,167,9,28],[9,168,9,29,"Pseudo"],[9,174,9,35],[9,176,9,37],[9,177,9,38],[9,178,9,39],[9,179,10,1],[9,180,10,2],[10,2,11,0],[10,11,11,9,"isTraversal"],[10,22,11,20,"isTraversal"],[10,23,11,21,"token"],[10,28,11,26],[10,30,11,28],[11,4,12,4],[11,11,12,11],[11,12,12,12,"procedure"],[11,21,12,21],[11,22,12,22,"has"],[11,25,12,25],[11,26,12,26,"token"],[11,31,12,31],[11,32,12,32,"type"],[11,36,12,36],[11,37,12,37],[12,2,13,0],[13,2,14,0,"exports"],[13,9,14,7],[13,10,14,8,"isTraversal"],[13,21,14,19],[13,24,14,22,"isTraversal"],[13,35,14,33],[14,2,15,0],[14,6,15,4,"attributes"],[14,16,15,14],[14,19,15,17],[14,23,15,21,"Map"],[14,26,15,24],[14,27,15,25],[14,28,16,4],[14,29,16,5,"css_what_1"],[14,39,16,15],[14,40,16,16,"AttributeAction"],[14,55,16,31],[14,56,16,32,"Exists"],[14,62,16,38],[14,64,16,40],[14,66,16,42],[14,67,16,43],[14,69,17,4],[14,70,17,5,"css_what_1"],[14,80,17,15],[14,81,17,16,"AttributeAction"],[14,96,17,31],[14,97,17,32,"Equals"],[14,103,17,38],[14,105,17,40],[14,106,17,41],[14,107,17,42],[14,109,18,4],[14,110,18,5,"css_what_1"],[14,120,18,15],[14,121,18,16,"AttributeAction"],[14,136,18,31],[14,137,18,32,"Not"],[14,140,18,35],[14,142,18,37],[14,143,18,38],[14,144,18,39],[14,146,19,4],[14,147,19,5,"css_what_1"],[14,157,19,15],[14,158,19,16,"AttributeAction"],[14,173,19,31],[14,174,19,32,"Start"],[14,179,19,37],[14,181,19,39],[14,182,19,40],[14,183,19,41],[14,185,20,4],[14,186,20,5,"css_what_1"],[14,196,20,15],[14,197,20,16,"AttributeAction"],[14,212,20,31],[14,213,20,32,"End"],[14,216,20,35],[14,218,20,37],[14,219,20,38],[14,220,20,39],[14,222,21,4],[14,223,21,5,"css_what_1"],[14,233,21,15],[14,234,21,16,"AttributeAction"],[14,249,21,31],[14,250,21,32,"Any"],[14,253,21,35],[14,255,21,37],[14,256,21,38],[14,257,21,39],[14,258,22,1],[14,259,22,2],[15,2,23,0],[16,0,24,0],[17,0,25,0],[18,0,26,0],[19,0,27,0],[20,0,28,0],[21,0,29,0],[22,2,30,0],[22,11,30,9,"sortByProcedure"],[22,26,30,24,"sortByProcedure"],[22,27,30,25,"arr"],[22,30,30,28],[22,32,30,30],[23,4,31,4],[23,8,31,8,"procs"],[23,13,31,13],[23,16,31,16,"arr"],[23,19,31,19],[23,20,31,20,"map"],[23,23,31,23],[23,24,31,24,"getProcedure"],[23,36,31,36],[23,37,31,37],[24,4,32,4],[24,9,32,9],[24,13,32,13,"i"],[24,14,32,14],[24,17,32,17],[24,18,32,18],[24,20,32,20,"i"],[24,21,32,21],[24,24,32,24,"arr"],[24,27,32,27],[24,28,32,28,"length"],[24,34,32,34],[24,36,32,36,"i"],[24,37,32,37],[24,39,32,39],[24,41,32,41],[25,6,33,8],[25,10,33,12,"procNew"],[25,17,33,19],[25,20,33,22,"procs"],[25,25,33,27],[25,26,33,28,"i"],[25,27,33,29],[25,28,33,30],[26,6,34,8],[26,10,34,12,"procNew"],[26,17,34,19],[26,20,34,22],[26,21,34,23],[26,23,35,12],[27,6,36,8],[27,11,36,13],[27,15,36,17,"j"],[27,16,36,18],[27,19,36,21,"i"],[27,20,36,22],[27,23,36,25],[27,24,36,26],[27,26,36,28,"j"],[27,27,36,29],[27,31,36,33],[27,32,36,34],[27,36,36,38,"procNew"],[27,43,36,45],[27,46,36,48,"procs"],[27,51,36,53],[27,52,36,54,"j"],[27,53,36,55],[27,54,36,56],[27,56,36,58,"j"],[27,57,36,59],[27,59,36,61],[27,61,36,63],[28,8,37,12],[28,12,37,16,"token"],[28,17,37,21],[28,20,37,24,"arr"],[28,23,37,27],[28,24,37,28,"j"],[28,25,37,29],[28,28,37,32],[28,29,37,33],[28,30,37,34],[29,8,38,12,"arr"],[29,11,38,15],[29,12,38,16,"j"],[29,13,38,17],[29,16,38,20],[29,17,38,21],[29,18,38,22],[29,21,38,25,"arr"],[29,24,38,28],[29,25,38,29,"j"],[29,26,38,30],[29,27,38,31],[30,8,39,12,"arr"],[30,11,39,15],[30,12,39,16,"j"],[30,13,39,17],[30,14,39,18],[30,17,39,21,"token"],[30,22,39,26],[31,8,40,12,"procs"],[31,13,40,17],[31,14,40,18,"j"],[31,15,40,19],[31,18,40,22],[31,19,40,23],[31,20,40,24],[31,23,40,27,"procs"],[31,28,40,32],[31,29,40,33,"j"],[31,30,40,34],[31,31,40,35],[32,8,41,12,"procs"],[32,13,41,17],[32,14,41,18,"j"],[32,15,41,19],[32,16,41,20],[32,19,41,23,"procNew"],[32,26,41,30],[33,6,42,8],[34,4,43,4],[35,2,44,0],[36,2,45,0,"exports"],[36,9,45,7],[36,10,45,8,"default"],[36,17,45,15],[36,20,45,18,"sortByProcedure"],[36,35,45,33],[37,2,46,0],[37,11,46,9,"getProcedure"],[37,23,46,21,"getProcedure"],[37,24,46,22,"token"],[37,29,46,27],[37,31,46,29],[38,4,47,4],[38,8,47,8,"_a"],[38,10,47,10],[38,12,47,12,"_b"],[38,14,47,14],[39,4,48,4],[39,8,48,8,"proc"],[39,12,48,12],[39,15,48,15],[39,16,48,16,"_a"],[39,18,48,18],[39,21,48,21,"procedure"],[39,30,48,30],[39,31,48,31,"get"],[39,34,48,34],[39,35,48,35,"token"],[39,40,48,40],[39,41,48,41,"type"],[39,45,48,45],[39,46,48,46],[39,52,48,52],[39,56,48,56],[39,60,48,60,"_a"],[39,62,48,62],[39,67,48,62,"undefined"],[39,76,48,73],[39,79,48,76,"_a"],[39,81,48,78],[39,86,48,83],[40,4,49,4],[40,8,49,8,"token"],[40,13,49,13],[40,14,49,14,"type"],[40,18,49,18],[40,23,49,23,"css_what_1"],[40,33,49,33],[40,34,49,34,"SelectorType"],[40,46,49,46],[40,47,49,47,"Attribute"],[40,56,49,56],[40,58,49,58],[41,6,50,8,"proc"],[41,10,50,12],[41,13,50,15],[41,14,50,16,"_b"],[41,16,50,18],[41,19,50,21,"attributes"],[41,29,50,31],[41,30,50,32,"get"],[41,33,50,35],[41,34,50,36,"token"],[41,39,50,41],[41,40,50,42,"action"],[41,46,50,48],[41,47,50,49],[41,53,50,55],[41,57,50,59],[41,61,50,63,"_b"],[41,63,50,65],[41,68,50,65,"undefined"],[41,77,50,76],[41,80,50,79,"_b"],[41,82,50,81],[41,85,50,84],[41,86,50,85],[42,6,51,8],[42,10,51,12,"token"],[42,15,51,17],[42,16,51,18,"action"],[42,22,51,24],[42,27,51,29,"css_what_1"],[42,37,51,39],[42,38,51,40,"AttributeAction"],[42,53,51,55],[42,54,51,56,"Equals"],[42,60,51,62],[42,64,51,66,"token"],[42,69,51,71],[42,70,51,72,"name"],[42,74,51,76],[42,79,51,81],[42,83,51,85],[42,85,51,87],[43,8,52,12],[44,8,53,12,"proc"],[44,12,53,16],[44,15,53,19],[44,16,53,20],[45,6,54,8],[46,6,55,8],[46,10,55,12,"token"],[46,15,55,17],[46,16,55,18,"ignoreCase"],[46,26,55,28],[46,28,55,30],[47,8,56,12],[48,0,57,0],[49,0,58,0],[50,0,59,0],[51,8,60,12,"proc"],[51,12,60,16],[51,17,60,21],[51,18,60,22],[52,6,61,8],[53,4,62,4],[53,5,62,5],[53,11,63,9],[53,15,63,13,"token"],[53,20,63,18],[53,21,63,19,"type"],[53,25,63,23],[53,30,63,28,"css_what_1"],[53,40,63,38],[53,41,63,39,"SelectorType"],[53,53,63,51],[53,54,63,52,"Pseudo"],[53,60,63,58],[53,62,63,60],[54,6,64,8],[54,10,64,12],[54,11,64,13,"token"],[54,16,64,18],[54,17,64,19,"data"],[54,21,64,23],[54,23,64,25],[55,8,65,12,"proc"],[55,12,65,16],[55,15,65,19],[55,16,65,20],[56,6,66,8],[56,7,66,9],[56,13,67,13],[56,17,67,17,"token"],[56,22,67,22],[56,23,67,23,"name"],[56,27,67,27],[56,32,67,32],[56,37,67,37],[56,41,67,41,"token"],[56,46,67,46],[56,47,67,47,"name"],[56,51,67,51],[56,56,67,56],[56,66,67,66],[56,68,67,68],[57,8,68,12,"proc"],[57,12,68,16],[57,15,68,19],[57,16,68,20],[57,17,68,21],[57,18,68,22],[58,6,69,8],[58,7,69,9],[58,13,70,13],[58,17,70,17,"Array"],[58,22,70,22],[58,23,70,23,"isArray"],[58,30,70,30],[58,31,70,31,"token"],[58,36,70,36],[58,37,70,37,"data"],[58,41,70,41],[58,42,70,42],[58,44,70,44],[59,8,71,12],[60,8,72,12,"proc"],[60,12,72,16],[60,15,72,19,"Math"],[60,19,72,23],[60,20,72,24,"min"],[60,23,72,27],[60,24,72,28,"apply"],[60,29,72,33],[60,30,72,34,"Math"],[60,34,72,38],[60,36,72,40,"token"],[60,41,72,45],[60,42,72,46,"data"],[60,46,72,50],[60,47,72,51,"map"],[60,50,72,54],[60,51,72,55],[60,61,72,65,"d"],[60,62,72,66],[60,64,72,68],[61,10,72,70],[61,17,72,77,"Math"],[61,21,72,81],[61,22,72,82,"min"],[61,25,72,85],[61,26,72,86,"apply"],[61,31,72,91],[61,32,72,92,"Math"],[61,36,72,96],[61,38,72,98,"d"],[61,39,72,99],[61,40,72,100,"map"],[61,43,72,103],[61,44,72,104,"getProcedure"],[61,56,72,116],[61,57,72,117],[61,58,72,118],[62,8,72,120],[62,9,72,121],[62,10,72,122],[62,11,72,123],[63,8,73,12],[64,8,74,12],[64,12,74,16,"proc"],[64,16,74,20],[64,19,74,23],[64,20,74,24],[64,22,74,26],[65,10,75,16,"proc"],[65,14,75,20],[65,17,75,23],[65,18,75,24],[66,8,76,12],[67,6,77,8],[67,7,77,9],[67,13,78,13],[68,8,79,12,"proc"],[68,12,79,16],[68,15,79,19],[68,16,79,20],[69,6,80,8],[70,4,81,4],[71,4,82,4],[71,11,82,11,"proc"],[71,15,82,15],[72,2,83,0],[73,0,83,1]],"functionMap":{"names":["<global>","isTraversal","sortByProcedure","getProcedure","token.data.map$argument_0"],"mappings":"AAA;ACU;CDE;AEiB;CFc;AGE;uDC0B,kED;CHW"}},"type":"js/module"}]}