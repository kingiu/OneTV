{"dependencies":[{"name":"../Utilities/Platform","data":{"asyncType":null,"locs":[{"start":{"line":13,"column":17,"index":301},"end":{"line":13,"column":49,"index":333}}],"key":"3JpW2lByst9OohsYWa25ZOinj2I="}},{"name":"./NativeVibration","data":{"asyncType":null,"locs":[{"start":{"line":14,"column":24,"index":359},"end":{"line":14,"column":52,"index":387}}],"key":"0/k314zCAmty64oU1IGPduEPMQk="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   * @jsdoc\n   */\n\n  // import NativeVibration from './NativeVibration';\n  var Platform = require(_dependencyMap[0], \"../Utilities/Platform\");\n  var NativeVibration = require(_dependencyMap[1], \"./NativeVibration\");\n\n  /**\n   * Vibration API\n   *\n   * See https://reactnative.dev/docs/vibration\n   */\n\n  var _vibrating = false;\n  var _id = 0; // _id is necessary to prevent race condition.\n  var _default_vibration_length = 400;\n  function vibrateByPattern(pattern) {\n    var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (_vibrating) {\n      return;\n    }\n    _vibrating = true;\n    if (pattern[0] === 0) {\n      NativeVibration.vibrate(_default_vibration_length);\n      // $FlowFixMe[reassign-const]\n      pattern = pattern.slice(1);\n    }\n    if (pattern.length === 0) {\n      _vibrating = false;\n      return;\n    }\n    setTimeout(function () {\n      return vibrateScheduler(++_id, pattern, repeat, 1);\n    }, pattern[0]);\n  }\n  function vibrateScheduler(id, pattern, repeat, nextIndex) {\n    if (!_vibrating || id !== _id) {\n      return;\n    }\n    NativeVibration.vibrate(_default_vibration_length);\n    if (nextIndex >= pattern.length) {\n      if (repeat) {\n        // $FlowFixMe[reassign-const]\n        nextIndex = 0;\n      } else {\n        _vibrating = false;\n        return;\n      }\n    }\n    setTimeout(function () {\n      return vibrateScheduler(id, pattern, repeat, nextIndex + 1);\n    }, pattern[nextIndex]);\n  }\n  var Vibration = {\n    /**\n     * Trigger a vibration with specified `pattern`.\n     *\n     * See https://reactnative.dev/docs/vibration#vibrate\n     */\n    vibrate: function () {\n      var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _default_vibration_length;\n      var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (Platform.isTV) {\n        return;\n      }\n      if (Platform.OS === 'android') {\n        if (typeof pattern === 'number') {\n          NativeVibration.vibrate(pattern);\n        } else if (Array.isArray(pattern)) {\n          NativeVibration.vibrateByPattern(pattern, repeat ? 0 : -1);\n        } else {\n          throw new Error('Vibration pattern should be a number or array');\n        }\n      } else {\n        if (_vibrating) {\n          return;\n        }\n        if (typeof pattern === 'number') {\n          NativeVibration.vibrate(pattern);\n        } else if (Array.isArray(pattern)) {\n          vibrateByPattern(pattern, repeat);\n        } else {\n          throw new Error('Vibration pattern should be a number or array');\n        }\n      }\n    },\n    /**\n     * Stop vibration\n     *\n     * See https://reactnative.dev/docs/vibration#cancel\n     */\n    cancel: function () {\n      if (Platform.isTV) {\n        return;\n      }\n      if (Platform.OS === 'ios') {\n        _vibrating = false;\n      } else {\n        NativeVibration.cancel();\n      }\n    }\n  };\n  module.exports = Vibration;\n});","lineCount":113,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[11,0,10,0],[13,2,12,0],[14,2,13,0],[14,6,13,6,"Platform"],[14,14,13,14],[14,17,13,17,"require"],[14,24,13,24],[14,25,13,24,"_dependencyMap"],[14,39,13,24],[14,67,13,48],[14,68,13,49],[15,2,14,0],[15,6,14,6,"NativeVibration"],[15,21,14,21],[15,24,14,24,"require"],[15,31,14,31],[15,32,14,31,"_dependencyMap"],[15,46,14,31],[15,70,14,51],[15,71,14,52],[17,2,16,0],[18,0,17,0],[19,0,18,0],[20,0,19,0],[21,0,20,0],[23,2,22,0],[23,6,22,4,"_vibrating"],[23,16,22,23],[23,19,22,26],[23,24,22,31],[24,2,23,0],[24,6,23,4,"_id"],[24,9,23,15],[24,12,23,18],[24,13,23,19],[24,14,23,20],[24,15,23,21],[25,2,24,0],[25,6,24,6,"_default_vibration_length"],[25,31,24,31],[25,34,24,34],[25,37,24,37],[26,2,26,0],[26,11,26,9,"vibrateByPattern"],[26,27,26,25,"vibrateByPattern"],[26,28,26,26,"pattern"],[26,35,26,48],[26,37,26,75],[27,4,26,75],[27,8,26,50,"repeat"],[27,14,26,65],[27,17,26,65,"arguments"],[27,26,26,65],[27,27,26,65,"length"],[27,33,26,65],[27,41,26,65,"arguments"],[27,50,26,65],[27,58,26,65,"undefined"],[27,67,26,65],[27,70,26,65,"arguments"],[27,79,26,65],[27,85,26,68],[27,90,26,73],[28,4,27,2],[28,8,27,6,"_vibrating"],[28,18,27,16],[28,20,27,18],[29,6,28,4],[30,4,29,2],[31,4,30,2,"_vibrating"],[31,14,30,12],[31,17,30,15],[31,21,30,19],[32,4,31,2],[32,8,31,6,"pattern"],[32,15,31,13],[32,16,31,14],[32,17,31,15],[32,18,31,16],[32,23,31,21],[32,24,31,22],[32,26,31,24],[33,6,32,4,"NativeVibration"],[33,21,32,19],[33,22,32,20,"vibrate"],[33,29,32,27],[33,30,32,28,"_default_vibration_length"],[33,55,32,53],[33,56,32,54],[34,6,33,4],[35,6,34,4,"pattern"],[35,13,34,11],[35,16,34,14,"pattern"],[35,23,34,21],[35,24,34,22,"slice"],[35,29,34,27],[35,30,34,28],[35,31,34,29],[35,32,34,30],[36,4,35,2],[37,4,36,2],[37,8,36,6,"pattern"],[37,15,36,13],[37,16,36,14,"length"],[37,22,36,20],[37,27,36,25],[37,28,36,26],[37,30,36,28],[38,6,37,4,"_vibrating"],[38,16,37,14],[38,19,37,17],[38,24,37,22],[39,6,38,4],[40,4,39,2],[41,4,40,2,"setTimeout"],[41,14,40,12],[41,15,40,13],[42,6,40,13],[42,13,40,19,"vibrateScheduler"],[42,29,40,35],[42,30,40,36],[42,32,40,38,"_id"],[42,35,40,41],[42,37,40,43,"pattern"],[42,44,40,50],[42,46,40,52,"repeat"],[42,52,40,58],[42,54,40,60],[42,55,40,61],[42,56,40,62],[43,4,40,62],[43,7,40,64,"pattern"],[43,14,40,71],[43,15,40,72],[43,16,40,73],[43,17,40,74],[43,18,40,75],[44,2,41,0],[45,2,43,0],[45,11,43,9,"vibrateScheduler"],[45,27,43,25,"vibrateScheduler"],[45,28,44,2,"id"],[45,30,44,12],[45,32,45,2,"pattern"],[45,39,45,24],[45,41,46,2,"repeat"],[45,47,46,17],[45,49,47,2,"nextIndex"],[45,58,47,19],[45,60,48,2],[46,4,49,2],[46,8,49,6],[46,9,49,7,"_vibrating"],[46,19,49,17],[46,23,49,21,"id"],[46,25,49,23],[46,30,49,28,"_id"],[46,33,49,31],[46,35,49,33],[47,6,50,4],[48,4,51,2],[49,4,52,2,"NativeVibration"],[49,19,52,17],[49,20,52,18,"vibrate"],[49,27,52,25],[49,28,52,26,"_default_vibration_length"],[49,53,52,51],[49,54,52,52],[50,4,53,2],[50,8,53,6,"nextIndex"],[50,17,53,15],[50,21,53,19,"pattern"],[50,28,53,26],[50,29,53,27,"length"],[50,35,53,33],[50,37,53,35],[51,6,54,4],[51,10,54,8,"repeat"],[51,16,54,14],[51,18,54,16],[52,8,55,6],[53,8,56,6,"nextIndex"],[53,17,56,15],[53,20,56,18],[53,21,56,19],[54,6,57,4],[54,7,57,5],[54,13,57,11],[55,8,58,6,"_vibrating"],[55,18,58,16],[55,21,58,19],[55,26,58,24],[56,8,59,6],[57,6,60,4],[58,4,61,2],[59,4,62,2,"setTimeout"],[59,14,62,12],[59,15,63,4],[60,6,63,4],[60,13,63,10,"vibrateScheduler"],[60,29,63,26],[60,30,63,27,"id"],[60,32,63,29],[60,34,63,31,"pattern"],[60,41,63,38],[60,43,63,40,"repeat"],[60,49,63,46],[60,51,63,48,"nextIndex"],[60,60,63,57],[60,63,63,60],[60,64,63,61],[60,65,63,62],[61,4,63,62],[61,7,64,4,"pattern"],[61,14,64,11],[61,15,64,12,"nextIndex"],[61,24,64,21],[61,25,65,2],[61,26,65,3],[62,2,66,0],[63,2,68,0],[63,6,68,6,"Vibration"],[63,15,68,15],[63,18,68,18],[64,4,69,2],[65,0,70,0],[66,0,71,0],[67,0,72,0],[68,0,73,0],[69,4,74,2,"vibrate"],[69,11,74,9],[69,13,74,11],[69,22,74,11,"vibrate"],[69,23,74,11],[69,25,77,4],[70,6,77,4],[70,10,75,4,"pattern"],[70,17,75,35],[70,20,75,35,"arguments"],[70,29,75,35],[70,30,75,35,"length"],[70,36,75,35],[70,44,75,35,"arguments"],[70,53,75,35],[70,61,75,35,"undefined"],[70,70,75,35],[70,73,75,35,"arguments"],[70,82,75,35],[70,88,75,38,"_default_vibration_length"],[70,113,75,63],[71,6,75,63],[71,10,76,4,"repeat"],[71,16,76,19],[71,19,76,19,"arguments"],[71,28,76,19],[71,29,76,19,"length"],[71,35,76,19],[71,43,76,19,"arguments"],[71,52,76,19],[71,60,76,19,"undefined"],[71,69,76,19],[71,72,76,19,"arguments"],[71,81,76,19],[71,87,76,22],[71,92,76,27],[72,6,78,4],[72,10,78,8,"Platform"],[72,18,78,16],[72,19,78,17,"isTV"],[72,23,78,21],[72,25,78,23],[73,8,79,6],[74,6,80,4],[75,6,81,4],[75,10,81,8,"Platform"],[75,18,81,16],[75,19,81,17,"OS"],[75,21,81,19],[75,26,81,24],[75,35,81,33],[75,37,81,35],[76,8,82,6],[76,12,82,10],[76,19,82,17,"pattern"],[76,26,82,24],[76,31,82,29],[76,39,82,37],[76,41,82,39],[77,10,83,8,"NativeVibration"],[77,25,83,23],[77,26,83,24,"vibrate"],[77,33,83,31],[77,34,83,32,"pattern"],[77,41,83,39],[77,42,83,40],[78,8,84,6],[78,9,84,7],[78,15,84,13],[78,19,84,17,"Array"],[78,24,84,22],[78,25,84,23,"isArray"],[78,32,84,30],[78,33,84,31,"pattern"],[78,40,84,38],[78,41,84,39],[78,43,84,41],[79,10,85,8,"NativeVibration"],[79,25,85,23],[79,26,85,24,"vibrateByPattern"],[79,42,85,40],[79,43,85,41,"pattern"],[79,50,85,48],[79,52,85,50,"repeat"],[79,58,85,56],[79,61,85,59],[79,62,85,60],[79,65,85,63],[79,66,85,64],[79,67,85,65],[79,68,85,66],[80,8,86,6],[80,9,86,7],[80,15,86,13],[81,10,87,8],[81,16,87,14],[81,20,87,18,"Error"],[81,25,87,23],[81,26,87,24],[81,73,87,71],[81,74,87,72],[82,8,88,6],[83,6,89,4],[83,7,89,5],[83,13,89,11],[84,8,90,6],[84,12,90,10,"_vibrating"],[84,22,90,20],[84,24,90,22],[85,10,91,8],[86,8,92,6],[87,8,93,6],[87,12,93,10],[87,19,93,17,"pattern"],[87,26,93,24],[87,31,93,29],[87,39,93,37],[87,41,93,39],[88,10,94,8,"NativeVibration"],[88,25,94,23],[88,26,94,24,"vibrate"],[88,33,94,31],[88,34,94,32,"pattern"],[88,41,94,39],[88,42,94,40],[89,8,95,6],[89,9,95,7],[89,15,95,13],[89,19,95,17,"Array"],[89,24,95,22],[89,25,95,23,"isArray"],[89,32,95,30],[89,33,95,31,"pattern"],[89,40,95,38],[89,41,95,39],[89,43,95,41],[90,10,96,8,"vibrateByPattern"],[90,26,96,24],[90,27,96,25,"pattern"],[90,34,96,32],[90,36,96,34,"repeat"],[90,42,96,40],[90,43,96,41],[91,8,97,6],[91,9,97,7],[91,15,97,13],[92,10,98,8],[92,16,98,14],[92,20,98,18,"Error"],[92,25,98,23],[92,26,98,24],[92,73,98,71],[92,74,98,72],[93,8,99,6],[94,6,100,4],[95,4,101,2],[95,5,101,3],[96,4,102,2],[97,0,103,0],[98,0,104,0],[99,0,105,0],[100,0,106,0],[101,4,107,2,"cancel"],[101,10,107,8],[101,12,107,10],[101,21,107,10,"cancel"],[101,22,107,10],[101,24,107,22],[102,6,108,4],[102,10,108,8,"Platform"],[102,18,108,16],[102,19,108,17,"isTV"],[102,23,108,21],[102,25,108,23],[103,8,109,6],[104,6,110,4],[105,6,111,4],[105,10,111,8,"Platform"],[105,18,111,16],[105,19,111,17,"OS"],[105,21,111,19],[105,26,111,24],[105,31,111,29],[105,33,111,31],[106,8,112,6,"_vibrating"],[106,18,112,16],[106,21,112,19],[106,26,112,24],[107,6,113,4],[107,7,113,5],[107,13,113,11],[108,8,114,6,"NativeVibration"],[108,23,114,21],[108,24,114,22,"cancel"],[108,30,114,28],[108,31,114,29],[108,32,114,30],[109,6,115,4],[110,4,116,2],[111,2,117,0],[111,3,117,1],[112,2,119,0,"module"],[112,8,119,6],[112,9,119,7,"exports"],[112,16,119,14],[112,19,119,17,"Vibration"],[112,28,119,26],[113,0,119,27]],"functionMap":{"names":["<global>","vibrateByPattern","setTimeout$argument_0","vibrateScheduler","vibrate","cancel"],"mappings":"AAA;ACyB;aCc,iDD;CDC;AGE;IDoB,0DC;CHG;WIQ;GJ2B;UKM;GLS"}},"type":"js/module"}]}