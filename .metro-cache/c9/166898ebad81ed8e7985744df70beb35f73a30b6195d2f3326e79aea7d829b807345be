{"dependencies":[{"name":"domhandler","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":19,"index":262},"end":{"line":7,"column":40,"index":283}}],"key":"JhlTxQPoKjLr/Si5MjJ4YoDUcd0="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DocumentPosition = undefined;\n  exports.removeSubsets = removeSubsets;\n  exports.compareDocumentPosition = compareDocumentPosition;\n  exports.uniqueSort = uniqueSort;\n  var domhandler_1 = require(_dependencyMap[0]);\n  /**\n   * Given an array of nodes, remove any member that is contained by another\n   * member.\n   *\n   * @category Helpers\n   * @param nodes Nodes to filter.\n   * @returns Remaining nodes that aren't contained by other nodes.\n   */\n  function removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n      var node = nodes[idx];\n      /*\n       * Remove the node if it is not unique.\n       * We are going through the array from the end, so we only\n       * have to check nodes that preceed the node under consideration in the array.\n       */\n      if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n        nodes.splice(idx, 1);\n        continue;\n      }\n      for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n        if (nodes.includes(ancestor)) {\n          nodes.splice(idx, 1);\n          break;\n        }\n      }\n    }\n    return nodes;\n  }\n  /**\n   * @category Helpers\n   * @see {@link http://dom.spec.whatwg.org/#dom-node-comparedocumentposition}\n   */\n  var DocumentPosition;\n  (function (DocumentPosition) {\n    DocumentPosition[DocumentPosition[\"DISCONNECTED\"] = 1] = \"DISCONNECTED\";\n    DocumentPosition[DocumentPosition[\"PRECEDING\"] = 2] = \"PRECEDING\";\n    DocumentPosition[DocumentPosition[\"FOLLOWING\"] = 4] = \"FOLLOWING\";\n    DocumentPosition[DocumentPosition[\"CONTAINS\"] = 8] = \"CONTAINS\";\n    DocumentPosition[DocumentPosition[\"CONTAINED_BY\"] = 16] = \"CONTAINED_BY\";\n  })(DocumentPosition || (exports.DocumentPosition = DocumentPosition = {}));\n  /**\n   * Compare the position of one node against another node in any other document,\n   * returning a bitmask with the values from {@link DocumentPosition}.\n   *\n   * Document order:\n   * > There is an ordering, document order, defined on all the nodes in the\n   * > document corresponding to the order in which the first character of the\n   * > XML representation of each node occurs in the XML representation of the\n   * > document after expansion of general entities. Thus, the document element\n   * > node will be the first node. Element nodes occur before their children.\n   * > Thus, document order orders element nodes in order of the occurrence of\n   * > their start-tag in the XML (after expansion of entities). The attribute\n   * > nodes of an element occur after the element and before its children. The\n   * > relative order of attribute nodes is implementation-dependent.\n   *\n   * Source:\n   * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n   *\n   * @category Helpers\n   * @param nodeA The first node to use in the comparison\n   * @param nodeB The second node to use in the comparison\n   * @returns A bitmask describing the input nodes' relative position.\n   *\n   * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n   * a description of these values.\n   */\n  function compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n      return 0;\n    }\n    var current = (0, domhandler_1.hasChildren)(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n      aParents.unshift(current);\n      current = current.parent;\n    }\n    current = (0, domhandler_1.hasChildren)(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n      bParents.unshift(current);\n      current = current.parent;\n    }\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n      idx++;\n    }\n    if (idx === 0) {\n      return DocumentPosition.DISCONNECTED;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n      if (sharedParent === nodeB) {\n        return DocumentPosition.FOLLOWING | DocumentPosition.CONTAINED_BY;\n      }\n      return DocumentPosition.FOLLOWING;\n    }\n    if (sharedParent === nodeA) {\n      return DocumentPosition.PRECEDING | DocumentPosition.CONTAINS;\n    }\n    return DocumentPosition.PRECEDING;\n  }\n  /**\n   * Sort an array of nodes based on their relative position in the document,\n   * removing any duplicate nodes. If the array contains nodes that do not belong\n   * to the same document, sort order is unspecified.\n   *\n   * @category Helpers\n   * @param nodes Array of DOM nodes.\n   * @returns Collection of unique nodes, sorted in document order.\n   */\n  function uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) {\n      return !arr.includes(node, i + 1);\n    });\n    nodes.sort(function (a, b) {\n      var relative = compareDocumentPosition(a, b);\n      if (relative & DocumentPosition.PRECEDING) {\n        return -1;\n      } else if (relative & DocumentPosition.FOLLOWING) {\n        return 1;\n      }\n      return 0;\n    });\n    return nodes;\n  }\n});","lineCount":147,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"DocumentPosition"],[7,26,3,24],[7,29,3,24,"undefined"],[7,38,3,33],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"removeSubsets"],[8,23,4,21],[8,26,4,24,"removeSubsets"],[8,39,4,37],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"compareDocumentPosition"],[9,33,5,31],[9,36,5,34,"compareDocumentPosition"],[9,59,5,57],[10,2,6,0,"exports"],[10,9,6,7],[10,10,6,8,"uniqueSort"],[10,20,6,18],[10,23,6,21,"uniqueSort"],[10,33,6,31],[11,2,7,0],[11,6,7,4,"domhandler_1"],[11,18,7,16],[11,21,7,19,"require"],[11,28,7,26],[11,29,7,26,"_dependencyMap"],[11,43,7,26],[11,46,7,39],[11,47,7,40],[12,2,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,2,16,0],[20,11,16,9,"removeSubsets"],[20,24,16,22,"removeSubsets"],[20,25,16,23,"nodes"],[20,30,16,28],[20,32,16,30],[21,4,17,4],[21,8,17,8,"idx"],[21,11,17,11],[21,14,17,14,"nodes"],[21,19,17,19],[21,20,17,20,"length"],[21,26,17,26],[22,4,18,4],[23,0,19,0],[24,0,20,0],[25,0,21,0],[26,4,22,4],[26,11,22,11],[26,13,22,13,"idx"],[26,16,22,16],[26,20,22,20],[26,21,22,21],[26,23,22,23],[27,6,23,8],[27,10,23,12,"node"],[27,14,23,16],[27,17,23,19,"nodes"],[27,22,23,24],[27,23,23,25,"idx"],[27,26,23,28],[27,27,23,29],[28,6,24,8],[29,0,25,0],[30,0,26,0],[31,0,27,0],[32,0,28,0],[33,6,29,8],[33,10,29,12,"idx"],[33,13,29,15],[33,16,29,18],[33,17,29,19],[33,21,29,23,"nodes"],[33,26,29,28],[33,27,29,29,"lastIndexOf"],[33,38,29,40],[33,39,29,41,"node"],[33,43,29,45],[33,45,29,47,"idx"],[33,48,29,50],[33,51,29,53],[33,52,29,54],[33,53,29,55],[33,57,29,59],[33,58,29,60],[33,60,29,62],[34,8,30,12,"nodes"],[34,13,30,17],[34,14,30,18,"splice"],[34,20,30,24],[34,21,30,25,"idx"],[34,24,30,28],[34,26,30,30],[34,27,30,31],[34,28,30,32],[35,8,31,12],[36,6,32,8],[37,6,33,8],[37,11,33,13],[37,15,33,17,"ancestor"],[37,23,33,25],[37,26,33,28,"node"],[37,30,33,32],[37,31,33,33,"parent"],[37,37,33,39],[37,39,33,41,"ancestor"],[37,47,33,49],[37,49,33,51,"ancestor"],[37,57,33,59],[37,60,33,62,"ancestor"],[37,68,33,70],[37,69,33,71,"parent"],[37,75,33,77],[37,77,33,79],[38,8,34,12],[38,12,34,16,"nodes"],[38,17,34,21],[38,18,34,22,"includes"],[38,26,34,30],[38,27,34,31,"ancestor"],[38,35,34,39],[38,36,34,40],[38,38,34,42],[39,10,35,16,"nodes"],[39,15,35,21],[39,16,35,22,"splice"],[39,22,35,28],[39,23,35,29,"idx"],[39,26,35,32],[39,28,35,34],[39,29,35,35],[39,30,35,36],[40,10,36,16],[41,8,37,12],[42,6,38,8],[43,4,39,4],[44,4,40,4],[44,11,40,11,"nodes"],[44,16,40,16],[45,2,41,0],[46,2,42,0],[47,0,43,0],[48,0,44,0],[49,0,45,0],[50,2,46,0],[50,6,46,4,"DocumentPosition"],[50,22,46,20],[51,2,47,0],[51,3,47,1],[51,13,47,11,"DocumentPosition"],[51,29,47,27],[51,31,47,29],[52,4,48,4,"DocumentPosition"],[52,20,48,20],[52,21,48,21,"DocumentPosition"],[52,37,48,37],[52,38,48,38],[52,52,48,52],[52,53,48,53],[52,56,48,56],[52,57,48,57],[52,58,48,58],[52,61,48,61],[52,75,48,75],[53,4,49,4,"DocumentPosition"],[53,20,49,20],[53,21,49,21,"DocumentPosition"],[53,37,49,37],[53,38,49,38],[53,49,49,49],[53,50,49,50],[53,53,49,53],[53,54,49,54],[53,55,49,55],[53,58,49,58],[53,69,49,69],[54,4,50,4,"DocumentPosition"],[54,20,50,20],[54,21,50,21,"DocumentPosition"],[54,37,50,37],[54,38,50,38],[54,49,50,49],[54,50,50,50],[54,53,50,53],[54,54,50,54],[54,55,50,55],[54,58,50,58],[54,69,50,69],[55,4,51,4,"DocumentPosition"],[55,20,51,20],[55,21,51,21,"DocumentPosition"],[55,37,51,37],[55,38,51,38],[55,48,51,48],[55,49,51,49],[55,52,51,52],[55,53,51,53],[55,54,51,54],[55,57,51,57],[55,67,51,67],[56,4,52,4,"DocumentPosition"],[56,20,52,20],[56,21,52,21,"DocumentPosition"],[56,37,52,37],[56,38,52,38],[56,52,52,52],[56,53,52,53],[56,56,52,56],[56,58,52,58],[56,59,52,59],[56,62,52,62],[56,76,52,76],[57,2,53,0],[57,3,53,1],[57,5,53,3,"DocumentPosition"],[57,21,53,19],[57,26,53,24,"exports"],[57,33,53,31],[57,34,53,32,"DocumentPosition"],[57,50,53,48],[57,53,53,51,"DocumentPosition"],[57,69,53,67],[57,72,53,70],[57,73,53,71],[57,74,53,72],[57,75,53,73],[57,76,53,74],[58,2,54,0],[59,0,55,0],[60,0,56,0],[61,0,57,0],[62,0,58,0],[63,0,59,0],[64,0,60,0],[65,0,61,0],[66,0,62,0],[67,0,63,0],[68,0,64,0],[69,0,65,0],[70,0,66,0],[71,0,67,0],[72,0,68,0],[73,0,69,0],[74,0,70,0],[75,0,71,0],[76,0,72,0],[77,0,73,0],[78,0,74,0],[79,0,75,0],[80,0,76,0],[81,0,77,0],[82,0,78,0],[83,0,79,0],[84,2,80,0],[84,11,80,9,"compareDocumentPosition"],[84,34,80,32,"compareDocumentPosition"],[84,35,80,33,"nodeA"],[84,40,80,38],[84,42,80,40,"nodeB"],[84,47,80,45],[84,49,80,47],[85,4,81,4],[85,8,81,8,"aParents"],[85,16,81,16],[85,19,81,19],[85,21,81,21],[86,4,82,4],[86,8,82,8,"bParents"],[86,16,82,16],[86,19,82,19],[86,21,82,21],[87,4,83,4],[87,8,83,8,"nodeA"],[87,13,83,13],[87,18,83,18,"nodeB"],[87,23,83,23],[87,25,83,25],[88,6,84,8],[88,13,84,15],[88,14,84,16],[89,4,85,4],[90,4,86,4],[90,8,86,8,"current"],[90,15,86,15],[90,18,86,18],[90,19,86,19],[90,20,86,20],[90,22,86,22,"domhandler_1"],[90,34,86,34],[90,35,86,35,"hasChildren"],[90,46,86,46],[90,48,86,48,"nodeA"],[90,53,86,53],[90,54,86,54],[90,57,86,57,"nodeA"],[90,62,86,62],[90,65,86,65,"nodeA"],[90,70,86,70],[90,71,86,71,"parent"],[90,77,86,77],[91,4,87,4],[91,11,87,11,"current"],[91,18,87,18],[91,20,87,20],[92,6,88,8,"aParents"],[92,14,88,16],[92,15,88,17,"unshift"],[92,22,88,24],[92,23,88,25,"current"],[92,30,88,32],[92,31,88,33],[93,6,89,8,"current"],[93,13,89,15],[93,16,89,18,"current"],[93,23,89,25],[93,24,89,26,"parent"],[93,30,89,32],[94,4,90,4],[95,4,91,4,"current"],[95,11,91,11],[95,14,91,14],[95,15,91,15],[95,16,91,16],[95,18,91,18,"domhandler_1"],[95,30,91,30],[95,31,91,31,"hasChildren"],[95,42,91,42],[95,44,91,44,"nodeB"],[95,49,91,49],[95,50,91,50],[95,53,91,53,"nodeB"],[95,58,91,58],[95,61,91,61,"nodeB"],[95,66,91,66],[95,67,91,67,"parent"],[95,73,91,73],[96,4,92,4],[96,11,92,11,"current"],[96,18,92,18],[96,20,92,20],[97,6,93,8,"bParents"],[97,14,93,16],[97,15,93,17,"unshift"],[97,22,93,24],[97,23,93,25,"current"],[97,30,93,32],[97,31,93,33],[98,6,94,8,"current"],[98,13,94,15],[98,16,94,18,"current"],[98,23,94,25],[98,24,94,26,"parent"],[98,30,94,32],[99,4,95,4],[100,4,96,4],[100,8,96,8,"maxIdx"],[100,14,96,14],[100,17,96,17,"Math"],[100,21,96,21],[100,22,96,22,"min"],[100,25,96,25],[100,26,96,26,"aParents"],[100,34,96,34],[100,35,96,35,"length"],[100,41,96,41],[100,43,96,43,"bParents"],[100,51,96,51],[100,52,96,52,"length"],[100,58,96,58],[100,59,96,59],[101,4,97,4],[101,8,97,8,"idx"],[101,11,97,11],[101,14,97,14],[101,15,97,15],[102,4,98,4],[102,11,98,11,"idx"],[102,14,98,14],[102,17,98,17,"maxIdx"],[102,23,98,23],[102,27,98,27,"aParents"],[102,35,98,35],[102,36,98,36,"idx"],[102,39,98,39],[102,40,98,40],[102,45,98,45,"bParents"],[102,53,98,53],[102,54,98,54,"idx"],[102,57,98,57],[102,58,98,58],[102,60,98,60],[103,6,99,8,"idx"],[103,9,99,11],[103,11,99,13],[104,4,100,4],[105,4,101,4],[105,8,101,8,"idx"],[105,11,101,11],[105,16,101,16],[105,17,101,17],[105,19,101,19],[106,6,102,8],[106,13,102,15,"DocumentPosition"],[106,29,102,31],[106,30,102,32,"DISCONNECTED"],[106,42,102,44],[107,4,103,4],[108,4,104,4],[108,8,104,8,"sharedParent"],[108,20,104,20],[108,23,104,23,"aParents"],[108,31,104,31],[108,32,104,32,"idx"],[108,35,104,35],[108,38,104,38],[108,39,104,39],[108,40,104,40],[109,4,105,4],[109,8,105,8,"siblings"],[109,16,105,16],[109,19,105,19,"sharedParent"],[109,31,105,31],[109,32,105,32,"children"],[109,40,105,40],[110,4,106,4],[110,8,106,8,"aSibling"],[110,16,106,16],[110,19,106,19,"aParents"],[110,27,106,27],[110,28,106,28,"idx"],[110,31,106,31],[110,32,106,32],[111,4,107,4],[111,8,107,8,"bSibling"],[111,16,107,16],[111,19,107,19,"bParents"],[111,27,107,27],[111,28,107,28,"idx"],[111,31,107,31],[111,32,107,32],[112,4,108,4],[112,8,108,8,"siblings"],[112,16,108,16],[112,17,108,17,"indexOf"],[112,24,108,24],[112,25,108,25,"aSibling"],[112,33,108,33],[112,34,108,34],[112,37,108,37,"siblings"],[112,45,108,45],[112,46,108,46,"indexOf"],[112,53,108,53],[112,54,108,54,"bSibling"],[112,62,108,62],[112,63,108,63],[112,65,108,65],[113,6,109,8],[113,10,109,12,"sharedParent"],[113,22,109,24],[113,27,109,29,"nodeB"],[113,32,109,34],[113,34,109,36],[114,8,110,12],[114,15,110,19,"DocumentPosition"],[114,31,110,35],[114,32,110,36,"FOLLOWING"],[114,41,110,45],[114,44,110,48,"DocumentPosition"],[114,60,110,64],[114,61,110,65,"CONTAINED_BY"],[114,73,110,77],[115,6,111,8],[116,6,112,8],[116,13,112,15,"DocumentPosition"],[116,29,112,31],[116,30,112,32,"FOLLOWING"],[116,39,112,41],[117,4,113,4],[118,4,114,4],[118,8,114,8,"sharedParent"],[118,20,114,20],[118,25,114,25,"nodeA"],[118,30,114,30],[118,32,114,32],[119,6,115,8],[119,13,115,15,"DocumentPosition"],[119,29,115,31],[119,30,115,32,"PRECEDING"],[119,39,115,41],[119,42,115,44,"DocumentPosition"],[119,58,115,60],[119,59,115,61,"CONTAINS"],[119,67,115,69],[120,4,116,4],[121,4,117,4],[121,11,117,11,"DocumentPosition"],[121,27,117,27],[121,28,117,28,"PRECEDING"],[121,37,117,37],[122,2,118,0],[123,2,119,0],[124,0,120,0],[125,0,121,0],[126,0,122,0],[127,0,123,0],[128,0,124,0],[129,0,125,0],[130,0,126,0],[131,0,127,0],[132,2,128,0],[132,11,128,9,"uniqueSort"],[132,21,128,19,"uniqueSort"],[132,22,128,20,"nodes"],[132,27,128,25],[132,29,128,27],[133,4,129,4,"nodes"],[133,9,129,9],[133,12,129,12,"nodes"],[133,17,129,17],[133,18,129,18,"filter"],[133,24,129,24],[133,25,129,25],[133,35,129,35,"node"],[133,39,129,39],[133,41,129,41,"i"],[133,42,129,42],[133,44,129,44,"arr"],[133,47,129,47],[133,49,129,49],[134,6,129,51],[134,13,129,58],[134,14,129,59,"arr"],[134,17,129,62],[134,18,129,63,"includes"],[134,26,129,71],[134,27,129,72,"node"],[134,31,129,76],[134,33,129,78,"i"],[134,34,129,79],[134,37,129,82],[134,38,129,83],[134,39,129,84],[135,4,129,86],[135,5,129,87],[135,6,129,88],[136,4,130,4,"nodes"],[136,9,130,9],[136,10,130,10,"sort"],[136,14,130,14],[136,15,130,15],[136,25,130,25,"a"],[136,26,130,26],[136,28,130,28,"b"],[136,29,130,29],[136,31,130,31],[137,6,131,8],[137,10,131,12,"relative"],[137,18,131,20],[137,21,131,23,"compareDocumentPosition"],[137,44,131,46],[137,45,131,47,"a"],[137,46,131,48],[137,48,131,50,"b"],[137,49,131,51],[137,50,131,52],[138,6,132,8],[138,10,132,12,"relative"],[138,18,132,20],[138,21,132,23,"DocumentPosition"],[138,37,132,39],[138,38,132,40,"PRECEDING"],[138,47,132,49],[138,49,132,51],[139,8,133,12],[140,6,134,8],[140,7,134,9],[140,13,135,13],[140,17,135,17,"relative"],[140,25,135,25],[140,28,135,28,"DocumentPosition"],[140,44,135,44],[140,45,135,45,"FOLLOWING"],[140,54,135,54],[140,56,135,56],[141,8,136,12],[141,15,136,19],[141,16,136,20],[142,6,137,8],[143,6,138,8],[143,13,138,15],[143,14,138,16],[144,4,139,4],[144,5,139,5],[144,6,139,6],[145,4,140,4],[145,11,140,11,"nodes"],[145,16,140,16],[146,2,141,0],[147,0,141,1]],"functionMap":{"names":["<global>","removeSubsets","<anonymous>","compareDocumentPosition","uniqueSort","nodes.filter$argument_0","nodes.sort$argument_0"],"mappings":"AAA;ACe;CDyB;CEM;CFM;AG2B;CHsC;AIU;yBCC,8DD;eEC;KFS;CJE"}},"type":"js/module"}]}