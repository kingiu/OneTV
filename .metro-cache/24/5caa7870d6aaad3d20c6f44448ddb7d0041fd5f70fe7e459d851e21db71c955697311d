{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":63,"column":42,"index":2243}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationContext","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":52,"index":84}}],"key":"zgSDczcMDbcgKjO1DngU1GAHQtI="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useFocusEvents;\n  var React = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _NavigationContext = _interopRequireDefault(require(_dependencyMap[2], \"./NavigationContext\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    let {\n      state,\n      emitter\n    } = _ref;\n    const navigation = React.useContext(_NavigationContext.default);\n    const lastFocusedKeyRef = React.useRef();\n    const currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(() => navigation === null || navigation === void 0 ? void 0 : navigation.addListener('focus', () => {\n      lastFocusedKeyRef.current = currentFocusedKey;\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => navigation === null || navigation === void 0 ? void 0 : navigation.addListener('blur', () => {\n      lastFocusedKeyRef.current = undefined;\n      emitter.emit({\n        type: 'blur',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => {\n      const lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":70,"map":[[7,2,1,0],[7,6,1,0,"React"],[7,11,1,0],[7,14,1,0,"_interopRequireWildcard"],[7,37,1,0],[7,38,1,0,"require"],[7,45,1,0],[7,46,1,0,"_dependencyMap"],[7,60,1,0],[8,2,2,0],[8,6,2,0,"_NavigationContext"],[8,24,2,0],[8,27,2,0,"_interopRequireDefault"],[8,49,2,0],[8,50,2,0,"require"],[8,57,2,0],[8,58,2,0,"_dependencyMap"],[8,72,2,0],[9,2,2,52],[9,11,2,52,"_interopRequireWildcard"],[9,35,2,52,"e"],[9,36,2,52],[9,38,2,52,"t"],[9,39,2,52],[9,68,2,52,"WeakMap"],[9,75,2,52],[9,81,2,52,"r"],[9,82,2,52],[9,89,2,52,"WeakMap"],[9,96,2,52],[9,100,2,52,"n"],[9,101,2,52],[9,108,2,52,"WeakMap"],[9,115,2,52],[9,127,2,52,"_interopRequireWildcard"],[9,150,2,52],[9,162,2,52,"_interopRequireWildcard"],[9,163,2,52,"e"],[9,164,2,52],[9,166,2,52,"t"],[9,167,2,52],[9,176,2,52,"t"],[9,177,2,52],[9,181,2,52,"e"],[9,182,2,52],[9,186,2,52,"e"],[9,187,2,52],[9,188,2,52,"__esModule"],[9,198,2,52],[9,207,2,52,"e"],[9,208,2,52],[9,214,2,52,"o"],[9,215,2,52],[9,217,2,52,"i"],[9,218,2,52],[9,220,2,52,"f"],[9,221,2,52],[9,226,2,52,"__proto__"],[9,235,2,52],[9,243,2,52,"default"],[9,250,2,52],[9,252,2,52,"e"],[9,253,2,52],[9,270,2,52,"e"],[9,271,2,52],[9,294,2,52,"e"],[9,295,2,52],[9,320,2,52,"e"],[9,321,2,52],[9,330,2,52,"f"],[9,331,2,52],[9,337,2,52,"o"],[9,338,2,52],[9,341,2,52,"t"],[9,342,2,52],[9,345,2,52,"n"],[9,346,2,52],[9,349,2,52,"r"],[9,350,2,52],[9,358,2,52,"o"],[9,359,2,52],[9,360,2,52,"has"],[9,363,2,52],[9,364,2,52,"e"],[9,365,2,52],[9,375,2,52,"o"],[9,376,2,52],[9,377,2,52,"get"],[9,380,2,52],[9,381,2,52,"e"],[9,382,2,52],[9,385,2,52,"o"],[9,386,2,52],[9,387,2,52,"set"],[9,390,2,52],[9,391,2,52,"e"],[9,392,2,52],[9,394,2,52,"f"],[9,395,2,52],[9,411,2,52,"t"],[9,412,2,52],[9,416,2,52,"e"],[9,417,2,52],[9,433,2,52,"t"],[9,434,2,52],[9,441,2,52,"hasOwnProperty"],[9,455,2,52],[9,456,2,52,"call"],[9,460,2,52],[9,461,2,52,"e"],[9,462,2,52],[9,464,2,52,"t"],[9,465,2,52],[9,472,2,52,"i"],[9,473,2,52],[9,477,2,52,"o"],[9,478,2,52],[9,481,2,52,"Object"],[9,487,2,52],[9,488,2,52,"defineProperty"],[9,502,2,52],[9,507,2,52,"Object"],[9,513,2,52],[9,514,2,52,"getOwnPropertyDescriptor"],[9,538,2,52],[9,539,2,52,"e"],[9,540,2,52],[9,542,2,52,"t"],[9,543,2,52],[9,550,2,52,"i"],[9,551,2,52],[9,552,2,52,"get"],[9,555,2,52],[9,559,2,52,"i"],[9,560,2,52],[9,561,2,52,"set"],[9,564,2,52],[9,568,2,52,"o"],[9,569,2,52],[9,570,2,52,"f"],[9,571,2,52],[9,573,2,52,"t"],[9,574,2,52],[9,576,2,52,"i"],[9,577,2,52],[9,581,2,52,"f"],[9,582,2,52],[9,583,2,52,"t"],[9,584,2,52],[9,588,2,52,"e"],[9,589,2,52],[9,590,2,52,"t"],[9,591,2,52],[9,602,2,52,"f"],[9,603,2,52],[9,608,2,52,"e"],[9,609,2,52],[9,611,2,52,"t"],[9,612,2,52],[10,2,3,0],[11,0,4,0],[12,0,5,0],[13,2,6,15],[13,11,6,24,"useFocusEvents"],[13,25,6,38,"useFocusEvents"],[13,26,6,39,"_ref"],[13,30,6,43],[13,32,6,45],[14,4,7,2],[14,8,7,6],[15,6,8,4,"state"],[15,11,8,9],[16,6,9,4,"emitter"],[17,4,10,2],[17,5,10,3],[17,8,10,6,"_ref"],[17,12,10,10],[18,4,11,2],[18,10,11,8,"navigation"],[18,20,11,18],[18,23,11,21,"React"],[18,28,11,26],[18,29,11,27,"useContext"],[18,39,11,37],[18,40,11,38,"NavigationContext"],[18,66,11,55],[18,67,11,56],[19,4,12,2],[19,10,12,8,"lastFocusedKeyRef"],[19,27,12,25],[19,30,12,28,"React"],[19,35,12,33],[19,36,12,34,"useRef"],[19,42,12,40],[19,43,12,41],[19,44,12,42],[20,4,13,2],[20,10,13,8,"currentFocusedKey"],[20,27,13,25],[20,30,13,28,"state"],[20,35,13,33],[20,36,13,34,"routes"],[20,42,13,40],[20,43,13,41,"state"],[20,48,13,46],[20,49,13,47,"index"],[20,54,13,52],[20,55,13,53],[20,56,13,54,"key"],[20,59,13,57],[22,4,15,2],[23,4,16,2],[24,4,17,2,"React"],[24,9,17,7],[24,10,17,8,"useEffect"],[24,19,17,17],[24,20,17,18],[24,26,17,24,"navigation"],[24,36,17,34],[24,41,17,39],[24,45,17,43],[24,49,17,47,"navigation"],[24,59,17,57],[24,64,17,62],[24,69,17,67],[24,70,17,68],[24,73,17,71],[24,78,17,76],[24,79,17,77],[24,82,17,80,"navigation"],[24,92,17,90],[24,93,17,91,"addListener"],[24,104,17,102],[24,105,17,103],[24,112,17,110],[24,114,17,112],[24,120,17,118],[25,6,18,4,"lastFocusedKeyRef"],[25,23,18,21],[25,24,18,22,"current"],[25,31,18,29],[25,34,18,32,"currentFocusedKey"],[25,51,18,49],[26,6,19,4,"emitter"],[26,13,19,11],[26,14,19,12,"emit"],[26,18,19,16],[26,19,19,17],[27,8,20,6,"type"],[27,12,20,10],[27,14,20,12],[27,21,20,19],[28,8,21,6,"target"],[28,14,21,12],[28,16,21,14,"currentFocusedKey"],[29,6,22,4],[29,7,22,5],[29,8,22,6],[30,4,23,2],[30,5,23,3],[30,6,23,4],[30,8,23,6],[30,9,23,7,"currentFocusedKey"],[30,26,23,24],[30,28,23,26,"emitter"],[30,35,23,33],[30,37,23,35,"navigation"],[30,47,23,45],[30,48,23,46],[30,49,23,47],[31,4,24,2,"React"],[31,9,24,7],[31,10,24,8,"useEffect"],[31,19,24,17],[31,20,24,18],[31,26,24,24,"navigation"],[31,36,24,34],[31,41,24,39],[31,45,24,43],[31,49,24,47,"navigation"],[31,59,24,57],[31,64,24,62],[31,69,24,67],[31,70,24,68],[31,73,24,71],[31,78,24,76],[31,79,24,77],[31,82,24,80,"navigation"],[31,92,24,90],[31,93,24,91,"addListener"],[31,104,24,102],[31,105,24,103],[31,111,24,109],[31,113,24,111],[31,119,24,117],[32,6,25,4,"lastFocusedKeyRef"],[32,23,25,21],[32,24,25,22,"current"],[32,31,25,29],[32,34,25,32,"undefined"],[32,43,25,41],[33,6,26,4,"emitter"],[33,13,26,11],[33,14,26,12,"emit"],[33,18,26,16],[33,19,26,17],[34,8,27,6,"type"],[34,12,27,10],[34,14,27,12],[34,20,27,18],[35,8,28,6,"target"],[35,14,28,12],[35,16,28,14,"currentFocusedKey"],[36,6,29,4],[36,7,29,5],[36,8,29,6],[37,4,30,2],[37,5,30,3],[37,6,30,4],[37,8,30,6],[37,9,30,7,"currentFocusedKey"],[37,26,30,24],[37,28,30,26,"emitter"],[37,35,30,33],[37,37,30,35,"navigation"],[37,47,30,45],[37,48,30,46],[37,49,30,47],[38,4,31,2,"React"],[38,9,31,7],[38,10,31,8,"useEffect"],[38,19,31,17],[38,20,31,18],[38,26,31,24],[39,6,32,4],[39,12,32,10,"lastFocusedKey"],[39,26,32,24],[39,29,32,27,"lastFocusedKeyRef"],[39,46,32,44],[39,47,32,45,"current"],[39,54,32,52],[40,6,33,4,"lastFocusedKeyRef"],[40,23,33,21],[40,24,33,22,"current"],[40,31,33,29],[40,34,33,32,"currentFocusedKey"],[40,51,33,49],[42,6,35,4],[43,6,36,4],[44,6,37,4],[44,10,37,8,"lastFocusedKey"],[44,24,37,22],[44,29,37,27,"undefined"],[44,38,37,36],[44,42,37,40],[44,43,37,41,"navigation"],[44,53,37,51],[44,55,37,53],[45,8,38,6,"emitter"],[45,15,38,13],[45,16,38,14,"emit"],[45,20,38,18],[45,21,38,19],[46,10,39,8,"type"],[46,14,39,12],[46,16,39,14],[46,23,39,21],[47,10,40,8,"target"],[47,16,40,14],[47,18,40,16,"currentFocusedKey"],[48,8,41,6],[48,9,41,7],[48,10,41,8],[49,6,42,4],[51,6,44,4],[52,6,45,4],[53,6,46,4],[53,10,46,8,"lastFocusedKey"],[53,24,46,22],[53,29,46,27,"currentFocusedKey"],[53,46,46,44],[53,50,46,48],[53,52,46,50,"navigation"],[53,62,46,60],[53,65,46,63,"navigation"],[53,75,46,73],[53,76,46,74,"isFocused"],[53,85,46,83],[53,86,46,84],[53,87,46,85],[53,90,46,88],[53,94,46,92],[53,95,46,93],[53,97,46,95],[54,8,47,6],[55,6,48,4],[56,6,49,4],[56,10,49,8,"lastFocusedKey"],[56,24,49,22],[56,29,49,27,"undefined"],[56,38,49,36],[56,40,49,38],[57,8,50,6],[58,8,51,6],[59,6,52,4],[60,6,53,4,"emitter"],[60,13,53,11],[60,14,53,12,"emit"],[60,18,53,16],[60,19,53,17],[61,8,54,6,"type"],[61,12,54,10],[61,14,54,12],[61,20,54,18],[62,8,55,6,"target"],[62,14,55,12],[62,16,55,14,"lastFocusedKey"],[63,6,56,4],[63,7,56,5],[63,8,56,6],[64,6,57,4,"emitter"],[64,13,57,11],[64,14,57,12,"emit"],[64,18,57,16],[64,19,57,17],[65,8,58,6,"type"],[65,12,58,10],[65,14,58,12],[65,21,58,19],[66,8,59,6,"target"],[66,14,59,12],[66,16,59,14,"currentFocusedKey"],[67,6,60,4],[67,7,60,5],[67,8,60,6],[68,4,61,2],[68,5,61,3],[68,7,61,5],[68,8,61,6,"currentFocusedKey"],[68,25,61,23],[68,27,61,25,"emitter"],[68,34,61,32],[68,36,61,34,"navigation"],[68,46,61,44],[68,47,61,45],[68,48,61,46],[69,2,62,0],[70,0,62,1]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCK;kBCW,8FC;GDM,CD;kBCC,6FC;GDM,CD;kBCC;GD8B;CDC"}},"type":"js/module"}]}