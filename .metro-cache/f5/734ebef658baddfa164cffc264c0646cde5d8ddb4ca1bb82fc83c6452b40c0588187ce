{"dependencies":[{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEventEmitter;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  /**\n   * Hook to manage the event system used by the navigator to notify screens of various events.\n   */\n  function useEventEmitter(listen) {\n    var listenRef = React.useRef(listen);\n    React.useEffect(function () {\n      listenRef.current = listen;\n    });\n    var listeners = React.useRef(Object.create(null));\n    var create = React.useCallback(function (target) {\n      var removeListener = function (type, callback) {\n        var callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n        if (!callbacks) {\n          return;\n        }\n        var index = callbacks.indexOf(callback);\n        if (index > -1) {\n          callbacks.splice(index, 1);\n        }\n      };\n      var addListener = function (type, callback) {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        var removed = false;\n        return function () {\n          // Prevent removing other listeners when unsubscribing same listener multiple times\n          if (!removed) {\n            removed = true;\n            removeListener(type, callback);\n          }\n        };\n      };\n      return {\n        addListener,\n        removeListener\n      };\n    }, []);\n    var emit = React.useCallback(function (_ref) {\n      var type = _ref.type,\n        data = _ref.data,\n        target = _ref.target,\n        canPreventDefault = _ref.canPreventDefault;\n      var items = listeners.current[type] || {};\n\n      // Copy the current list of callbacks in case they are mutated during execution\n      var callbacks = target !== undefined ? items[target]?.slice() : [].concat(...Object.keys(items).map(function (t) {\n        return items[t];\n      })).filter(function (cb, i, self) {\n        return self.lastIndexOf(cb) === i;\n      });\n      var event = {\n        get type() {\n          return type;\n        }\n      };\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get() {\n            return target;\n          }\n        });\n      }\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get() {\n            return data;\n          }\n        });\n      }\n      if (canPreventDefault) {\n        var defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n      listenRef.current?.(event);\n      callbacks?.forEach(function (cb) {\n        return cb(event);\n      });\n      return event;\n    }, []);\n    return React.useMemo(function () {\n      return {\n        create,\n        emit\n      };\n    }, [create, emit]);\n  }\n});","lineCount":110,"map":[[6,2,1,0],[6,6,1,0,"React"],[6,11,1,0],[6,14,1,0,"_interopRequireWildcard"],[6,37,1,0],[6,38,1,0,"require"],[6,45,1,0],[6,46,1,0,"_dependencyMap"],[6,60,1,0],[7,2,1,31],[7,11,1,31,"_interopRequireWildcard"],[7,35,1,31,"e"],[7,36,1,31],[7,38,1,31,"t"],[7,39,1,31],[7,68,1,31,"WeakMap"],[7,75,1,31],[7,81,1,31,"r"],[7,82,1,31],[7,89,1,31,"WeakMap"],[7,96,1,31],[7,100,1,31,"n"],[7,101,1,31],[7,108,1,31,"WeakMap"],[7,115,1,31],[7,127,1,31,"_interopRequireWildcard"],[7,150,1,31],[7,162,1,31,"_interopRequireWildcard"],[7,163,1,31,"e"],[7,164,1,31],[7,166,1,31,"t"],[7,167,1,31],[7,176,1,31,"t"],[7,177,1,31],[7,181,1,31,"e"],[7,182,1,31],[7,186,1,31,"e"],[7,187,1,31],[7,188,1,31,"__esModule"],[7,198,1,31],[7,207,1,31,"e"],[7,208,1,31],[7,214,1,31,"o"],[7,215,1,31],[7,217,1,31,"i"],[7,218,1,31],[7,220,1,31,"f"],[7,221,1,31],[7,226,1,31,"__proto__"],[7,235,1,31],[7,243,1,31,"default"],[7,250,1,31],[7,252,1,31,"e"],[7,253,1,31],[7,270,1,31,"e"],[7,271,1,31],[7,294,1,31,"e"],[7,295,1,31],[7,320,1,31,"e"],[7,321,1,31],[7,330,1,31,"f"],[7,331,1,31],[7,337,1,31,"o"],[7,338,1,31],[7,341,1,31,"t"],[7,342,1,31],[7,345,1,31,"n"],[7,346,1,31],[7,349,1,31,"r"],[7,350,1,31],[7,358,1,31,"o"],[7,359,1,31],[7,360,1,31,"has"],[7,363,1,31],[7,364,1,31,"e"],[7,365,1,31],[7,375,1,31,"o"],[7,376,1,31],[7,377,1,31,"get"],[7,380,1,31],[7,381,1,31,"e"],[7,382,1,31],[7,385,1,31,"o"],[7,386,1,31],[7,387,1,31,"set"],[7,390,1,31],[7,391,1,31,"e"],[7,392,1,31],[7,394,1,31,"f"],[7,395,1,31],[7,409,1,31,"_t"],[7,411,1,31],[7,415,1,31,"e"],[7,416,1,31],[7,432,1,31,"_t"],[7,434,1,31],[7,441,1,31,"hasOwnProperty"],[7,455,1,31],[7,456,1,31,"call"],[7,460,1,31],[7,461,1,31,"e"],[7,462,1,31],[7,464,1,31,"_t"],[7,466,1,31],[7,473,1,31,"i"],[7,474,1,31],[7,478,1,31,"o"],[7,479,1,31],[7,482,1,31,"Object"],[7,488,1,31],[7,489,1,31,"defineProperty"],[7,503,1,31],[7,508,1,31,"Object"],[7,514,1,31],[7,515,1,31,"getOwnPropertyDescriptor"],[7,539,1,31],[7,540,1,31,"e"],[7,541,1,31],[7,543,1,31,"_t"],[7,545,1,31],[7,552,1,31,"i"],[7,553,1,31],[7,554,1,31,"get"],[7,557,1,31],[7,561,1,31,"i"],[7,562,1,31],[7,563,1,31,"set"],[7,566,1,31],[7,570,1,31,"o"],[7,571,1,31],[7,572,1,31,"f"],[7,573,1,31],[7,575,1,31,"_t"],[7,577,1,31],[7,579,1,31,"i"],[7,580,1,31],[7,584,1,31,"f"],[7,585,1,31],[7,586,1,31,"_t"],[7,588,1,31],[7,592,1,31,"e"],[7,593,1,31],[7,594,1,31,"_t"],[7,596,1,31],[7,607,1,31,"f"],[7,608,1,31],[7,613,1,31,"e"],[7,614,1,31],[7,616,1,31,"t"],[7,617,1,31],[8,2,12,0],[9,0,13,0],[10,0,14,0],[11,2,15,15],[11,11,15,24,"useEventEmitter"],[11,26,15,39,"useEventEmitter"],[11,27,16,2,"listen"],[11,33,16,27],[11,35,17,29],[12,4,18,2],[12,8,18,8,"listenRef"],[12,17,18,17],[12,20,18,20,"React"],[12,25,18,25],[12,26,18,26,"useRef"],[12,32,18,32],[12,33,18,33,"listen"],[12,39,18,39],[12,40,18,40],[13,4,20,2,"React"],[13,9,20,7],[13,10,20,8,"useEffect"],[13,19,20,17],[13,20,20,18],[13,32,20,24],[14,6,21,4,"listenRef"],[14,15,21,13],[14,16,21,14,"current"],[14,23,21,21],[14,26,21,24,"listen"],[14,32,21,30],[15,4,22,2],[15,5,22,3],[15,6,22,4],[16,4,24,2],[16,8,24,8,"listeners"],[16,17,24,17],[16,20,24,20,"React"],[16,25,24,25],[16,26,24,26,"useRef"],[16,32,24,32],[16,33,25,4,"Object"],[16,39,25,10],[16,40,25,11,"create"],[16,46,25,17],[16,47,25,18],[16,51,25,22],[16,52,26,2],[16,53,26,3],[17,4,28,2],[17,8,28,8,"create"],[17,14,28,14],[17,17,28,17,"React"],[17,22,28,22],[17,23,28,23,"useCallback"],[17,34,28,34],[17,35,28,35],[17,45,28,36,"target"],[17,51,28,50],[17,53,28,55],[18,6,29,4],[18,10,29,10,"removeListener"],[18,24,29,24],[18,27,29,27],[18,36,29,27,"removeListener"],[18,37,29,28,"type"],[18,41,29,40],[18,43,29,42,"callback"],[18,51,29,71],[18,53,29,76],[19,8,30,6],[19,12,30,12,"callbacks"],[19,21,30,21],[19,24,30,24,"listeners"],[19,33,30,33],[19,34,30,34,"current"],[19,41,30,41],[19,42,30,42,"type"],[19,46,30,46],[19,47,30,47],[19,50,31,10,"listeners"],[19,59,31,19],[19,60,31,20,"current"],[19,67,31,27],[19,68,31,28,"type"],[19,72,31,32],[19,73,31,33],[19,74,31,34,"target"],[19,80,31,40],[19,81,31,41],[19,84,32,10,"undefined"],[19,93,32,19],[20,8,34,6],[20,12,34,10],[20,13,34,11,"callbacks"],[20,22,34,20],[20,24,34,22],[21,10,35,8],[22,8,36,6],[23,8,38,6],[23,12,38,12,"index"],[23,17,38,17],[23,20,38,20,"callbacks"],[23,29,38,29],[23,30,38,30,"indexOf"],[23,37,38,37],[23,38,38,38,"callback"],[23,46,38,46],[23,47,38,47],[24,8,40,6],[24,12,40,10,"index"],[24,17,40,15],[24,20,40,18],[24,21,40,19],[24,22,40,20],[24,24,40,22],[25,10,41,8,"callbacks"],[25,19,41,17],[25,20,41,18,"splice"],[25,26,41,24],[25,27,41,25,"index"],[25,32,41,30],[25,34,41,32],[25,35,41,33],[25,36,41,34],[26,8,42,6],[27,6,43,4],[27,7,43,5],[28,6,45,4],[28,10,45,10,"addListener"],[28,21,45,21],[28,24,45,24],[28,33,45,24,"addListener"],[28,34,45,25,"type"],[28,38,45,37],[28,40,45,39,"callback"],[28,48,45,68],[28,50,45,73],[29,8,46,6,"listeners"],[29,17,46,15],[29,18,46,16,"current"],[29,25,46,23],[29,26,46,24,"type"],[29,30,46,28],[29,31,46,29],[29,34,46,32,"listeners"],[29,43,46,41],[29,44,46,42,"current"],[29,51,46,49],[29,52,46,50,"type"],[29,56,46,54],[29,57,46,55],[29,61,46,59],[29,62,46,60],[29,63,46,61],[30,8,47,6,"listeners"],[30,17,47,15],[30,18,47,16,"current"],[30,25,47,23],[30,26,47,24,"type"],[30,30,47,28],[30,31,47,29],[30,32,47,30,"target"],[30,38,47,36],[30,39,47,37],[30,42,47,40,"listeners"],[30,51,47,49],[30,52,47,50,"current"],[30,59,47,57],[30,60,47,58,"type"],[30,64,47,62],[30,65,47,63],[30,66,47,64,"target"],[30,72,47,70],[30,73,47,71],[30,77,47,75],[30,79,47,77],[31,8,48,6,"listeners"],[31,17,48,15],[31,18,48,16,"current"],[31,25,48,23],[31,26,48,24,"type"],[31,30,48,28],[31,31,48,29],[31,32,48,30,"target"],[31,38,48,36],[31,39,48,37],[31,40,48,38,"push"],[31,44,48,42],[31,45,48,43,"callback"],[31,53,48,51],[31,54,48,52],[32,8,50,6],[32,12,50,10,"removed"],[32,19,50,17],[32,22,50,20],[32,27,50,25],[33,8,51,6],[33,15,51,13],[33,27,51,19],[34,10,52,8],[35,10,53,8],[35,14,53,12],[35,15,53,13,"removed"],[35,22,53,20],[35,24,53,22],[36,12,54,10,"removed"],[36,19,54,17],[36,22,54,20],[36,26,54,24],[37,12,55,10,"removeListener"],[37,26,55,24],[37,27,55,25,"type"],[37,31,55,29],[37,33,55,31,"callback"],[37,41,55,39],[37,42,55,40],[38,10,56,8],[39,8,57,6],[39,9,57,7],[40,6,58,4],[40,7,58,5],[41,6,60,4],[41,13,60,11],[42,8,61,6,"addListener"],[42,19,61,17],[43,8,62,6,"removeListener"],[44,6,63,4],[44,7,63,5],[45,4,64,2],[45,5,64,3],[45,7,64,5],[45,9,64,7],[45,10,64,8],[46,4,66,2],[46,8,66,8,"emit"],[46,12,66,12],[46,15,66,15,"React"],[46,20,66,20],[46,21,66,21,"useCallback"],[46,32,66,32],[46,33,67,4],[46,43,67,4,"_ref"],[46,47,67,4],[46,49,77,10],[47,6,77,10],[47,10,68,6,"type"],[47,14,68,10],[47,17,68,10,"_ref"],[47,21,68,10],[47,22,68,6,"type"],[47,26,68,10],[48,8,69,6,"data"],[48,12,69,10],[48,15,69,10,"_ref"],[48,19,69,10],[48,20,69,6,"data"],[48,24,69,10],[49,8,70,6,"target"],[49,14,70,12],[49,17,70,12,"_ref"],[49,21,70,12],[49,22,70,6,"target"],[49,28,70,12],[50,8,71,6,"canPreventDefault"],[50,25,71,23],[50,28,71,23,"_ref"],[50,32,71,23],[50,33,71,6,"canPreventDefault"],[50,50,71,23],[51,6,78,6],[51,10,78,12,"items"],[51,15,78,17],[51,18,78,20,"listeners"],[51,27,78,29],[51,28,78,30,"current"],[51,35,78,37],[51,36,78,38,"type"],[51,40,78,42],[51,41,78,43],[51,45,78,47],[51,46,78,48],[51,47,78,49],[53,6,80,6],[54,6,81,6],[54,10,81,12,"callbacks"],[54,19,81,21],[54,22,82,8,"target"],[54,28,82,14],[54,33,82,19,"undefined"],[54,42,82,28],[54,45,83,12,"items"],[54,50,83,17],[54,51,83,18,"target"],[54,57,83,24],[54,58,83,25],[54,60,83,27,"slice"],[54,65,83,32],[54,66,83,33],[54,67,83,34],[54,70,84,13],[54,72,84,15],[54,73,85,15,"concat"],[54,79,85,21],[54,80,85,22],[54,83,85,25,"Object"],[54,89,85,31],[54,90,85,32,"keys"],[54,94,85,36],[54,95,85,37,"items"],[54,100,85,42],[54,101,85,43],[54,102,85,44,"map"],[54,105,85,47],[54,106,85,48],[54,116,85,49,"t"],[54,117,85,50],[55,8,85,50],[55,15,85,55,"items"],[55,20,85,60],[55,21,85,61,"t"],[55,22,85,62],[55,23,85,63],[56,6,85,63],[56,8,85,64],[56,9,85,65],[56,10,86,15,"filter"],[56,16,86,21],[56,17,86,22],[56,27,86,23,"cb"],[56,29,86,25],[56,31,86,27,"i"],[56,32,86,28],[56,34,86,30,"self"],[56,38,86,34],[57,8,86,34],[57,15,86,39,"self"],[57,19,86,43],[57,20,86,44,"lastIndexOf"],[57,31,86,55],[57,32,86,56,"cb"],[57,34,86,58],[57,35,86,59],[57,40,86,64,"i"],[57,41,86,65],[58,6,86,65],[58,8,86,66],[59,6,88,6],[59,10,88,12,"event"],[59,15,88,42],[59,18,88,45],[60,8,89,8],[60,12,89,12,"type"],[60,16,89,16,"type"],[60,17,89,16],[60,19,89,19],[61,10,90,10],[61,17,90,17,"type"],[61,21,90,21],[62,8,91,8],[63,6,92,6],[63,7,92,7],[64,6,94,6],[64,10,94,10,"target"],[64,16,94,16],[64,21,94,21,"undefined"],[64,30,94,30],[64,32,94,32],[65,8,95,8,"Object"],[65,14,95,14],[65,15,95,15,"defineProperty"],[65,29,95,29],[65,30,95,30,"event"],[65,35,95,35],[65,37,95,37],[65,45,95,45],[65,47,95,47],[66,10,96,10,"enumerable"],[66,20,96,20],[66,22,96,22],[66,26,96,26],[67,10,97,10,"get"],[67,13,97,13,"get"],[67,14,97,13],[67,16,97,16],[68,12,98,12],[68,19,98,19,"target"],[68,25,98,25],[69,10,99,10],[70,8,100,8],[70,9,100,9],[70,10,100,10],[71,6,101,6],[72,6,103,6],[72,10,103,10,"data"],[72,14,103,14],[72,19,103,19,"undefined"],[72,28,103,28],[72,30,103,30],[73,8,104,8,"Object"],[73,14,104,14],[73,15,104,15,"defineProperty"],[73,29,104,29],[73,30,104,30,"event"],[73,35,104,35],[73,37,104,37],[73,43,104,43],[73,45,104,45],[74,10,105,10,"enumerable"],[74,20,105,20],[74,22,105,22],[74,26,105,26],[75,10,106,10,"get"],[75,13,106,13,"get"],[75,14,106,13],[75,16,106,16],[76,12,107,12],[76,19,107,19,"data"],[76,23,107,23],[77,10,108,10],[78,8,109,8],[78,9,109,9],[78,10,109,10],[79,6,110,6],[80,6,112,6],[80,10,112,10,"canPreventDefault"],[80,27,112,27],[80,29,112,29],[81,8,113,8],[81,12,113,12,"defaultPrevented"],[81,28,113,28],[81,31,113,31],[81,36,113,36],[82,8,115,8,"Object"],[82,14,115,14],[82,15,115,15,"defineProperties"],[82,31,115,31],[82,32,115,32,"event"],[82,37,115,37],[82,39,115,39],[83,10,116,10,"defaultPrevented"],[83,26,116,26],[83,28,116,28],[84,12,117,12,"enumerable"],[84,22,117,22],[84,24,117,24],[84,28,117,28],[85,12,118,12,"get"],[85,15,118,15,"get"],[85,16,118,15],[85,18,118,18],[86,14,119,14],[86,21,119,21,"defaultPrevented"],[86,37,119,37],[87,12,120,12],[88,10,121,10],[88,11,121,11],[89,10,122,10,"preventDefault"],[89,24,122,24],[89,26,122,26],[90,12,123,12,"enumerable"],[90,22,123,22],[90,24,123,24],[90,28,123,28],[91,12,124,12,"value"],[91,17,124,17,"value"],[91,18,124,17],[91,20,124,20],[92,14,125,14,"defaultPrevented"],[92,30,125,30],[92,33,125,33],[92,37,125,37],[93,12,126,12],[94,10,127,10],[95,8,128,8],[95,9,128,9],[95,10,128,10],[96,6,129,6],[97,6,131,6,"listenRef"],[97,15,131,15],[97,16,131,16,"current"],[97,23,131,23],[97,26,131,26,"event"],[97,31,131,31],[97,32,131,32],[98,6,133,6,"callbacks"],[98,15,133,15],[98,17,133,17,"forEach"],[98,24,133,24],[98,25,133,25],[98,35,133,26,"cb"],[98,37,133,28],[99,8,133,28],[99,15,133,33,"cb"],[99,17,133,35],[99,18,133,36,"event"],[99,23,133,41],[99,24,133,42],[100,6,133,42],[100,8,133,43],[101,6,135,6],[101,13,135,13,"event"],[101,18,135,18],[102,4,136,4],[102,5,136,5],[102,7,137,4],[102,9,138,2],[102,10,138,3],[103,4,140,2],[103,11,140,9,"React"],[103,16,140,14],[103,17,140,15,"useMemo"],[103,24,140,22],[103,25,140,23],[104,6,140,23],[104,13,140,30],[105,8,140,32,"create"],[105,14,140,38],[106,8,140,40,"emit"],[107,6,140,45],[107,7,140,46],[108,4,140,46],[108,5,140,47],[108,7,140,49],[108,8,140,50,"create"],[108,14,140,56],[108,16,140,58,"emit"],[108,20,140,62],[108,21,140,63],[108,22,140,64],[109,2,141,0],[110,0,141,1]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","create","removeListener","addListener","<anonymous>","emit","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","callbacks.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;eCc;kBCK;GDE;mCEM;2BCC;KDc;wBEE;aCM;ODM;KFC;GFM;IMG;gDCkB,eD;sBEC,2CF;QGG;SHE;UIM;WJE;UIO;WJE;YKU;aLE;YMI;aNE;yBOO,iBP;KNG;uBcI,wBd;CDC"}},"type":"js/module"}]}