{"dependencies":[{"name":"./ViewConfigIgnore","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":0,"index":290},"end":{"line":12,"column":45,"index":335}}],"key":"BeuUrNqCWAIHigLqPpBLphwDOPU="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.stringifyValidationResult = stringifyValidationResult;\n  exports.validate = validate;\n  var _ViewConfigIgnore = require(_dependencyMap[0]);\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  /**\n   * During the migration from native view configs to static view configs, this is\n   * used to validate that the two are equivalent.\n   */\n  function validate(name, nativeViewConfig, staticViewConfig) {\n    var differences = [];\n    accumulateDifferences(differences, [], {\n      bubblingEventTypes: nativeViewConfig.bubblingEventTypes,\n      directEventTypes: nativeViewConfig.directEventTypes,\n      uiViewClassName: nativeViewConfig.uiViewClassName,\n      validAttributes: nativeViewConfig.validAttributes\n    }, {\n      bubblingEventTypes: staticViewConfig.bubblingEventTypes,\n      directEventTypes: staticViewConfig.directEventTypes,\n      uiViewClassName: staticViewConfig.uiViewClassName,\n      validAttributes: staticViewConfig.validAttributes\n    });\n    if (differences.length === 0) {\n      return {\n        type: 'valid'\n      };\n    }\n    return {\n      type: 'invalid',\n      differences\n    };\n  }\n  function stringifyValidationResult(name, validationResult) {\n    var differences = validationResult.differences;\n    return [`StaticViewConfigValidator: Invalid static view config for '${name}'.`, '', ...differences.map(function (difference) {\n      var type = difference.type,\n        path = difference.path;\n      switch (type) {\n        case 'missing':\n          return `- '${path.join('.')}' is missing.`;\n        case 'unequal':\n          return `- '${path.join('.')}' is the wrong value.`;\n        case 'unexpected':\n          return `- '${path.join('.')}' is present but not expected to be.`;\n      }\n    }), ''].join('\\n');\n  }\n  function accumulateDifferences(differences, path, nativeObject, staticObject) {\n    for (var nativeKey in nativeObject) {\n      var nativeValue = nativeObject[nativeKey];\n      if (!staticObject.hasOwnProperty(nativeKey)) {\n        differences.push({\n          path: [...path, nativeKey],\n          type: 'missing',\n          nativeValue\n        });\n        continue;\n      }\n      var staticValue = staticObject[nativeKey];\n      var nativeValueIfObject = ifObject(nativeValue);\n      if (nativeValueIfObject != null) {\n        var staticValueIfObject = ifObject(staticValue);\n        if (staticValueIfObject != null) {\n          path.push(nativeKey);\n          accumulateDifferences(differences, path, nativeValueIfObject, staticValueIfObject);\n          path.pop();\n          continue;\n        }\n      }\n      if (nativeValue !== staticValue) {\n        differences.push({\n          path: [...path, nativeKey],\n          type: 'unequal',\n          nativeValue,\n          staticValue\n        });\n      }\n    }\n    for (var staticKey in staticObject) {\n      if (!nativeObject.hasOwnProperty(staticKey) && !(0, _ViewConfigIgnore.isIgnored)(staticObject[staticKey])) {\n        differences.push({\n          path: [...path, staticKey],\n          type: 'unexpected',\n          staticValue: staticObject[staticKey]\n        });\n      }\n    }\n  }\n  function ifObject(value) {\n    return typeof value === 'object' && !Array.isArray(value) ? value : null;\n  }\n});","lineCount":104,"map":[[7,2,12,0],[7,6,12,0,"_ViewConfigIgnore"],[7,23,12,0],[7,26,12,0,"require"],[7,33,12,0],[7,34,12,0,"_dependencyMap"],[7,48,12,0],[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[18,2,41,0],[19,0,42,0],[20,0,43,0],[21,0,44,0],[22,2,45,7],[22,11,45,16,"validate"],[22,19,45,24,"validate"],[22,20,46,2,"name"],[22,24,46,14],[22,26,47,2,"nativeViewConfig"],[22,42,47,30],[22,44,48,2,"staticViewConfig"],[22,60,48,30],[22,62,49,20],[23,4,50,2],[23,8,50,8,"differences"],[23,19,50,38],[23,22,50,41],[23,24,50,43],[24,4,51,2,"accumulateDifferences"],[24,25,51,23],[24,26,52,4,"differences"],[24,37,52,15],[24,39,53,4],[24,41,53,6],[24,43,54,4],[25,6,55,6,"bubblingEventTypes"],[25,24,55,24],[25,26,55,26,"nativeViewConfig"],[25,42,55,42],[25,43,55,43,"bubblingEventTypes"],[25,61,55,61],[26,6,56,6,"directEventTypes"],[26,22,56,22],[26,24,56,24,"nativeViewConfig"],[26,40,56,40],[26,41,56,41,"directEventTypes"],[26,57,56,57],[27,6,57,6,"uiViewClassName"],[27,21,57,21],[27,23,57,23,"nativeViewConfig"],[27,39,57,39],[27,40,57,40,"uiViewClassName"],[27,55,57,55],[28,6,58,6,"validAttributes"],[28,21,58,21],[28,23,58,23,"nativeViewConfig"],[28,39,58,39],[28,40,58,40,"validAttributes"],[29,4,59,4],[29,5,59,5],[29,7,60,4],[30,6,61,6,"bubblingEventTypes"],[30,24,61,24],[30,26,61,26,"staticViewConfig"],[30,42,61,42],[30,43,61,43,"bubblingEventTypes"],[30,61,61,61],[31,6,62,6,"directEventTypes"],[31,22,62,22],[31,24,62,24,"staticViewConfig"],[31,40,62,40],[31,41,62,41,"directEventTypes"],[31,57,62,57],[32,6,63,6,"uiViewClassName"],[32,21,63,21],[32,23,63,23,"staticViewConfig"],[32,39,63,39],[32,40,63,40,"uiViewClassName"],[32,55,63,55],[33,6,64,6,"validAttributes"],[33,21,64,21],[33,23,64,23,"staticViewConfig"],[33,39,64,39],[33,40,64,40,"validAttributes"],[34,4,65,4],[34,5,66,2],[34,6,66,3],[35,4,68,2],[35,8,68,6,"differences"],[35,19,68,17],[35,20,68,18,"length"],[35,26,68,24],[35,31,68,29],[35,32,68,30],[35,34,68,32],[36,6,69,4],[36,13,69,11],[37,8,69,12,"type"],[37,12,69,16],[37,14,69,18],[38,6,69,25],[38,7,69,26],[39,4,70,2],[40,4,72,2],[40,11,72,9],[41,6,73,4,"type"],[41,10,73,8],[41,12,73,10],[41,21,73,19],[42,6,74,4,"differences"],[43,4,75,2],[43,5,75,3],[44,2,76,0],[45,2,78,7],[45,11,78,16,"stringifyValidationResult"],[45,36,78,41,"stringifyValidationResult"],[45,37,79,2,"name"],[45,41,79,14],[45,43,80,2,"validationResult"],[45,59,80,33],[45,61,81,10],[46,4,82,2],[46,8,82,9,"differences"],[46,19,82,20],[46,22,82,24,"validationResult"],[46,38,82,40],[46,39,82,9,"differences"],[46,50,82,20],[47,4,83,2],[47,11,83,9],[47,12,84,4],[47,74,84,66,"name"],[47,78,84,70],[47,82,84,74],[47,84,85,4],[47,86,85,6],[47,88,86,4],[47,91,86,7,"differences"],[47,102,86,18],[47,103,86,19,"map"],[47,106,86,22],[47,107,86,23],[47,117,86,23,"difference"],[47,127,86,33],[47,129,86,37],[48,6,87,6],[48,10,87,13,"type"],[48,14,87,17],[48,17,87,27,"difference"],[48,27,87,37],[48,28,87,13,"type"],[48,32,87,17],[49,8,87,19,"path"],[49,12,87,23],[49,15,87,27,"difference"],[49,25,87,37],[49,26,87,19,"path"],[49,30,87,23],[50,6,88,6],[50,14,88,14,"type"],[50,18,88,18],[51,8,89,8],[51,13,89,13],[51,22,89,22],[52,10,90,10],[52,17,90,17],[52,23,90,23,"path"],[52,27,90,27],[52,28,90,28,"join"],[52,32,90,32],[52,33,90,33],[52,36,90,36],[52,37,90,37],[52,52,90,52],[53,8,91,8],[53,13,91,13],[53,22,91,22],[54,10,92,10],[54,17,92,17],[54,23,92,23,"path"],[54,27,92,27],[54,28,92,28,"join"],[54,32,92,32],[54,33,92,33],[54,36,92,36],[54,37,92,37],[54,60,92,60],[55,8,93,8],[55,13,93,13],[55,25,93,25],[56,10,94,10],[56,17,94,17],[56,23,94,23,"path"],[56,27,94,27],[56,28,94,28,"join"],[56,32,94,32],[56,33,94,33],[56,36,94,36],[56,37,94,37],[56,75,94,75],[57,6,95,6],[58,4,96,4],[58,5,96,5],[58,6,96,6],[58,8,97,4],[58,10,97,6],[58,11,98,3],[58,12,98,4,"join"],[58,16,98,8],[58,17,98,9],[58,21,98,13],[58,22,98,14],[59,2,99,0],[60,2,101,0],[60,11,101,9,"accumulateDifferences"],[60,32,101,30,"accumulateDifferences"],[60,33,102,2,"differences"],[60,44,102,32],[60,46,103,2,"path"],[60,50,103,21],[60,52,104,2,"nativeObject"],[60,64,104,21],[60,66,105,2,"staticObject"],[60,78,105,21],[60,80,106,8],[61,4,107,2],[61,9,107,7],[61,13,107,13,"nativeKey"],[61,22,107,22],[61,26,107,26,"nativeObject"],[61,38,107,38],[61,40,107,40],[62,6,108,4],[62,10,108,10,"nativeValue"],[62,21,108,21],[62,24,108,24,"nativeObject"],[62,36,108,36],[62,37,108,37,"nativeKey"],[62,46,108,46],[62,47,108,47],[63,6,110,4],[63,10,110,8],[63,11,110,9,"staticObject"],[63,23,110,21],[63,24,110,22,"hasOwnProperty"],[63,38,110,36],[63,39,110,37,"nativeKey"],[63,48,110,46],[63,49,110,47],[63,51,110,49],[64,8,111,6,"differences"],[64,19,111,17],[64,20,111,18,"push"],[64,24,111,22],[64,25,111,23],[65,10,112,8,"path"],[65,14,112,12],[65,16,112,14],[65,17,112,15],[65,20,112,18,"path"],[65,24,112,22],[65,26,112,24,"nativeKey"],[65,35,112,33],[65,36,112,34],[66,10,113,8,"type"],[66,14,113,12],[66,16,113,14],[66,25,113,23],[67,10,114,8,"nativeValue"],[68,8,115,6],[68,9,115,7],[68,10,115,8],[69,8,116,6],[70,6,117,4],[71,6,119,4],[71,10,119,10,"staticValue"],[71,21,119,21],[71,24,119,24,"staticObject"],[71,36,119,36],[71,37,119,37,"nativeKey"],[71,46,119,46],[71,47,119,47],[72,6,121,4],[72,10,121,10,"nativeValueIfObject"],[72,29,121,29],[72,32,121,32,"ifObject"],[72,40,121,40],[72,41,121,41,"nativeValue"],[72,52,121,52],[72,53,121,53],[73,6,122,4],[73,10,122,8,"nativeValueIfObject"],[73,29,122,27],[73,33,122,31],[73,37,122,35],[73,39,122,37],[74,8,123,6],[74,12,123,12,"staticValueIfObject"],[74,31,123,31],[74,34,123,34,"ifObject"],[74,42,123,42],[74,43,123,43,"staticValue"],[74,54,123,54],[74,55,123,55],[75,8,124,6],[75,12,124,10,"staticValueIfObject"],[75,31,124,29],[75,35,124,33],[75,39,124,37],[75,41,124,39],[76,10,125,8,"path"],[76,14,125,12],[76,15,125,13,"push"],[76,19,125,17],[76,20,125,18,"nativeKey"],[76,29,125,27],[76,30,125,28],[77,10,126,8,"accumulateDifferences"],[77,31,126,29],[77,32,127,10,"differences"],[77,43,127,21],[77,45,128,10,"path"],[77,49,128,14],[77,51,129,10,"nativeValueIfObject"],[77,70,129,29],[77,72,130,10,"staticValueIfObject"],[77,91,131,8],[77,92,131,9],[78,10,132,8,"path"],[78,14,132,12],[78,15,132,13,"pop"],[78,18,132,16],[78,19,132,17],[78,20,132,18],[79,10,133,8],[80,8,134,6],[81,6,135,4],[82,6,137,4],[82,10,137,8,"nativeValue"],[82,21,137,19],[82,26,137,24,"staticValue"],[82,37,137,35],[82,39,137,37],[83,8,138,6,"differences"],[83,19,138,17],[83,20,138,18,"push"],[83,24,138,22],[83,25,138,23],[84,10,139,8,"path"],[84,14,139,12],[84,16,139,14],[84,17,139,15],[84,20,139,18,"path"],[84,24,139,22],[84,26,139,24,"nativeKey"],[84,35,139,33],[84,36,139,34],[85,10,140,8,"type"],[85,14,140,12],[85,16,140,14],[85,25,140,23],[86,10,141,8,"nativeValue"],[86,21,141,19],[87,10,142,8,"staticValue"],[88,8,143,6],[88,9,143,7],[88,10,143,8],[89,6,144,4],[90,4,145,2],[91,4,147,2],[91,9,147,7],[91,13,147,13,"staticKey"],[91,22,147,22],[91,26,147,26,"staticObject"],[91,38,147,38],[91,40,147,40],[92,6,148,4],[92,10,149,6],[92,11,149,7,"nativeObject"],[92,23,149,19],[92,24,149,20,"hasOwnProperty"],[92,38,149,34],[92,39,149,35,"staticKey"],[92,48,149,44],[92,49,149,45],[92,53,150,6],[92,54,150,7],[92,58,150,7,"isIgnored"],[92,85,150,16],[92,87,150,17,"staticObject"],[92,99,150,29],[92,100,150,30,"staticKey"],[92,109,150,39],[92,110,150,40],[92,111,150,41],[92,113,151,6],[93,8,152,6,"differences"],[93,19,152,17],[93,20,152,18,"push"],[93,24,152,22],[93,25,152,23],[94,10,153,8,"path"],[94,14,153,12],[94,16,153,14],[94,17,153,15],[94,20,153,18,"path"],[94,24,153,22],[94,26,153,24,"staticKey"],[94,35,153,33],[94,36,153,34],[95,10,154,8,"type"],[95,14,154,12],[95,16,154,14],[95,28,154,26],[96,10,155,8,"staticValue"],[96,21,155,19],[96,23,155,21,"staticObject"],[96,35,155,33],[96,36,155,34,"staticKey"],[96,45,155,43],[97,8,156,6],[97,9,156,7],[97,10,156,8],[98,6,157,4],[99,4,158,2],[100,2,159,0],[101,2,161,0],[101,11,161,9,"ifObject"],[101,19,161,17,"ifObject"],[101,20,161,18,"value"],[101,25,161,30],[101,27,161,40],[102,4,162,2],[102,11,162,9],[102,18,162,16,"value"],[102,23,162,21],[102,28,162,26],[102,36,162,34],[102,40,162,38],[102,41,162,39,"Array"],[102,46,162,44],[102,47,162,45,"isArray"],[102,54,162,52],[102,55,162,53,"value"],[102,60,162,58],[102,61,162,59],[102,64,162,62,"value"],[102,69,162,67],[102,72,162,70],[102,76,162,74],[103,2,163,0],[104,0,163,1]],"functionMap":{"names":["<global>","validate","stringifyValidationResult","differences.map$argument_0","accumulateDifferences","ifObject"],"mappings":"AAA;OC4C;CD+B;OEE;uBCQ;KDU;CFG;AIE;CJ0D;AKE;CLE"}},"type":"js/module"}]}