{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":262,"column":29,"index":7901}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":262,"column":29,"index":7901}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":262,"column":29,"index":7901}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":262,"column":29,"index":7901}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":262,"column":29,"index":7901}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"react-native","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}},{"name":"react-native-tcp-socket","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":48,"index":89}}],"key":"+ssIBgrWlZntZU4FFeZIHyf1XWA="}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":90},"end":{"line":3,"column":54,"index":144}}],"key":"ltLFhIfxyy89okchfB5w/bUar/s="}},{"name":"@/utils/Logger","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":145},"end":{"line":4,"column":36,"index":181}}],"key":"dpbJvsqVW0VVfFOl8dlhEC6KfVk="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0]);\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = undefined;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1]));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2]));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3]));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[4]));\n  var _reactNative = require(_dependencyMap[5]);\n  var _reactNativeTcpSocket = _interopRequireDefault(require(_dependencyMap[6]));\n  var _netinfo = _interopRequireDefault(require(_dependencyMap[7]));\n  var _Logger = _interopRequireDefault(require(_dependencyMap[8]));\n  var logger = _Logger.default.withTag('TCPHttpServer');\n  var PORT = 12346;\n  var TCPHttpServer = /*#__PURE__*/function () {\n    function TCPHttpServer() {\n      (0, _classCallCheck2.default)(this, TCPHttpServer);\n      this.server = null;\n      this.isRunning = false;\n      this.requestHandler = null;\n      this.server = null;\n    }\n    return (0, _createClass2.default)(TCPHttpServer, [{\n      key: \"parseHttpRequest\",\n      value: function parseHttpRequest(data) {\n        try {\n          var lines = data.split('\\r\\n');\n          var requestLine = lines[0].split(' ');\n          if (requestLine.length < 3) {\n            return null;\n          }\n          var method = requestLine[0];\n          var url = requestLine[1];\n          var headers = {};\n          var bodyStartIndex = -1;\n          for (var i = 1; i < lines.length; i++) {\n            var line = lines[i];\n            if (line === '') {\n              bodyStartIndex = i + 1;\n              break;\n            }\n            var colonIndex = line.indexOf(':');\n            if (colonIndex > 0) {\n              var key = line.substring(0, colonIndex).trim().toLowerCase();\n              var value = line.substring(colonIndex + 1).trim();\n              headers[key] = value;\n            }\n          }\n          var body = bodyStartIndex > 0 ? lines.slice(bodyStartIndex).join('\\r\\n') : '';\n          return {\n            method,\n            url,\n            headers,\n            body\n          };\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error parsing HTTP request:', error);\n          return null;\n        }\n      }\n    }, {\n      key: \"formatHttpResponse\",\n      value: function formatHttpResponse(response) {\n        var statusTexts = {\n          200: 'OK',\n          400: 'Bad Request',\n          404: 'Not Found',\n          500: 'Internal Server Error'\n        };\n        var statusText = statusTexts[response.statusCode] || 'Unknown';\n        var headers = {\n          'Content-Length': new TextEncoder().encode(response.body).length.toString(),\n          'Connection': 'close',\n          ...response.headers\n        };\n        var httpResponse = `HTTP/1.1 ${response.statusCode} ${statusText}\\r\\n`;\n        for (var _ref of Object.entries(headers)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);\n          var key = _ref2[0];\n          var value = _ref2[1];\n          httpResponse += `${key}: ${value}\\r\\n`;\n        }\n        httpResponse += '\\r\\n';\n        httpResponse += response.body;\n        return httpResponse;\n      }\n    }, {\n      key: \"setRequestHandler\",\n      value: function setRequestHandler(handler) {\n        this.requestHandler = handler;\n      }\n    }, {\n      key: \"start\",\n      value: function () {\n        var _start = (0, _asyncToGenerator2.default)(function* () {\n          var _this = this;\n          // 确保之前的服务器实例已关闭\n          if (this.server && !this.isRunning) {\n            try {\n              this.server.close();\n              logger.debug('[TCPHttpServer] Old server instance closed');\n            } catch (error) {\n              logger.info('[TCPHttpServer] Error closing old server:', error);\n            }\n            this.server = null;\n          }\n          var netState = yield _netinfo.default.fetch();\n          var ipAddress = null;\n          if (netState.type === 'wifi' || netState.type === 'ethernet') {\n            ipAddress = netState.details?.ipAddress ?? null;\n          }\n          if (!ipAddress) {\n            throw new Error('无法获取IP地址，请确认设备已连接到WiFi或以太网。');\n          }\n          if (this.isRunning) {\n            logger.debug('[TCPHttpServer] Server is already running.');\n            return `http://${ipAddress}:${PORT}`;\n          }\n\n          // Web平台不支持TCP服务器\n\n          return new Promise(function (resolve, reject) {\n            try {\n              // 检查TcpSocket是否可用\n              if (!_reactNativeTcpSocket.default || typeof _reactNativeTcpSocket.default.createServer !== 'function') {\n                logger.error('[TCPHttpServer] TcpSocket is not available or properly initialized');\n                reject(new Error('TCP服务器初始化失败'));\n                return;\n              }\n\n              // 确保在创建新服务器前，server为null\n              if (_this.server) {\n                try {\n                  _this.server.close();\n                } catch (error) {\n                  logger.info('[TCPHttpServer] Error closing previous server:', error);\n                }\n                _this.server = null;\n              }\n\n              // 创建服务器实例\n              _this.server = _reactNativeTcpSocket.default.createServer(function (socket) {\n                logger.debug('[TCPHttpServer] Client connected');\n                var requestData = '';\n                socket.on('data', /*#__PURE__*/function () {\n                  var _ref3 = (0, _asyncToGenerator2.default)(function* (data) {\n                    requestData += data.toString();\n\n                    // Check if we have a complete HTTP request\n                    if (requestData.includes('\\r\\n\\r\\n')) {\n                      try {\n                        var _request = _this.parseHttpRequest(requestData);\n                        if (_request && _this.requestHandler) {\n                          var response = yield _this.requestHandler(_request);\n                          var httpResponse = _this.formatHttpResponse(response);\n                          socket.write(httpResponse);\n                        } else {\n                          // Send 400 Bad Request for malformed requests\n                          var errorResponse = _this.formatHttpResponse({\n                            statusCode: 400,\n                            headers: {\n                              'Content-Type': 'text/plain'\n                            },\n                            body: 'Bad Request'\n                          });\n                          socket.write(errorResponse);\n                        }\n                      } catch (error) {\n                        logger.info('[TCPHttpServer] Error handling request:', error);\n                        var _errorResponse = _this.formatHttpResponse({\n                          statusCode: 500,\n                          headers: {\n                            'Content-Type': 'text/plain'\n                          },\n                          body: 'Internal Server Error'\n                        });\n                        socket.write(_errorResponse);\n                      }\n                      socket.end();\n                      requestData = '';\n                    }\n                  });\n                  return function (_x) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n                socket.on('error', function (error) {\n                  logger.info('[TCPHttpServer] Socket error:', error);\n                });\n                socket.on('close', function () {\n                  logger.debug('[TCPHttpServer] Client disconnected');\n                });\n              });\n\n              // 确保server不为null再调用listen\n              if (!_this.server) {\n                logger.error('[TCPHttpServer] Server instance is null');\n                reject(new Error('服务器实例创建失败'));\n                return;\n              }\n\n              // 添加错误处理，确保listen方法存在并且是函数\n              if (!_this.server.listen || typeof _this.server.listen !== 'function') {\n                logger.error('[TCPHttpServer] Server listen method is not available or not a function');\n                reject(new Error('服务器监听方法不可用'));\n                return;\n              }\n              _this.server.listen({\n                port: PORT,\n                host: '0.0.0.0'\n              }, function () {\n                logger.debug(`[TCPHttpServer] Server listening on ${ipAddress}:${PORT}`);\n                _this.isRunning = true;\n                resolve(`http://${ipAddress}:${PORT}`);\n              });\n              _this.server.on('error', function (error) {\n                logger.info('[TCPHttpServer] Server error:', error);\n                _this.isRunning = false;\n                // 针对端口占用的错误提供更友好的消息\n                if (error.message && error.message.includes('EADDRINUSE')) {\n                  reject(new Error('端口已被占用，请稍后再试或重启应用。'));\n                } else {\n                  reject(error);\n                }\n              });\n            } catch (error) {\n              logger.info('[TCPHttpServer] Failed to start server:', error);\n              reject(error);\n            }\n          });\n        });\n        function start() {\n          return _start.apply(this, arguments);\n        }\n        return start;\n      }()\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        try {\n          if (this.server) {\n            this.server.close();\n            logger.debug('[TCPHttpServer] Server stopped');\n          }\n        } catch (error) {\n          logger.info('[TCPHttpServer] Error stopping server:', error);\n        } finally {\n          this.isRunning = false;\n          this.server = null;\n        }\n      }\n    }, {\n      key: \"getIsRunning\",\n      value: function getIsRunning() {\n        return this.isRunning;\n      }\n    }]);\n  }();\n  var _default = exports.default = TCPHttpServer;\n});","lineCount":262,"map":[[11,2,1,0],[11,6,1,0,"_reactNative"],[11,18,1,0],[11,21,1,0,"require"],[11,28,1,0],[11,29,1,0,"_dependencyMap"],[11,43,1,0],[12,2,2,0],[12,6,2,0,"_reactNativeTcpSocket"],[12,27,2,0],[12,30,2,0,"_interopRequireDefault"],[12,52,2,0],[12,53,2,0,"require"],[12,60,2,0],[12,61,2,0,"_dependencyMap"],[12,75,2,0],[13,2,3,0],[13,6,3,0,"_netinfo"],[13,14,3,0],[13,17,3,0,"_interopRequireDefault"],[13,39,3,0],[13,40,3,0,"require"],[13,47,3,0],[13,48,3,0,"_dependencyMap"],[13,62,3,0],[14,2,4,0],[14,6,4,0,"_Logger"],[14,13,4,0],[14,16,4,0,"_interopRequireDefault"],[14,38,4,0],[14,39,4,0,"require"],[14,46,4,0],[14,47,4,0,"_dependencyMap"],[14,61,4,0],[15,2,6,0],[15,6,6,6,"logger"],[15,12,6,12],[15,15,6,15,"Logger"],[15,30,6,21],[15,31,6,22,"withTag"],[15,38,6,29],[15,39,6,30],[15,54,6,45],[15,55,6,46],[16,2,8,0],[16,6,8,6,"PORT"],[16,10,8,10],[16,13,8,13],[16,18,8,18],[17,2,8,19],[17,6,25,6,"TCPHttpServer"],[17,19,25,19],[18,4,30,2],[18,13,30,2,"TCPHttpServer"],[18,27,30,2],[18,29,30,16],[19,6,30,16],[19,10,30,16,"_classCallCheck2"],[19,26,30,16],[19,27,30,16,"default"],[19,34,30,16],[19,42,30,16,"TCPHttpServer"],[19,55,30,16],[20,6,30,16],[20,11,26,10,"server"],[20,17,26,16],[20,20,26,44],[20,24,26,48],[21,6,26,48],[21,11,27,10,"isRunning"],[21,20,27,19],[21,23,27,22],[21,28,27,27],[22,6,27,27],[22,11,28,10,"requestHandler"],[22,25,28,24],[22,28,28,50],[22,32,28,54],[23,6,31,4],[23,10,31,8],[23,11,31,9,"server"],[23,17,31,15],[23,20,31,18],[23,24,31,22],[24,4,32,2],[25,4,32,3],[25,15,32,3,"_createClass2"],[25,28,32,3],[25,29,32,3,"default"],[25,36,32,3],[25,38,32,3,"TCPHttpServer"],[25,51,32,3],[26,6,32,3,"key"],[26,9,32,3],[27,6,32,3,"value"],[27,11,32,3],[27,13,34,2],[27,22,34,10,"parseHttpRequest"],[27,38,34,26,"parseHttpRequest"],[27,39,34,27,"data"],[27,43,34,39],[27,45,34,61],[28,8,35,4],[28,12,35,8],[29,10,36,6],[29,14,36,12,"lines"],[29,19,36,17],[29,22,36,20,"data"],[29,26,36,24],[29,27,36,25,"split"],[29,32,36,30],[29,33,36,31],[29,39,36,37],[29,40,36,38],[30,10,37,6],[30,14,37,12,"requestLine"],[30,25,37,23],[30,28,37,26,"lines"],[30,33,37,31],[30,34,37,32],[30,35,37,33],[30,36,37,34],[30,37,37,35,"split"],[30,42,37,40],[30,43,37,41],[30,46,37,44],[30,47,37,45],[31,10,39,6],[31,14,39,10,"requestLine"],[31,25,39,21],[31,26,39,22,"length"],[31,32,39,28],[31,35,39,31],[31,36,39,32],[31,38,39,34],[32,12,40,8],[32,19,40,15],[32,23,40,19],[33,10,41,6],[34,10,43,6],[34,14,43,12,"method"],[34,20,43,18],[34,23,43,21,"requestLine"],[34,34,43,32],[34,35,43,33],[34,36,43,34],[34,37,43,35],[35,10,44,6],[35,14,44,12,"url"],[35,17,44,15],[35,20,44,18,"requestLine"],[35,31,44,29],[35,32,44,30],[35,33,44,31],[35,34,44,32],[36,10,45,6],[36,14,45,12,"headers"],[36,21,45,46],[36,24,45,49],[36,25,45,50],[36,26,45,51],[37,10,47,6],[37,14,47,10,"bodyStartIndex"],[37,28,47,24],[37,33,47,29],[38,10,48,6],[38,15,48,11],[38,19,48,15,"i"],[38,20,48,16],[38,23,48,19],[38,24,48,20],[38,26,48,22,"i"],[38,27,48,23],[38,30,48,26,"lines"],[38,35,48,31],[38,36,48,32,"length"],[38,42,48,38],[38,44,48,40,"i"],[38,45,48,41],[38,47,48,43],[38,49,48,45],[39,12,49,8],[39,16,49,14,"line"],[39,20,49,18],[39,23,49,21,"lines"],[39,28,49,26],[39,29,49,27,"i"],[39,30,49,28],[39,31,49,29],[40,12,50,8],[40,16,50,12,"line"],[40,20,50,16],[40,25,50,21],[40,27,50,23],[40,29,50,25],[41,14,51,10,"bodyStartIndex"],[41,28,51,24],[41,31,51,27,"i"],[41,32,51,28],[41,35,51,31],[41,36,51,32],[42,14,52,10],[43,12,53,8],[44,12,54,8],[44,16,54,14,"colonIndex"],[44,26,54,24],[44,29,54,27,"line"],[44,33,54,31],[44,34,54,32,"indexOf"],[44,41,54,39],[44,42,54,40],[44,45,54,43],[44,46,54,44],[45,12,55,8],[45,16,55,12,"colonIndex"],[45,26,55,22],[45,29,55,25],[45,30,55,26],[45,32,55,28],[46,14,56,10],[46,18,56,16,"key"],[46,21,56,19],[46,24,56,22,"line"],[46,28,56,26],[46,29,56,27,"substring"],[46,38,56,36],[46,39,56,37],[46,40,56,38],[46,42,56,40,"colonIndex"],[46,52,56,50],[46,53,56,51],[46,54,56,52,"trim"],[46,58,56,56],[46,59,56,57],[46,60,56,58],[46,61,56,59,"toLowerCase"],[46,72,56,70],[46,73,56,71],[46,74,56,72],[47,14,57,10],[47,18,57,16,"value"],[47,23,57,21],[47,26,57,24,"line"],[47,30,57,28],[47,31,57,29,"substring"],[47,40,57,38],[47,41,57,39,"colonIndex"],[47,51,57,49],[47,54,57,52],[47,55,57,53],[47,56,57,54],[47,57,57,55,"trim"],[47,61,57,59],[47,62,57,60],[47,63,57,61],[48,14,58,10,"headers"],[48,21,58,17],[48,22,58,18,"key"],[48,25,58,21],[48,26,58,22],[48,29,58,25,"value"],[48,34,58,30],[49,12,59,8],[50,10,60,6],[51,10,62,6],[51,14,62,12,"body"],[51,18,62,16],[51,21,62,19,"bodyStartIndex"],[51,35,62,33],[51,38,62,36],[51,39,62,37],[51,42,62,40,"lines"],[51,47,62,45],[51,48,62,46,"slice"],[51,53,62,51],[51,54,62,52,"bodyStartIndex"],[51,68,62,66],[51,69,62,67],[51,70,62,68,"join"],[51,74,62,72],[51,75,62,73],[51,81,62,79],[51,82,62,80],[51,85,62,83],[51,87,62,85],[52,10,64,6],[52,17,64,13],[53,12,64,15,"method"],[53,18,64,21],[54,12,64,23,"url"],[54,15,64,26],[55,12,64,28,"headers"],[55,19,64,35],[56,12,64,37,"body"],[57,10,64,42],[57,11,64,43],[58,8,65,4],[58,9,65,5],[58,10,65,6],[58,17,65,13,"error"],[58,22,65,18],[58,24,65,20],[59,10,66,6,"logger"],[59,16,66,12],[59,17,66,13,"info"],[59,21,66,17],[59,22,66,18],[59,67,66,63],[59,69,66,65,"error"],[59,74,66,70],[59,75,66,71],[60,10,67,6],[60,17,67,13],[60,21,67,17],[61,8,68,4],[62,6,69,2],[63,4,69,3],[64,6,69,3,"key"],[64,9,69,3],[65,6,69,3,"value"],[65,11,69,3],[65,13,71,2],[65,22,71,10,"formatHttpResponse"],[65,40,71,28,"formatHttpResponse"],[65,41,71,29,"response"],[65,49,71,51],[65,51,71,61],[66,8,72,4],[66,12,72,10,"statusTexts"],[66,23,72,48],[66,26,72,51],[67,10,73,6],[67,13,73,9],[67,15,73,11],[67,19,73,15],[68,10,74,6],[68,13,74,9],[68,15,74,11],[68,28,74,24],[69,10,75,6],[69,13,75,9],[69,15,75,11],[69,26,75,22],[70,10,76,6],[70,13,76,9],[70,15,76,11],[71,8,77,4],[71,9,77,5],[72,8,79,4],[72,12,79,10,"statusText"],[72,22,79,20],[72,25,79,23,"statusTexts"],[72,36,79,34],[72,37,79,35,"response"],[72,45,79,43],[72,46,79,44,"statusCode"],[72,56,79,54],[72,57,79,55],[72,61,79,59],[72,70,79,68],[73,8,80,4],[73,12,80,10,"headers"],[73,19,80,17],[73,22,80,20],[74,10,81,6],[74,26,81,22],[74,28,81,24],[74,32,81,28,"TextEncoder"],[74,43,81,39],[74,44,81,40],[74,45,81,41],[74,46,81,42,"encode"],[74,52,81,48],[74,53,81,49,"response"],[74,61,81,57],[74,62,81,58,"body"],[74,66,81,62],[74,67,81,63],[74,68,81,64,"length"],[74,74,81,70],[74,75,81,71,"toString"],[74,83,81,79],[74,84,81,80],[74,85,81,81],[75,10,82,6],[75,22,82,18],[75,24,82,20],[75,31,82,27],[76,10,83,6],[76,13,83,9,"response"],[76,21,83,17],[76,22,83,18,"headers"],[77,8,84,4],[77,9,84,5],[78,8,86,4],[78,12,86,8,"httpResponse"],[78,24,86,20],[78,27,86,23],[78,39,86,35,"response"],[78,47,86,43],[78,48,86,44,"statusCode"],[78,58,86,54],[78,62,86,58,"statusText"],[78,72,86,68],[78,78,86,74],[79,8,88,4],[79,17,88,4,"_ref"],[79,21,88,4],[79,25,88,31,"Object"],[79,31,88,37],[79,32,88,38,"entries"],[79,39,88,45],[79,40,88,46,"headers"],[79,47,88,53],[79,48,88,54],[79,50,88,56],[80,10,88,56],[80,14,88,56,"_ref2"],[80,19,88,56],[80,26,88,56,"_slicedToArray2"],[80,41,88,56],[80,42,88,56,"default"],[80,49,88,56],[80,51,88,56,"_ref"],[80,55,88,56],[81,10,88,56],[81,14,88,16,"key"],[81,17,88,19],[81,20,88,19,"_ref2"],[81,25,88,19],[82,10,88,19],[82,14,88,21,"value"],[82,19,88,26],[82,22,88,26,"_ref2"],[82,27,88,26],[83,10,89,6,"httpResponse"],[83,22,89,18],[83,26,89,22],[83,29,89,25,"key"],[83,32,89,28],[83,37,89,33,"value"],[83,42,89,38],[83,48,89,44],[84,8,90,4],[85,8,92,4,"httpResponse"],[85,20,92,16],[85,24,92,20],[85,30,92,26],[86,8,93,4,"httpResponse"],[86,20,93,16],[86,24,93,20,"response"],[86,32,93,28],[86,33,93,29,"body"],[86,37,93,33],[87,8,95,4],[87,15,95,11,"httpResponse"],[87,27,95,23],[88,6,96,2],[89,4,96,3],[90,6,96,3,"key"],[90,9,96,3],[91,6,96,3,"value"],[91,11,96,3],[91,13,98,2],[91,22,98,9,"setRequestHandler"],[91,39,98,26,"setRequestHandler"],[91,40,98,27,"handler"],[91,47,98,50],[91,49,98,52],[92,8,99,4],[92,12,99,8],[92,13,99,9,"requestHandler"],[92,27,99,23],[92,30,99,26,"handler"],[92,37,99,33],[93,6,100,2],[94,4,100,3],[95,6,100,3,"key"],[95,9,100,3],[96,6,100,3,"value"],[96,11,100,3],[97,8,100,3],[97,12,100,3,"_start"],[97,18,100,3],[97,25,100,3,"_asyncToGenerator2"],[97,43,100,3],[97,44,100,3,"default"],[97,51,100,3],[97,53,102,2],[97,66,102,40],[98,10,102,40],[98,14,102,40,"_this"],[98,19,102,40],[99,10,103,4],[100,10,104,4],[100,14,104,8],[100,18,104,12],[100,19,104,13,"server"],[100,25,104,19],[100,29,104,23],[100,30,104,24],[100,34,104,28],[100,35,104,29,"isRunning"],[100,44,104,38],[100,46,104,40],[101,12,105,6],[101,16,105,10],[102,14,106,8],[102,18,106,12],[102,19,106,13,"server"],[102,25,106,19],[102,26,106,20,"close"],[102,31,106,25],[102,32,106,26],[102,33,106,27],[103,14,107,8,"logger"],[103,20,107,14],[103,21,107,15,"debug"],[103,26,107,20],[103,27,107,21],[103,71,107,65],[103,72,107,66],[104,12,108,6],[104,13,108,7],[104,14,108,8],[104,21,108,15,"error"],[104,26,108,20],[104,28,108,22],[105,14,109,8,"logger"],[105,20,109,14],[105,21,109,15,"info"],[105,25,109,19],[105,26,109,20],[105,69,109,63],[105,71,109,65,"error"],[105,76,109,70],[105,77,109,71],[106,12,110,6],[107,12,111,6],[107,16,111,10],[107,17,111,11,"server"],[107,23,111,17],[107,26,111,20],[107,30,111,24],[108,10,112,4],[109,10,114,4],[109,14,114,10,"netState"],[109,22,114,18],[109,31,114,27,"NetInfo"],[109,47,114,34],[109,48,114,35,"fetch"],[109,53,114,40],[109,54,114,41],[109,55,114,42],[110,10,115,4],[110,14,115,8,"ipAddress"],[110,23,115,32],[110,26,115,35],[110,30,115,39],[111,10,117,4],[111,14,117,8,"netState"],[111,22,117,16],[111,23,117,17,"type"],[111,27,117,21],[111,32,117,26],[111,38,117,32],[111,42,117,36,"netState"],[111,50,117,44],[111,51,117,45,"type"],[111,55,117,49],[111,60,117,54],[111,70,117,64],[111,72,117,66],[112,12,118,6,"ipAddress"],[112,21,118,15],[112,24,118,19,"netState"],[112,32,118,27],[112,33,118,28,"details"],[112,40,118,35],[112,42,118,45,"ipAddress"],[112,51,118,54],[112,55,118,58],[112,59,118,62],[113,10,119,4],[114,10,121,4],[114,14,121,8],[114,15,121,9,"ipAddress"],[114,24,121,18],[114,26,121,20],[115,12,122,6],[115,18,122,12],[115,22,122,16,"Error"],[115,27,122,21],[115,28,122,22],[115,57,122,51],[115,58,122,52],[116,10,123,4],[117,10,125,4],[117,14,125,8],[117,18,125,12],[117,19,125,13,"isRunning"],[117,28,125,22],[117,30,125,24],[118,12,126,6,"logger"],[118,18,126,12],[118,19,126,13,"debug"],[118,24,126,18],[118,25,126,19],[118,69,126,63],[118,70,126,64],[119,12,127,6],[119,19,127,13],[119,29,127,23,"ipAddress"],[119,38,127,32],[119,42,127,36,"PORT"],[119,46,127,40],[119,48,127,42],[120,10,128,4],[122,10,130,4],[124,10,136,4],[124,17,136,11],[124,21,136,15,"Promise"],[124,28,136,22],[124,29,136,23],[124,39,136,24,"resolve"],[124,46,136,31],[124,48,136,33,"reject"],[124,54,136,39],[124,56,136,44],[125,12,137,6],[125,16,137,10],[126,14,138,8],[127,14,139,8],[127,18,139,12],[127,19,139,13,"TcpSocket"],[127,48,139,22],[127,52,139,26],[127,59,139,33,"TcpSocket"],[127,88,139,42],[127,89,139,43,"createServer"],[127,101,139,55],[127,106,139,60],[127,116,139,70],[127,118,139,72],[128,16,140,10,"logger"],[128,22,140,16],[128,23,140,17,"error"],[128,28,140,22],[128,29,140,23],[128,97,140,91],[128,98,140,92],[129,16,141,10,"reject"],[129,22,141,16],[129,23,141,17],[129,27,141,21,"Error"],[129,32,141,26],[129,33,141,27],[129,46,141,40],[129,47,141,41],[129,48,141,42],[130,16,142,10],[131,14,143,8],[133,14,145,8],[134,14,146,8],[134,18,146,12,"_this"],[134,23,146,16],[134,24,146,17,"server"],[134,30,146,23],[134,32,146,25],[135,16,147,10],[135,20,147,14],[136,18,148,12,"_this"],[136,23,148,16],[136,24,148,17,"server"],[136,30,148,23],[136,31,148,24,"close"],[136,36,148,29],[136,37,148,30],[136,38,148,31],[137,16,149,10],[137,17,149,11],[137,18,149,12],[137,25,149,19,"error"],[137,30,149,24],[137,32,149,26],[138,18,150,12,"logger"],[138,24,150,18],[138,25,150,19,"info"],[138,29,150,23],[138,30,150,24],[138,78,150,72],[138,80,150,74,"error"],[138,85,150,79],[138,86,150,80],[139,16,151,10],[140,16,152,10,"_this"],[140,21,152,14],[140,22,152,15,"server"],[140,28,152,21],[140,31,152,24],[140,35,152,28],[141,14,153,8],[143,14,155,8],[144,14,156,8,"_this"],[144,19,156,12],[144,20,156,13,"server"],[144,26,156,19],[144,29,156,22,"TcpSocket"],[144,58,156,31],[144,59,156,32,"createServer"],[144,71,156,44],[144,72,156,45],[144,82,156,46,"socket"],[144,88,156,70],[144,90,156,75],[145,16,157,10,"logger"],[145,22,157,16],[145,23,157,17,"debug"],[145,28,157,22],[145,29,157,23],[145,63,157,57],[145,64,157,58],[146,16,159,10],[146,20,159,14,"requestData"],[146,31,159,25],[146,34,159,28],[146,36,159,30],[147,16,161,10,"socket"],[147,22,161,16],[147,23,161,17,"on"],[147,25,161,19],[147,26,161,20],[147,32,161,26],[148,18,161,26],[148,22,161,26,"_ref3"],[148,27,161,26],[148,34,161,26,"_asyncToGenerator2"],[148,52,161,26],[148,53,161,26,"default"],[148,60,161,26],[148,62,161,28],[148,73,161,35,"data"],[148,77,161,56],[148,79,161,61],[149,20,162,12,"requestData"],[149,31,162,23],[149,35,162,27,"data"],[149,39,162,31],[149,40,162,32,"toString"],[149,48,162,40],[149,49,162,41],[149,50,162,42],[151,20,164,12],[152,20,165,12],[152,24,165,16,"requestData"],[152,35,165,27],[152,36,165,28,"includes"],[152,44,165,36],[152,45,165,37],[152,55,165,47],[152,56,165,48],[152,58,165,50],[153,22,166,14],[153,26,166,18],[154,24,167,16],[154,28,167,22,"request"],[154,36,167,29],[154,39,167,32,"_this"],[154,44,167,36],[154,45,167,37,"parseHttpRequest"],[154,61,167,53],[154,62,167,54,"requestData"],[154,73,167,65],[154,74,167,66],[155,24,168,16],[155,28,168,20,"request"],[155,36,168,27],[155,40,168,31,"_this"],[155,45,168,35],[155,46,168,36,"requestHandler"],[155,60,168,50],[155,62,168,52],[156,26,169,18],[156,30,169,24,"response"],[156,38,169,32],[156,47,169,41,"_this"],[156,52,169,45],[156,53,169,46,"requestHandler"],[156,67,169,60],[156,68,169,61,"request"],[156,76,169,68],[156,77,169,69],[157,26,170,18],[157,30,170,24,"httpResponse"],[157,42,170,36],[157,45,170,39,"_this"],[157,50,170,43],[157,51,170,44,"formatHttpResponse"],[157,69,170,62],[157,70,170,63,"response"],[157,78,170,71],[157,79,170,72],[158,26,171,18,"socket"],[158,32,171,24],[158,33,171,25,"write"],[158,38,171,30],[158,39,171,31,"httpResponse"],[158,51,171,43],[158,52,171,44],[159,24,172,16],[159,25,172,17],[159,31,172,23],[160,26,173,18],[161,26,174,18],[161,30,174,24,"errorResponse"],[161,43,174,37],[161,46,174,40,"_this"],[161,51,174,44],[161,52,174,45,"formatHttpResponse"],[161,70,174,63],[161,71,174,64],[162,28,175,20,"statusCode"],[162,38,175,30],[162,40,175,32],[162,43,175,35],[163,28,176,20,"headers"],[163,35,176,27],[163,37,176,29],[164,30,176,31],[164,44,176,45],[164,46,176,47],[165,28,176,60],[165,29,176,61],[166,28,177,20,"body"],[166,32,177,24],[166,34,177,26],[167,26,178,18],[167,27,178,19],[167,28,178,20],[168,26,179,18,"socket"],[168,32,179,24],[168,33,179,25,"write"],[168,38,179,30],[168,39,179,31,"errorResponse"],[168,52,179,44],[168,53,179,45],[169,24,180,16],[170,22,181,14],[170,23,181,15],[170,24,181,16],[170,31,181,23,"error"],[170,36,181,28],[170,38,181,30],[171,24,182,16,"logger"],[171,30,182,22],[171,31,182,23,"info"],[171,35,182,27],[171,36,182,28],[171,77,182,69],[171,79,182,71,"error"],[171,84,182,76],[171,85,182,77],[172,24,183,16],[172,28,183,22,"errorResponse"],[172,42,183,35],[172,45,183,38,"_this"],[172,50,183,42],[172,51,183,43,"formatHttpResponse"],[172,69,183,61],[172,70,183,62],[173,26,184,18,"statusCode"],[173,36,184,28],[173,38,184,30],[173,41,184,33],[174,26,185,18,"headers"],[174,33,185,25],[174,35,185,27],[175,28,185,29],[175,42,185,43],[175,44,185,45],[176,26,185,58],[176,27,185,59],[177,26,186,18,"body"],[177,30,186,22],[177,32,186,24],[178,24,187,16],[178,25,187,17],[178,26,187,18],[179,24,188,16,"socket"],[179,30,188,22],[179,31,188,23,"write"],[179,36,188,28],[179,37,188,29,"errorResponse"],[179,51,188,42],[179,52,188,43],[180,22,189,14],[181,22,191,14,"socket"],[181,28,191,20],[181,29,191,21,"end"],[181,32,191,24],[181,33,191,25],[181,34,191,26],[182,22,192,14,"requestData"],[182,33,192,25],[182,36,192,28],[182,38,192,30],[183,20,193,12],[184,18,194,10],[184,19,194,11],[185,18,194,11],[185,35,194,11,"_x"],[185,37,194,11],[186,20,194,11],[186,27,194,11,"_ref3"],[186,32,194,11],[186,33,194,11,"apply"],[186,38,194,11],[186,45,194,11,"arguments"],[186,54,194,11],[187,18,194,11],[188,16,194,11],[188,20,194,12],[189,16,196,10,"socket"],[189,22,196,16],[189,23,196,17,"on"],[189,25,196,19],[189,26,196,20],[189,33,196,27],[189,35,196,29],[189,45,196,30,"error"],[189,50,196,42],[189,52,196,47],[190,18,197,12,"logger"],[190,24,197,18],[190,25,197,19,"info"],[190,29,197,23],[190,30,197,24],[190,61,197,55],[190,63,197,57,"error"],[190,68,197,62],[190,69,197,63],[191,16,198,10],[191,17,198,11],[191,18,198,12],[192,16,200,10,"socket"],[192,22,200,16],[192,23,200,17,"on"],[192,25,200,19],[192,26,200,20],[192,33,200,27],[192,35,200,29],[192,47,200,35],[193,18,201,12,"logger"],[193,24,201,18],[193,25,201,19,"debug"],[193,30,201,24],[193,31,201,25],[193,68,201,62],[193,69,201,63],[194,16,202,10],[194,17,202,11],[194,18,202,12],[195,14,203,8],[195,15,203,9],[195,16,203,10],[197,14,205,8],[198,14,206,8],[198,18,206,12],[198,19,206,13,"_this"],[198,24,206,17],[198,25,206,18,"server"],[198,31,206,24],[198,33,206,26],[199,16,207,10,"logger"],[199,22,207,16],[199,23,207,17,"error"],[199,28,207,22],[199,29,207,23],[199,70,207,64],[199,71,207,65],[200,16,208,10,"reject"],[200,22,208,16],[200,23,208,17],[200,27,208,21,"Error"],[200,32,208,26],[200,33,208,27],[200,44,208,38],[200,45,208,39],[200,46,208,40],[201,16,209,10],[202,14,210,8],[204,14,212,8],[205,14,213,8],[205,18,213,12],[205,19,213,13,"_this"],[205,24,213,17],[205,25,213,18,"server"],[205,31,213,24],[205,32,213,25,"listen"],[205,38,213,31],[205,42,213,35],[205,49,213,42,"_this"],[205,54,213,46],[205,55,213,47,"server"],[205,61,213,53],[205,62,213,54,"listen"],[205,68,213,60],[205,73,213,65],[205,83,213,75],[205,85,213,77],[206,16,214,10,"logger"],[206,22,214,16],[206,23,214,17,"error"],[206,28,214,22],[206,29,214,23],[206,102,214,96],[206,103,214,97],[207,16,215,10,"reject"],[207,22,215,16],[207,23,215,17],[207,27,215,21,"Error"],[207,32,215,26],[207,33,215,27],[207,45,215,39],[207,46,215,40],[207,47,215,41],[208,16,216,10],[209,14,217,8],[210,14,219,8,"_this"],[210,19,219,12],[210,20,219,13,"server"],[210,26,219,19],[210,27,219,20,"listen"],[210,33,219,26],[210,34,219,27],[211,16,219,29,"port"],[211,20,219,33],[211,22,219,35,"PORT"],[211,26,219,39],[212,16,219,41,"host"],[212,20,219,45],[212,22,219,47],[213,14,219,57],[213,15,219,58],[213,17,219,60],[213,29,219,66],[214,16,220,10,"logger"],[214,22,220,16],[214,23,220,17,"debug"],[214,28,220,22],[214,29,220,23],[214,68,220,62,"ipAddress"],[214,77,220,71],[214,81,220,75,"PORT"],[214,85,220,79],[214,87,220,81],[214,88,220,82],[215,16,221,10,"_this"],[215,21,221,14],[215,22,221,15,"isRunning"],[215,31,221,24],[215,34,221,27],[215,38,221,31],[216,16,222,10,"resolve"],[216,23,222,17],[216,24,222,18],[216,34,222,28,"ipAddress"],[216,43,222,37],[216,47,222,41,"PORT"],[216,51,222,45],[216,53,222,47],[216,54,222,48],[217,14,223,8],[217,15,223,9],[217,16,223,10],[218,14,225,8,"_this"],[218,19,225,12],[218,20,225,13,"server"],[218,26,225,19],[218,27,225,20,"on"],[218,29,225,22],[218,30,225,23],[218,37,225,30],[218,39,225,32],[218,49,225,33,"error"],[218,54,225,45],[218,56,225,50],[219,16,226,10,"logger"],[219,22,226,16],[219,23,226,17,"info"],[219,27,226,21],[219,28,226,22],[219,59,226,53],[219,61,226,55,"error"],[219,66,226,60],[219,67,226,61],[220,16,227,10,"_this"],[220,21,227,14],[220,22,227,15,"isRunning"],[220,31,227,24],[220,34,227,27],[220,39,227,32],[221,16,228,10],[222,16,229,10],[222,20,229,14,"error"],[222,25,229,19],[222,26,229,20,"message"],[222,33,229,27],[222,37,229,31,"error"],[222,42,229,36],[222,43,229,37,"message"],[222,50,229,44],[222,51,229,45,"includes"],[222,59,229,53],[222,60,229,54],[222,72,229,66],[222,73,229,67],[222,75,229,69],[223,18,230,12,"reject"],[223,24,230,18],[223,25,230,19],[223,29,230,23,"Error"],[223,34,230,28],[223,35,230,29],[223,55,230,49],[223,56,230,50],[223,57,230,51],[224,16,231,10],[224,17,231,11],[224,23,231,17],[225,18,232,12,"reject"],[225,24,232,18],[225,25,232,19,"error"],[225,30,232,24],[225,31,232,25],[226,16,233,10],[227,14,234,8],[227,15,234,9],[227,16,234,10],[228,12,236,6],[228,13,236,7],[228,14,236,8],[228,21,236,15,"error"],[228,26,236,20],[228,28,236,22],[229,14,237,8,"logger"],[229,20,237,14],[229,21,237,15,"info"],[229,25,237,19],[229,26,237,20],[229,67,237,61],[229,69,237,63,"error"],[229,74,237,68],[229,75,237,69],[230,14,238,8,"reject"],[230,20,238,14],[230,21,238,15,"error"],[230,26,238,20],[230,27,238,21],[231,12,239,6],[232,10,240,4],[232,11,240,5],[232,12,240,6],[233,8,241,2],[233,9,241,3],[234,8,241,3],[234,17,102,15,"start"],[234,22,102,20,"start"],[234,23,102,20],[235,10,102,20],[235,17,102,20,"_start"],[235,23,102,20],[235,24,102,20,"apply"],[235,29,102,20],[235,36,102,20,"arguments"],[235,45,102,20],[236,8,102,20],[237,8,102,20],[237,15,102,15,"start"],[237,20,102,20],[238,6,102,20],[239,4,102,20],[240,6,102,20,"key"],[240,9,102,20],[241,6,102,20,"value"],[241,11,102,20],[241,13,243,2],[241,22,243,9,"stop"],[241,26,243,13,"stop"],[241,27,243,13],[241,29,243,16],[242,8,244,4],[242,12,244,8],[243,10,245,6],[243,14,245,10],[243,18,245,14],[243,19,245,15,"server"],[243,25,245,21],[243,27,245,23],[244,12,246,8],[244,16,246,12],[244,17,246,13,"server"],[244,23,246,19],[244,24,246,20,"close"],[244,29,246,25],[244,30,246,26],[244,31,246,27],[245,12,247,8,"logger"],[245,18,247,14],[245,19,247,15,"debug"],[245,24,247,20],[245,25,247,21],[245,57,247,53],[245,58,247,54],[246,10,248,6],[247,8,249,4],[247,9,249,5],[247,10,249,6],[247,17,249,13,"error"],[247,22,249,18],[247,24,249,20],[248,10,250,6,"logger"],[248,16,250,12],[248,17,250,13,"info"],[248,21,250,17],[248,22,250,18],[248,62,250,58],[248,64,250,60,"error"],[248,69,250,65],[248,70,250,66],[249,8,251,4],[249,9,251,5],[249,18,251,14],[250,10,252,6],[250,14,252,10],[250,15,252,11,"isRunning"],[250,24,252,20],[250,27,252,23],[250,32,252,28],[251,10,253,6],[251,14,253,10],[251,15,253,11,"server"],[251,21,253,17],[251,24,253,20],[251,28,253,24],[252,8,254,4],[253,6,255,2],[254,4,255,3],[255,6,255,3,"key"],[255,9,255,3],[256,6,255,3,"value"],[256,11,255,3],[256,13,257,2],[256,22,257,9,"getIsRunning"],[256,34,257,21,"getIsRunning"],[256,35,257,21],[256,37,257,33],[257,8,258,4],[257,15,258,11],[257,19,258,15],[257,20,258,16,"isRunning"],[257,29,258,25],[258,6,259,2],[259,4,259,3],[260,2,259,3],[261,2,259,3],[261,6,259,3,"_default"],[261,14,259,3],[261,17,259,3,"exports"],[261,24,259,3],[261,25,259,3,"default"],[261,32,259,3],[261,35,262,15,"TCPHttpServer"],[261,48,262,28],[262,0,262,28]],"functionMap":{"names":["<global>","TCPHttpServer","TCPHttpServer#constructor","TCPHttpServer#parseHttpRequest","TCPHttpServer#formatHttpResponse","TCPHttpServer#setRequestHandler","TCPHttpServer#start","Promise$argument_0","TcpSocket.createServer$argument_0","socket.on$argument_1","server.listen$argument_1","server.on$argument_1","TCPHttpServer#stop","TCPHttpServer#getIsRunning"],"mappings":"AAA;ACwB;ECK;GDE;EEE;GFmC;EGE;GHyB;EIE;GJE;EKE;uBCkC;6CCoB;4BCK;WDiC;6BCE;WDE;6BCE;WDE;SDC;4DGgB;SHI;gCIE;SJS;KDM;GLC;EWE;GXY;EYE;GZE;CDC"}},"type":"js/module"}]}